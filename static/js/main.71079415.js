/*! For license information please see main.71079415.js.LICENSE.txt */
(()=>{var e={97:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(1632),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),u=o("nodejs.stream.writable"),c=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function y(e){return!(!e||g(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function v(e){return!(!e||g(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function m(e){return!(!e||g(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function b(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!==n&&void 0!==n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!h(e))return null;const r=e._readableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!b(e)&&(h(e)&&e.readable&&!_(e))}function E(e){return e&&null!=e[u]?e[u]:"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!b(e)&&(p(e)&&e.writable&&!w(e))}function A(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function x(e){return"boolean"===typeof e._sent100&&A(e)}e.exports={isDestroyed:b,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,i,o,a,l,u,c,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:S,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!g(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===r||void 0===r?void 0:r.closed)?(null===t||void 0===t?void 0:t.closed)||(null===r||void 0===r?void 0:r.closed):"boolean"===typeof e._closed&&A(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return g(e)?!!b(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!S(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[n]:!1===t?"function"===typeof e[i]:"function"===typeof e[n]||"function"===typeof e[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return y(e)||v(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:v,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:x,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&x(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}},123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordValue=void 0;const n=r(9028);class i extends n.EntryHandlerKeyword{constructor(){super("@value")}async validate(e,t,r,n,i){const o=r[n];return o&&!e.literalStack[n]&&await this.test(e,t,o,r,n)&&(e.literalStack[n]=!0),super.validate(e,t,r,n,i)}async test(e,t,r,n,i){return"@value"===await t.unaliasKeyword(n[i],n.slice(0,n.length-1),i-1,!0)}async handle(e,t,r,n,i,o){e.literalStack[o]=!0,delete e.unidentifiedValuesBuffer[o],delete e.unidentifiedGraphsBuffer[o],e.emittedStack[o]=!1}}t.EntryHandlerKeywordValue=i},269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextTree=void 0;class r{constructor(){this.subTrees={}}getContext(e){if(e.length>0){const[t,...r]=e,n=this.subTrees[t];if(n){const e=n.getContext(r);if(e)return e.then((e=>{let{context:t,depth:r}=e;return{context:t,depth:r+1}}))}}return this.context?this.context.then((e=>({context:e,depth:0}))):null}setContext(e,t){if(0===e.length)this.context=t;else{const[n,...i]=e;let o=this.subTrees[n];o||(o=this.subTrees[n]=new r),o.setContext(i,t)}}removeContext(e){this.setContext(e,null)}}t.ContextTree=r},334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(2930)),i=o(r(8494));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},410:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(3641).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=r(7045),{validateAbortSignal:u,validateInteger:c,validateObject:d}=r(2099),f=r(1632).Symbol("kWeak"),h=r(1632).Symbol("kResistStopPropagation"),{finished:p}=r(7964),g=r(504),{addAbortSignalNoValidate:y}=r(9569),{isWritable:v,isNodeStream:m}=r(97),{deprecate:b}=r(6854),{ArrayPrototypePush:w,Boolean:_,MathFloor:S,Number:E,NumberIsNaN:A,Promise:x,PromiseReject:R,PromiseResolve:k,PromisePrototypeThen:I,Symbol:C}=r(1632),T=C("kEmpty"),P=C("kEof");function O(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=S(t.concurrency));let i=n-1;return null!=(null===t||void 0===t?void 0:t.highWaterMark)&&(i=S(t.highWaterMark)),c(n,"options.concurrency",1),c(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(6854).AbortSignalAny([null===t||void 0===t?void 0:t.signal].filter(_)),a=this,s=[],u={signal:o};let c,d,f=!1,h=0;function p(){f=!0,g()}function g(){h-=1,y()}function y(){d&&!f&&h<n&&s.length<i&&(d(),d=null)}!async function(){try{for await(let r of a){if(f)return;if(o.aborted)throw new l;try{if(r=e(r,u),r===T)continue;r=k(r)}catch(t){r=R(t)}h+=1,I(r,g,p),s.push(r),c&&(c(),c=null),!f&&(s.length>=i||h>=n)&&await new x((e=>{d=e}))}s.push(P)}catch(t){const e=R(t);I(e,g,p),s.push(e)}finally{f=!0,c&&(c(),c=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===P)return;if(o.aborted)throw new l;e!==T&&(yield e),s.shift(),y()}await new x((e=>{c=e}))}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const r of F.call(this,e,t))return!0;return!1}function F(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return O.call(this,(async function(t,r){return await e(t,r)?t:T}),t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=E(e),A(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:b((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&d(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!==e&&void 0!==e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const i of this){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield i)}}.call(this)},filter:F,flatMap:function(e,t){const r=O.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:O,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const i of this){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield i),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),m(e)&&!v(e))throw new i("stream",e,"must be writable");const r=g(this,e);return null!==t&&void 0!==t&&t.signal&&y(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await N.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of O.call(this,(async function(t,r){return await e(t,r),T}),t));},reduce:async function(e,t,r){var i;if("function"!==typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null===r||void 0===r?void 0:r.signal)&&u(r.signal,"options.signal");let a=arguments.length>1;if(null!==r&&void 0!==r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(e)),e}const s=new n,c=s.signal;if(null!==r&&void 0!==r&&r.signal){const e={once:!0,[f]:this,[h]:!0};r.signal.addEventListener("abort",(()=>s.abort()),e)}let g=!1;try{for await(const n of this){var y;if(g=!0,null!==r&&void 0!==r&&null!==(y=r.signal)&&void 0!==y&&y.aborted)throw new l;a?t=await e(t,n,{signal:c}):(t=n,a=!0)}if(!g&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!==e&&void 0!==e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,n)}return t},some:N,find:async function(e,t){for await(const r of F.call(this,e,t))return r}}},418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CordovaIFrameNavigator:()=>n.CordovaIFrameNavigator,CordovaPopupNavigator:()=>n.CordovaPopupNavigator,InMemoryWebStorage:()=>n.InMemoryWebStorage,Log:()=>n.Log,OidcClient:()=>n.OidcClient,SessionMonitor:()=>n.SessionMonitor,User:()=>n.User,UserManager:()=>n.UserManager,Version:()=>n.Version,WebStorageStateStore:()=>n.WebStorageStateStore,clearOidcPersistentStorage:()=>j,getBearerToken:()=>P,getDpopToken:()=>O,normalizeCallbackUrl:()=>D,refresh:()=>F,registerClient:()=>k});var n=r(6891);r(7284),globalThis.fetch;const{fetch:i,Response:o,Request:a,Headers:s}=globalThis;var l=r(4697),u=r(8835),c=r(785),d=r(2052),f=r(7885);const h={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const g=new Uint8Array(16);function y(){if(!p&&(p="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(g)}const v=[];for(let L=0;L<256;++L)v.push((L+256).toString(16).slice(1));function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]}const b=function(e,t,r){if(h.randomUUID&&!t&&!e)return h.randomUUID();const n=(e=e||{}).random||(e.rng||y)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return m(n)},w=["ES256","RS256"],_=["openid","offline_access","webid"].join(" ");async function S(e,t,r,n){const o=await async function(e,t){const r=await i.call(globalThis,e);if(200!==r.status)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${r.status} ${r.statusText}`);let n;try{n=(await r.json()).keys[0]}catch(o){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${o.message}`)}return n}(t,r);let a;try{const{payload:t}=await(0,l.V)(e,await(0,u.Og)(o),{issuer:r,audience:n});a=t}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if("string"===typeof a.webid)return a.webid;if("string"!==typeof a.sub)throw new Error(`The token ${JSON.stringify(a)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(a.sub),a.sub}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${a.sub}] is invalid as a URL - error [${s}].`)}}Error;Error;class E extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class A extends Error{constructor(e,t,r){super(e),this.error=t,this.errorDescription=r}}function x(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function R(e,t,r){return new c.P({htu:x(e),htm:t.toUpperCase(),jti:b()}).setProtectedHeader({alg:w[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function k(e,t){var r;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=function(e,t){var r;return null!==(r=t.find((t=>e.includes(t))))&&void 0!==r?r:null}(t.idTokenSigningAlgValuesSupported,w),i={client_name:e.clientName,application_type:"web",redirect_uris:[null===(r=e.redirectUrl)||void 0===r?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(o.ok){const t=await o.json();return function(e,t){if(void 0===e.client_id)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}(t,e),{clientId:t.client_id,clientSecret:t.client_secret,idTokenSignedResponseAlg:t.id_token_signed_response_alg,clientType:"dynamic"}}throw 400===o.status&&function(e,t){var r,n,i,o;if("invalid_redirect_uri"===e.error)throw new Error(`Dynamic client registration failed: the provided redirect uri [${null===(r=t.redirectUrl)||void 0===r?void 0:r.toString()}] is invalid - ${null!==(n=e.error_description)&&void 0!==n?n:""}`);if("invalid_client_metadata"===e.error)throw new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${null!==(i=e.error_description)&&void 0!==i?i:""}`);throw new Error(`Dynamic client registration failed: ${e.error} - ${null!==(o=e.error_description)&&void 0!==o?o:""}`)}(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function I(e){return void 0!==e.error_description&&"string"===typeof e.error_description}function C(e,t){if(void 0!==(r=e).error&&"string"===typeof r.error)throw new A(`Token endpoint returned error [${e.error}]${I(e)?`: ${e.error_description}`:""}${function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?` (see ${e.error_uri})`:""}`,e.error,I(e)?e.error_description:void 0);var r;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new E(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new E(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new E(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new E(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function T(e,t,r,n){!function(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}(e,r);const o={"content-type":"application/x-www-form-urlencoded"};let a;n&&(a=await async function(){const{privateKey:e,publicKey:t}=await(0,d.T)(w[0]),r={privateKey:e,publicKey:await(0,f.JU)(t)};return[r.publicKey.alg]=w,r}(),o.DPoP=await R(e.tokenEndpoint,"POST",a)),t.clientSecret&&(o.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const s={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:t.clientId},l={method:"POST",headers:o,body:new URLSearchParams(s).toString()},u=await i(e.tokenEndpoint,l),c=C(await u.json(),n),h=await S(c.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:(p=c,void 0!==p.refresh_token&&"string"===typeof p.refresh_token?c.refresh_token:void 0),webId:h,dpopKey:a,expiresIn:c.expires_in};var p}async function P(e){let t;try{const r=new n.OidcClient({response_mode:"query",loadUserInfo:!1});if(t=await r.processSigninResponse(e),void 0===r.settings.metadata)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(void 0===r.settings.metadata.jwks_uri)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(void 0===r.settings.metadata.issuer)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(void 0===r.settings.client_id)throw new Error("Missing some client information in storage: 'client_id' is undefined");const i=await S(t.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);return{accessToken:t.access_token,idToken:t.id_token,webId:i,refreshToken:t.refresh_token}}catch(r){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${e}]: ${r}`)}}async function O(e,t,r){return T(e,t,r,!0)}const N=e=>{try{return new URL(e),!0}catch(t){return!1}};async function F(e,t,r,n){if(void 0===r.clientId)throw new Error("No client ID available when trying to refresh the access token.");const o={grant_type:"refresh_token",refresh_token:e,scope:_};let a={};void 0!==n&&(a={DPoP:await R(t.tokenEndpoint,"POST",n)});let s={};void 0!==r.clientSecret?s={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:N(r.clientId)&&(o.client_id=r.clientId);const l=await i(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(o).toString(),headers:{...a,...s,"Content-Type":"application/x-www-form-urlencoded"}});let u;try{u=await l.json()}catch(f){throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=C(u,void 0!==n),d=await S(c.id_token,t.jwksUri,t.issuer,r.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:"string"===typeof c.refresh_token?c.refresh_token:void 0,webId:d,dpopKey:n,expiresIn:c.expires_in}}function D(e){const t=function(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function j(){const e=new n.OidcClient({response_mode:"query"});await e.clearStaleState(new n.WebStorageStateStore({}));const t=window.localStorage,r=[];for(let n=0;n<=t.length;n+=1){const e=t.key(n);e&&(e.match(/^oidc\..+$/)||e.match(/^solidClientAuthenticationUser:.+$/))&&r.push(e)}r.forEach((e=>t.removeItem(e)))}},449:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,g:()=>o});var n=r(7692);const i=e=>(0,n.R)(e),o=["CryptoKey"]},471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const n=r(7323),i=r(2238),o=r(9051);t.JsonLdContextNormalized=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultExpandOptions;const s=this.contextRaw[e];if(null===s||s&&null===s["@id"])return null;let l=!0;if(s&&r){const t=o.Util.getContextValueId(s);if(t&&t!==e){if("string"===typeof t&&(o.Util.isValidIri(t)||o.Util.isValidKeyword(t)))return t;o.Util.isPotentialKeyword(t)||(l=!1)}}const u=o.Util.getPrefix(e,this.contextRaw),c=this.contextRaw["@vocab"],d=(!!c||""===c)&&c.indexOf(":")<0,f=this.contextRaw["@base"],h=o.Util.isPotentialKeyword(e);if(u){const t=this.contextRaw[u],r=o.Util.getContextValueId(t);if(r){if("string"!==typeof t&&a.allowPrefixForcing){if("_"!==r[0]&&!h&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!o.Util.isSimpleTermDefinitionPrefix(r,a))return e;return r+e.substr(u.length+1)}}else{if(r&&(c||""===c||a.allowVocabRelativeToBase&&f&&d)&&!h&&!o.Util.isCompactIri(e)){if(d){if(a.allowVocabRelativeToBase)return(c||f?(0,n.resolve)(c,f):"")+e;throw new i.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${c}' is not allowed.`,i.ERROR_CODES.INVALID_VOCAB_MAPPING)}return c+e}if(!r&&f&&!h&&!o.Util.isCompactIri(e))return(0,n.resolve)(e,f)}if(l)return e;throw new i.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!o.Util.isPotentialKeyword(n)){const a=o.Util.getContextValueId(i);if(e.startsWith(a)){const i=e.substr(a.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}},t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},504:(e,t,r)=>{"use strict";const{pipeline:n}=r(9872),i=r(1256),{destroyer:o}=r(7958),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:u,isTransformStream:c,isWritableStream:d,isReadableStream:f}=r(97),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(7045),y=r(7964);e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new g("streams");if(1===t.length)return i.from(t[0]);const v=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let n=0;n<t.length;++n)if(a(t[n])||u(t[n])){if(n<t.length-1&&!(s(t[n])||f(t[n])||c(t[n])))throw new p(`streams[${n}]`,v[n],"must be readable");if(n>0&&!(l(t[n])||d(t[n])||c(t[n])))throw new p(`streams[${n}]`,v[n],"must be writable")}let m,b,w,_,S;const E=t[0],A=n(t,(function(e){const t=_;_=null,t?t(e):e?S.destroy(e):R||x||S.destroy()})),x=!!(l(E)||d(E)||c(E)),R=!!(s(A)||f(A)||c(A));if(S=new i({writableObjectMode:!(null===E||void 0===E||!E.writableObjectMode),readableObjectMode:!(null===A||void 0===A||!A.readableObjectMode),writable:x,readable:R}),x){if(a(E))S._write=function(e,t,r){E.write(e,t)?r():m=r},S._final=function(e){E.end(),b=e},E.on("drain",(function(){if(m){const e=m;m=null,e()}}));else if(u(E)){const e=(c(E)?E.writable:E).getWriter();S._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(i){n(i)}},S._final=async function(t){try{await e.ready,e.close().catch((()=>{})),b=t}catch(r){t(r)}}}const e=c(A)?A.readable:A;y(e,(()=>{if(b){const e=b;b=null,e()}}))}if(R)if(a(A))A.on("readable",(function(){if(w){const e=w;w=null,e()}})),A.on("end",(function(){S.push(null)})),S._read=function(){for(;;){const e=A.read();if(null===e)return void(w=S._read);if(!S.push(e))return}};else if(u(A)){const e=(c(A)?A.readable:A).getReader();S._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!S.push(t))return;if(r)return void S.push(null)}catch{return}}}return S._destroy=function(e,t){e||null===_||(e=new h),w=null,m=null,b=null,null===_?t(e):(_=t,a(A)&&o(A,e))},S}},523:(e,t,r)=>{"use strict";var n=r(6274),i=r(6272),o=r(7284),a=r(418),s=r(4275);class l extends n.StorageUtility{constructor(e,t){super(e,t)}}class u extends n.ClientAuthentication{constructor(){super(...arguments),this.login=async(e,t)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const o=null!==(r=e.redirectUrl)&&void 0!==r?r:a.normalizeCallbackUrl(window.location.href);if(!n.isValidRedirectUrl(o))throw new Error(`${o} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:o,clientName:null!==(i=e.clientName)&&void 0!==i?i:e.clientId,eventEmitter:t})},this.validateCurrentSession=async e=>{const t=await this.sessionInfoManager.get(e);return void 0===t||void 0===t.clientAppId||void 0===t.issuer?null:t},this.handleIncomingRedirect=async(e,t)=>{try{const r=await this.redirectHandler.handle(e,t);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate}}catch(r){return await this.cleanUrlAfterRedirect(e),void t.emit(n.EVENTS.ERROR,"redirect",r)}}}async cleanUrlAfterRedirect(e){const t=n.removeOpenIdParams(e).href;for(window.history.replaceState(null,"",t);window.location.href!==t;)await new Promise((e=>{setTimeout((()=>e()),1)}))}}function c(e){return"string"===typeof e.oidcIssuer}function d(e){return"string"===typeof e.redirectUrl}class f{constructor(e,t,r,n){this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=n}async canHandle(e){return c(e)&&d(e)}async handle(e){if(!c(e))throw new n.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!d(e))throw new n.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const t=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await n.handleRegistration(e,t,this.storageUtility,this.clientRegistrar),i={issuer:t.issuer,dpop:"dpop"===e.tokenType.toLowerCase(),...e,issuerConfiguration:t,client:r};return this.oidcHandler.handle(i)}}class h extends n.AuthorizationCodeWithPkceOidcHandlerBase{async handle(e){var t;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl.toString(),post_logout_redirect_uri:e.redirectUrl.toString(),response_type:"code",scope:n.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(t=e.prompt)&&void 0!==t?t:"consent"},i=new a.OidcClient(r);try{const t=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:t.state._id,codeVerifier:t.state._code_verifier,targetUrl:t.url.toString()})}catch(o){console.error(o)}}}const p={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};class g{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let t;const r=new URL(".well-known/openid-configuration",e.endsWith("/")?e:`${e}/`).href,i=await s.fetch.call(globalThis,r);try{t=function(e){const t={};return Object.keys(e).forEach((r=>{p[r]&&(t[p[r].toKey]=e[r])})),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}(await i.json())}catch(o){throw new n.ConfigurationError(`[${e.toString()}] has an invalid configuration: ${o.message}`)}return await this.storageUtility.set(g.getLocalStorageKey(e),JSON.stringify(t)),t}}class y extends n.SessionInfoManagerBase{async get(e){const[t,r,i,o,a,s,l,u]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if("string"!==typeof a||n.isValidRedirectUrl(a)){if(void 0!==u&&!n.isSupportedTokenType(u))throw new Error(`Tokens of type [${u}] are not supported.`);if(void 0!==i||void 0!==t||void 0!==r||void 0!==s)return{sessionId:e,webId:r,isLoggedIn:"true"===t,redirectUrl:a,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:o,tokenType:null!==u&&void 0!==u?u:"DPoP"}}else await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})])}async clear(e){return async function(e,t){await n.clear(e,t),await a.clearOidcPersistentStorage()}(e,this.storageUtility)}}class v{async canHandle(e){try{return new URL(e),!0}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e){return n.getUnauthenticatedSession()}}const m=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s.fetch.call(globalThis,...t)};class b{constructor(e,t,r,n,i){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=i,this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=n,this.tokerRefresher=i}async canHandle(e){try{const t=new URL(e);return null!==t.searchParams.get("code")&&null!==t.searchParams.get("state")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),o=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:l,redirectUrl:u,dpop:c}=await n.loadOidcContextFromStorage(o,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if("string"===typeof d&&d!==s.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(void 0===l)throw new Error(`The code verifier for session ${o} is missing from storage.`);if(void 0===u)throw new Error(`The redirect URL for session ${o} is missing from storage.`);const f=await this.clientRegistrar.getClient({sessionId:o},s);let h;const p=Date.now();let g;c?(h=await a.getDpopToken(s,f,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:l,redirectUrl:u}),window.localStorage.removeItem(`oidc.${i}`)):h=await a.getBearerToken(r.toString()),void 0!==h.refreshToken&&(g={sessionId:o,refreshToken:h.refreshToken,tokenRefresher:this.tokerRefresher});const y=await n.buildAuthenticatedFetch(m,h.accessToken,{dpopKey:h.dpopKey,refreshOptions:g,eventEmitter:t,expiresIn:h.expiresIn});await this.storageUtility.setForUser(o,{webId:h.webId,isLoggedIn:"true"},{secure:!0});const v=await this.sessionInfoManager.get(o);if(!v)throw new Error(`Could not retrieve session: [${o}].`);return Object.assign(v,{fetch:y,getLogoutUrl:n.maybeBuildRpInitiatedLogout({idTokenHint:h.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:"number"===typeof h.expiresIn?p+1e3*h.expiresIn:void 0})}}class w extends n.AggregateHandler{constructor(e){super(e)}}class _{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,t){this.storage.setItem(e,t)}async delete(e){this.storage.removeItem(e)}}class S{redirect(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class E{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,t){const[r,n]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1})]);if(r)return{clientId:r,clientSecret:n,clientType:"dynamic"};try{const r=await a.registerClient(e,t),n={clientId:r.clientId};return r.clientSecret&&(n.clientSecret=r.clientSecret),r.idTokenSignedResponseAlg&&(n.idTokenSignedResponseAlg=r.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,n,{secure:!1}),r}catch(i){throw new Error(`Client registration failed: [${i}]`)}}}class A{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}}async handle(e,t){if(void 0!==t){const r=new URL(e),i=r.searchParams.get("error"),o=r.searchParams.get("error_description");t.emit(n.EVENTS.ERROR,i,o)}return n.getUnauthenticatedSession()}}class x{constructor(e,t,r){this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r}async refresh(e,t,r,i){const o=await n.loadOidcContextFromStorage(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},o.issuerConfig);if(void 0===t)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(o.dpop&&void 0===r)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const l=await a.refresh(t,o.issuerConfig,s,r);return void 0!==l.refreshToken&&(null===i||void 0===i||i.emit(n.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),await this.storageUtility.setForUser(e,{refreshToken:l.refreshToken})),l}}function R(e){const t=new n.InMemoryStorage,r=e.secureStorage||t,i=e.insecureStorage||new _,o=new l(r,i),a=new g(o),s=new E(o),c=new y(o),d=new x(o,a,s),p=new S,m=new f(o,new h(o,p),a,s),R=new w([new A,new b(o,c,a,s,d),new v]);return new u(m,R,new n.IWaterfallLogoutHandler(c,p),c,a)}const k=`${n.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,I=`${n.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;class C extends o{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(),e=this,this.tokenRequestInProgress=!1,this.login=async e=>{var t;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:null!==(t=e.tokenType)&&void 0!==t?t:"DPoP"},this.events),new Promise((()=>{}))},this.fetch=(e,t)=>this.clientAuthentication.fetch(e,t),this.internalLogout=async(e,t)=>{window.localStorage.removeItem(k),await this.clientAuthentication.logout(this.info.sessionId,t),this.info.isLoggedIn=!1,e&&this.events.emit(n.EVENTS.LOGOUT)},this.logout=async e=>this.internalLogout(!0,e),this.handleIncomingRedirect=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;if(e.info.isLoggedIn)return e.info;if(e.tokenRequestInProgress)return;const i="string"===typeof t?{url:t}:t,o=null!==(r=i.url)&&void 0!==r?r:window.location.href;e.tokenRequestInProgress=!0;const a=await e.clientAuthentication.handleIncomingRedirect(o,e.events);if(function(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}(a)){e.setSessionInfo(a);const t=window.localStorage.getItem(I);null===t?e.events.emit(n.EVENTS.LOGIN):(window.localStorage.removeItem(I),e.events.emit(n.EVENTS.SESSION_RESTORED,t))}else if(!0===i.restorePreviousSession){const t=window.localStorage.getItem(k);if(null!==t){const r=await async function(e,t,r){var n;const i=await t.validateCurrentSession(e);return null!==i&&(window.localStorage.setItem(I,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:null!==(n=i.tokenType)&&void 0!==n?n:"DPoP"},r.events),!0)}(t,e.clientAuthentication,e);if(r)return new Promise((()=>{}))}}return e.tokenRequestInProgress=!1,a},this.events=new Proxy(this,n.buildProxyHandler(C.prototype,"events only implements ISessionEventListener")),t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=R({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=R({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId}:this.info={sessionId:null!==r&&void 0!==r?r:i.v4(),isLoggedIn:!1},this.events.on(n.EVENTS.LOGIN,(()=>window.localStorage.setItem(k,this.info.sessionId))),this.events.on(n.EVENTS.SESSION_EXPIRED,(()=>this.internalLogout(!1))),this.events.on(n.EVENTS.ERROR,(()=>this.internalLogout(!1)))}onLogin(e){this.events.on(n.EVENTS.LOGIN,e)}onLogout(e){this.events.on(n.EVENTS.LOGOUT,e)}onError(e){this.events.on(n.EVENTS.ERROR,e)}onSessionRestore(e){this.events.on(n.EVENTS.SESSION_RESTORED,e)}onSessionExpiration(e){this.events.on(n.EVENTS.SESSION_EXPIRED,e)}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.events.on(n.EVENTS.SESSION_EXTENDED,(e=>{this.info.expirationDate=Date.now()+1e3*e}))}}let T;function P(){return"undefined"===typeof T&&(T=new C),T}Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return n.ConfigurationError}}),Object.defineProperty(t,"EVENTS",{enumerable:!0,get:function(){return n.EVENTS}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return n.InMemoryStorage}}),Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return n.NotImplementedError}}),t.Session=C,t.events=()=>P().events,t.fetch=function(){return P().fetch(...arguments)},t.getClientAuthenticationWithDependencies=R,t.getDefaultSession=P,t.handleIncomingRedirect=function(){return P().handleIncomingRedirect(...arguments)},t.login=function(){return P().login(...arguments)},t.logout=function(){return P().logout(...arguments)},t.onLogin=function(){return P().onLogin(...arguments)},t.onLogout=function(){return P().onLogout(...arguments)},t.onSessionRestore=function(){return P().onSessionRestore(...arguments)}},549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},579:(e,t,r)=>{"use strict";e.exports=r(2799)},598:(e,t,r)=>{const n=r(9218),i=r(4689),o=r(1164),a=r(2187),s=r(3381),l=r(2033),u=r(8297);const c={namedNode:function(e){return new s(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,c.namedNode(t)):new a(e,null,t)},variable:function(e){return new u(e)},defaultGraph:function(){return c.defaultGraphInstance},triple:function(e,t,r){return c.quad(e,t,r)},quad:function(e,t,r,n){return new l(e,t,r,n||c.defaultGraphInstance)},fromTerm:function(e){return o.call(c,e)},fromQuad:function(e){return o.call(c,e)},defaultGraphInstance:new i};e.exports=c},650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9225)),i=o(r(3082));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordGraph=void 0;const n=r(9028);class i extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,t,r,n,i,o){e.graphStack[o+1]=!0}}t.EntryHandlerKeywordGraph=i},731:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(4990),{EventEmitter:o}=r(7284);function a(e){o.call(this,e)}function s(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",u));let a=!1;function l(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",c),s(e,"error",c),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},785:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(5416),i=r(2142),o=r(2510),a=r(9454);class s extends a.G{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const a=new n.T(o.Rd.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return a.sign(e,t)}}},885:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.filter(Boolean);if(0===n.length||1===n.length)return!0;let i;for(const o of n){const e=Object.keys(o);if(i&&0!==i.size)for(const t of e){if(i.has(t))return!1;i.add(t)}else i=new Set(e)}return!0}},1053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdParser=void 0;const n=r(5811),i=r(7139),o=r(6534),a=r(3061),s=r(8004),l=r(3690),u=r(1490),c=r(6169),d=r(678),f=r(6661),h=r(3512),p=r(5558),g=r(4428),y=r(9822),v=r(123),m=r(2019),b=r(6016),w=r(6915),_=r(7761);class S extends o.Transform{constructor(e){super({readableObjectMode:!0}),e=e||{},this.options=e,this.parsingContext=new m.ParsingContext(Object.assign({parser:this},e)),this.util=new b.Util({dataFactory:e.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",(()=>{"undefined"!==typeof this.jsonParser.mode&&this.emit("error",new Error("Unclosed document"))}))}static fromHttpResponse(e,t,r,n){let o,a,s=["application/activity+json"];if(n&&n.wellKnownMediaTypes&&(s=n.wellKnownMediaTypes),"application/ld+json"!==t&&!s.includes(t)){if("application/json"!==t&&!t.endsWith("+json"))throw new i.ErrorCoded(`Unsupported JSON-LD media type ${t}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(r&&r.has("Link")&&r.forEach(((t,r)=>{if("link"===r){const r=(0,w.parse)(t);for(const t of r.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new i.ErrorCoded("Multiple JSON-LD context link headers were found on "+e,i.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=t.uri}}})),!o&&!(null===n||void 0===n?void 0:n.ignoreMissingContextLinkHeader))throw new i.ErrorCoded(`Missing context link header for media type ${t} on ${e}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(r&&r.has("Content-Type")){const e=r.get("Content-Type"),t=/; *profile=([^"]*)/.exec(e);t&&"http://www.w3.org/ns/json-ld#streaming"===t[1]&&(a=!0)}return new S(Object.assign({baseIRI:e,context:o,streamingProfile:a},n||{}))}import(e){if("pipe"in e){e.on("error",(e=>t.emit("error",e)));const t=e.pipe(new S(this.options));return t}{const t=new o.PassThrough({readableObjectMode:!0});e.on("error",(e=>r.emit("error",e))),e.on("data",(e=>t.push(e))),e.on("end",(()=>t.push(null)));const r=t.pipe(new S(this.options));return r}}_transform(e,t,r){this.jsonParser.write(e),this.lastOnValueJob.then((()=>r()),(e=>r(e)))}async newOnValueJob(e,t,r,n){let o=!0;if(n&&r<this.lastDepth){const e=this.parsingContext.listPointerStack[this.lastDepth];e&&(e.value&&this.push(this.util.dataFactory.quad(e.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),e.listId.listHead=!0,this.parsingContext.idStack[e.listRootDepth+1]=[e.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await s.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const a=await this.util.unaliasKeyword(e[r],e,r),l=await this.util.unaliasKeywordParent(e,r);this.parsingContext.emittedStack[r]=!0;let u=!0;i.Util.isValidKeyword(a)&&"@reverse"===l&&"@context"!==a&&this.emit("error",new i.ErrorCoded(`Found the @id '${t}' inside an @reverse property`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let c=!1;this.parsingContext.validationStack.length>1&&(c=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let i=Math.max(1,this.parsingContext.validationStack.length-1);i<e.length-1;i++){const t=this.parsingContext.validationStack[i]||(this.parsingContext.validationStack[i]=await this.validateKey(e.slice(0,i+1),i,c));if(!t.valid){this.parsingContext.emittedStack[r]=!1,u=!1;break}!c&&t.property&&(c=!0)}if(await this.util.isLiteral(e,r)&&(u=!1),u)for(const i of S.ENTRY_HANDLERS){const n=await i.test(this.parsingContext,this.util,a,e,r);if(n){await i.handle(this.parsingContext,this.util,a,e,t,r,n),i.isStackProcessor()&&(this.parsingContext.processingStack[r]=!0);break}}0===r&&Array.isArray(t)&&await this.util.validateValueIndexes(t),o&&r<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=r,this.lastKeys=e,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)}flushStacks(e){this.parsingContext.processingStack.splice(e,1),this.parsingContext.processingType.splice(e,1),this.parsingContext.emittedStack.splice(e,1),this.parsingContext.idStack.splice(e,1),this.parsingContext.graphStack.splice(e+1,1),this.parsingContext.graphContainerTermStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1),this.parsingContext.validationStack.splice(e-1,2),this.parsingContext.literalStack.splice(e,this.parsingContext.literalStack.length-e),this.parsingContext.annotationsBuffer.splice(e,1)}async flushBuffer(e,t){let r=this.parsingContext.idStack[e];!!r||(r=this.parsingContext.idStack[e]=[this.util.dataFactory.blankNode()]);const n=this.parsingContext.unidentifiedValuesBuffer[e];if(n){for(const i of r){const r=await this.util.getDepthOffsetGraph(e,t),o=this.parsingContext.graphStack[e]||r>=0?this.parsingContext.idStack[e-r-1]:[await this.util.getGraphContainerValue(t,e)];if(o)for(const t of o){this.parsingContext.emittedStack[e]=!0;for(const r of n)this.util.emitQuadChecked(e,i,r.predicate,r.object,t,r.reverse,r.isEmbedded)}else{const r=this.parsingContext.getUnidentifiedGraphBufferSafe(e-await this.util.getDepthOffsetGraph(e,t)-1);for(const e of n)e.reverse?r.push({object:i,predicate:e.predicate,subject:e.object,isEmbedded:e.isEmbedded}):r.push({object:e.object,predicate:e.predicate,subject:i,isEmbedded:e.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(e,1),this.parsingContext.literalStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1)}const o=this.parsingContext.unidentifiedGraphsBuffer[e];if(o){for(const t of r){const r=1!==e||"BlankNode"!==t.termType||this.parsingContext.topLevelProperties?t:this.util.getDefaultGraph();this.parsingContext.emittedStack[e]=!0;for(const t of o)this.parsingContext.emitQuad(e,this.util.dataFactory.quad(t.subject,t.predicate,t.object,r))}this.parsingContext.unidentifiedGraphsBuffer.splice(e,1)}const a=this.parsingContext.annotationsBuffer[e];if(a){a.length>0&&1===e&&this.parsingContext.emitError(new i.ErrorCoded("Annotations can not be made on top-level nodes",i.ERROR_CODES.INVALID_ANNOTATION));const t=this.parsingContext.getAnnotationsBufferSafe(e-1);for(const e of a)t.push(e);delete this.parsingContext.annotationsBuffer[e]}}async validateKey(e,t,r){for(const n of S.ENTRY_HANDLERS)if(await n.validate(this.parsingContext,this.util,e,t,r))return{valid:!0,property:r||n.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=e=>{const t=this.jsonParser.stack.length,r=new Array(t+1).fill(0).map(((e,r)=>r===t?this.jsonParser.key:this.jsonParser.stack[r].key));if(!this.isParsingContextInner(t)){const n=()=>this.newOnValueJob(r,e,t,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(r.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(n);else if("@context"===r[t]){let e=this.contextJobs[t];e||(e=this.contextJobs[t]=[]),e.push(n)}else this.contextAwaitingJobs.push({job:n,keys:r,depth:t});this.parsingContext.streamingProfile||0!==t||(this.lastOnValueJob=this.lastOnValueJob.then((()=>this.executeBufferedJobs())))}},this.jsonParser.onError=e=>{this.emit("error",e)}}isParsingContextInner(e){for(let t=e;t>0;t--)if("@context"===this.jsonParser.stack[t-1].key)return!0;return!1}async executeBufferedJobs(){for(const t of this.contextJobs)if(t)for(const e of t)await e();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const e=[];for(const t of this.contextAwaitingJobs)"@type"===await this.util.unaliasKeyword(t.keys[t.depth],t.keys,t.depth,!0)||"number"===typeof t.keys[t.depth]&&"@type"===await this.util.unaliasKeyword(t.keys[t.depth-1],t.keys,t.depth-1,!0)?this.typeJobs.push({job:t.job,keys:t.keys.slice(0,t.keys.length-1)}):e.push(t);for(const t of e){if(this.typeJobs.length>0){const e=[],r=[];for(let o=0;o<this.typeJobs.length;o++){const n=this.typeJobs[o];b.Util.isPrefixArray(n.keys,t.keys)&&(e.push(n),r.push(o))}const n=e.sort(((e,t)=>e.keys.length-t.keys.length));for(const t of n)await t.job();const i=r.sort().reverse();for(const t of i)this.typeJobs.splice(t,1)}await t.job()}}}S.DEFAULT_PROCESSING_MODE="1.1",S.ENTRY_HANDLERS=[new a.EntryHandlerArrayValue,new c.EntryHandlerKeywordContext,new f.EntryHandlerKeywordId,new h.EntryHandlerKeywordIncluded,new d.EntryHandlerKeywordGraph,new p.EntryHandlerKeywordNest,new g.EntryHandlerKeywordType,new v.EntryHandlerKeywordValue,new _.EntryHandlerKeywordAnnotation,new s.EntryHandlerContainer,new y.EntryHandlerKeywordUnknownFallback,new u.EntryHandlerPredicate,new l.EntryHandlerInvalidFallback],t.JsonLdParser=S},1092:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(4990);e.exports=o;const i=r(7518);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},1164:e=>{e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){const t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,r,n,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}},1168:(e,t,r)=>{"use strict";const n=r(2285),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(3995),{Symbol:s}=r(4990),{kIsDestroyed:l,isDestroyed:u,isFinished:c,isServerRequest:d}=r(7787),f=s("kDestroy"),h=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(v,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function y(e,t){m(e,t),v(e)}function v(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==r&&void 0!==r&&r.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function m(e,t){const r=e._readableState,n=e._writableState;null!==n&&void 0!==n&&n.errorEmitted||null!==r&&void 0!==r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,r){const i=e._readableState,o=e._writableState;if(null!==o&&void 0!==o&&o.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==o&&void 0!==o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(m,e,t):m(e,t))}function w(e){let t=!1;function r(r){if(t)return void b(e,null!==r&&void 0!==r?r:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,r):r?b(e,r,!0):n.nextTick(_,e)}try{e._construct((e=>{n.nextTick(r,e)}))}catch(i){n.nextTick(r,i)}}function _(e){e.emit(h)}function S(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function E(e){e.emit("close")}function A(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||c(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?n.nextTick(A,e,t):n.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!==n&&void 0!==n&&n.destroyed||null!==r&&void 0!==r&&r.destroyed?("function"===typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g(this,e,t):this.once(f,(function(r){g(this,i(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}},1256:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=r(1632);e.exports=u;const s=r(5470),l=r(3858);a(u.prototype,s.prototype),a(u,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=l.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,d;function f(){return void 0===c&&(c={}),c}n(u.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},u.from=function(e){return d||(d=r(2632)),d(e,"body")}},1268:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=86400,i=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,o=e=>{const t=i.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*n);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}}},1291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9938)),i=o(r(3371));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},1374:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if("number"!==typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}},1484:(e,t,r)=>{"use strict";const{Buffer:n}=r(6382),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(1632),{promisify:{custom:s}}=r(6854),{streamReturningOperators:l,promiseReturningOperators:u}=r(410),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=r(7045),d=r(504),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(6809),{pipeline:p}=r(9872),{destroyer:g}=r(7958),y=r(7964),v=r(2193),m=r(97),b=e.exports=r(7353).Stream;b.isDestroyed=m.isDestroyed,b.isDisturbed=m.isDisturbed,b.isErrored=m.isErrored,b.isReadable=m.isReadable,b.isWritable=m.isWritable,b.Readable=r(5470);for(const _ of o(l)){const S=l[_];function E(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.Readable.from(a(S,this,t))}i(E,"name",{__proto__:null,value:S.name}),i(E,"length",{__proto__:null,value:S.length}),i(b.Readable.prototype,_,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const A of o(u)){const x=u[A];function R(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a(x,this,t)}i(R,"name",{__proto__:null,value:x.name}),i(R,"length",{__proto__:null,value:x.length}),i(b.Readable.prototype,A,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}b.Writable=r(3858),b.Duplex=r(1256),b.Transform=r(2424),b.PassThrough=r(4346),b.pipeline=p;const{addAbortSignal:w}=r(9569);b.addAbortSignal=w,b.finished=y,b.destroy=g,b.compose=d,b.setDefaultHighWaterMark=f,b.getDefaultHighWaterMark=h,i(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>v}),i(p,s,{__proto__:null,enumerable:!0,get:()=>v.pipeline}),i(y,s,{__proto__:null,enumerable:!0,get:()=>v.finished}),b.Stream=b,b._isUint8Array=function(e){return e instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},1490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerPredicate=void 0;const n=r(7139),i=r(6016);class o{static async handlePredicateObject(e,t,r,i,o,a,s,l,u){const c=await t.getPropertiesDepth(r,i),d=await t.getDepthOffsetGraph(i,r),f=i-d,h=e.idStack[c];if(h&&!u)for(const n of h){if(d>=0){const r=e.idStack[f-1];if(r)for(const e of r)t.emitQuadChecked(i,n,o,a,e,s,l);else s?(t.validateReverseSubject(a),e.getUnidentifiedGraphBufferSafe(f-1).push({subject:a,predicate:o,object:n,isEmbedded:l})):e.getUnidentifiedGraphBufferSafe(f-1).push({subject:n,predicate:o,object:a,isEmbedded:l})}else{const e=await t.getGraphContainerValue(r,c);t.emitQuadChecked(i,n,o,a,e,s,l)}}else if(s&&t.validateReverseSubject(a),u){if(e.rdfstar){e.idStack[i]&&e.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${e.idStack[i][0].value}`,n.ERROR_CODES.INVALID_ANNOTATION));for(let o=0;o<i;o++)"@id"===await t.unaliasKeyword(r[o],r,o)&&e.emitError(new n.ErrorCoded("Found an illegal annotation inside an embedded node",n.ERROR_CODES.INVALID_ANNOTATION));const l=e.getAnnotationsBufferSafe(c),u={predicate:o,object:a,reverse:s,nestedAnnotations:[],depth:c};l.push(u);for(let e=l.length-2;e>=0;e--){const t=l[e];t.depth>c&&(u.nestedAnnotations.push(t),l.splice(e,1))}}}else e.getUnidentifiedValueBufferSafe(c).push({predicate:o,object:a,reverse:s,isEmbedded:l})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(e,t,r,n,o){const a=r[n];if(a){const o=await e.getContext(r);if(!e.jsonLiteralStack[n]&&await t.predicateToTerm(o,r[n]))return"@json"===i.Util.getContextValueType(o,a)&&(e.jsonLiteralStack[n+1]=!0),!0}return!1}async test(e,t,r,n,i){return n[i]}async handle(e,t,r,a,s,l,u){const c=a[l],d=await e.getContext(a),f=await t.predicateToTerm(d,r);if(f){const u=await t.valueToTerm(d,r,s,l,a);if(u.length)for(let h of u){let u=await t.unaliasKeywordParent(a,l);const p=i.Util.isPropertyReverse(d,c,u);let g=0;for(;"@reverse"===u||"number"===typeof u;)"number"===typeof u?g++:l--,u=await t.unaliasKeywordParent(a,l-g);const y=i.Util.isPropertyInEmbeddedNode(u);t.validateReverseInEmbeddedNode(r,p,y);const v=i.Util.isPropertyInAnnotationObject(u);if(s){const o="@list"in i.Util.getContextValueContainer(d,r);if(o||s["@list"]){if((o&&!Array.isArray(s)&&!s["@list"]||s["@list"]&&!Array.isArray(s["@list"]))&&h!==t.rdfNil){const r=t.dataFactory.blankNode();e.emitQuad(l,t.dataFactory.quad(r,t.rdfRest,t.rdfNil,t.getDefaultGraph())),e.emitQuad(l,t.dataFactory.quad(r,t.rdfFirst,h,t.getDefaultGraph())),h=r}if(p&&!e.allowSubjectList)throw new n.ErrorCoded(`Found illegal list value in subject position at ${r}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(e,t,a,l,f,h,p,y,v)}}}}t.EntryHandlerPredicate=o},1514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(9697))&&n.__esModule?n:{default:n};const o=[];for(let l=0;l<256;++l)o.push((l+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=s},1632:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.call(t,...n)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array:Uint8Array}},1675:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(9904),i=r(449);const o=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,i.A)(t))throw new TypeError((0,n.t)(e,t,...i.g,"Uint8Array"));if("secret"!==t.type)throw new TypeError(`${i.g.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((e,t,r)=>{if(!(0,i.A)(t))throw new TypeError((0,n.t)(e,t,...i.g));if("secret"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError(`${i.g.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,r)}},1691:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(4990),{AbortError:i,codes:o}=r(3995),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:l}=r(7787),u=r(9958),{ERR_INVALID_ARG_TYPE:c}=o;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new c(t,"AbortSignal",e)})(t,"signal"),!a(r)&&!s(r))throw new c("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const o=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[l](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{d=d||r(6600).addAbortListener;const i=d(e,o);u(t,i[n])}return t}},1855:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(4990),{isIterable:o,isNodeStream:a,isWebStream:s}=r(7787),{pipelineImpl:l}=r(9670),{finished:u}=r(9958);r(7546),e.exports={finished:u,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new i(((e,r)=>{let i,u;const c=t[t.length-1];if(c&&"object"===typeof c&&!a(c)&&!o(c)&&!s(c)){const e=n(t);i=e.signal,u=e.end}l(t,((t,n)=>{t?r(t):e(n)}),{signal:i,end:u})}))}}},1861:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!==typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},1866:(e,t,r)=>{const n=r(2285),i=r(6382),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:u,isWritableNodeStream:c,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:h}=r(7787),p=r(9958),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=r(3995),{destroyer:m}=r(1168),b=r(6594),w=r(9824),_=r(5280),{createDeferredPromise:S}=r(6600),E=r(8956),A=globalThis.Blob||i.Blob,x="undefined"!==typeof A?function(e){return e instanceof A}:function(e){return!1},R=globalThis.AbortController||r(3641).AbortController,{FunctionPrototypeCall:k}=r(4990);class I extends b{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(e){const t=e.readable&&"function"!==typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,s,l,u,c=!!o(t),d=!!a(r);function f(e){const t=l;l=null,t?t(e):e&&u.destroy(e)}return u=new I({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===r||void 0===r||!r.writableObjectMode),readable:c,writable:d}),d&&(p(r,(e=>{d=!1,e&&m(t,e),f(e)})),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(i){const e=i;i=null,e()}}))),c&&(p(t,(e=>{c=!1,e&&m(t,e),f(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(s=u._read);if(!u.push(e))return}}),u._destroy=function(e,o){e||null===l||(e=new g),s=null,n=null,i=null,null===l?o(e):(l=o,m(r,e),m(t,e))},u}e.exports=function e(t,r){if(d(t))return t;if(u(t))return C({readable:t});if(c(t))return C({writable:t});if(l(t))return C({writable:!1,readable:!1});if(f(t))return C({readable:w.fromWeb(t)});if(h(t))return C({writable:_.fromWeb(t)});if("function"===typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=S();const i=new R,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new g(void 0,{cause:o.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:o});return{value:a,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return E(I,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const r=k(l,e,(e=>{if(null!=e)throw new v("nully","body",e)}),(e=>{m(t,e)}));return t=new I({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:a})}throw new v("Iterable, AsyncIterable or AsyncFunction",r,e)}if(x(t))return e(t.arrayBuffer());if(s(t))return E(I,t,{objectMode:!0,writable:!1});if(f(null===t||void 0===t?void 0:t.readable)&&h(null===t||void 0===t?void 0:t.writable))return I.fromWeb(t);if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return C({readable:null!==t&&void 0!==t&&t.readable?u(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const i=null===t||void 0===t?void 0:t.then;if("function"===typeof i){let e;return k(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{m(e,t)})),e=new I({objectMode:!0,writable:!1,read(){}})}throw new y(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},1906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingContext=void 0;const n=r(7139),i=r(2238),o=r(269),a=r(1053);class s{constructor(e){this.contextParser=new n.ContextParser({documentLoader:e.documentLoader,skipValidation:e.skipContextValidation}),this.streamingProfile=!!e.streamingProfile,this.baseIRI=e.baseIRI,this.produceGeneralizedRdf=!!e.produceGeneralizedRdf,this.allowSubjectList=!!e.allowSubjectList,this.processingMode=e.processingMode||a.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!e.strictValues,this.validateValueIndexes=!!e.validateValueIndexes,this.defaultGraph=e.defaultGraph,this.rdfDirection=e.rdfDirection,this.normalizeLanguageTags=e.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=e.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=!1!==e.rdfstar,this.rdfstarReverseInEmbedded=e.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=e.parser,e.context?(this.rootContext=this.parseContext(e.context),this.rootContext.then((e=>this.validateContext(e)))):this.rootContext=Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(e,t,r){return this.contextParser.parse(e,{baseIRI:this.baseIRI,ignoreProtection:r,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:t,processingMode:this.activeProcessingMode})}validateContext(e){const t=e.getContextRaw()["@version"];if(t){if(this.activeProcessingMode&&t>this.activeProcessingMode)throw new i.ErrorCoded(`Unsupported JSON-LD version '${t}' under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&t<this.activeProcessingMode)throw new i.ErrorCoded(`Invalid JSON-LD version ${t} under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=t}}async getContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=e;for(;"number"===typeof e[e.length-1];)e=e.slice(0,e.length-1);t&&(e=e.slice(0,-t));const i=await this.getContextPropagationAware(e);let o=i.context.getContextRaw();for(let a=i.depth;a<r.length-t;a++){const e=r[a],i=o[e];if(i&&"object"===typeof i&&"@context"in i){const s=(await this.parseContext(i,o,!0)).getContextRaw(),l=!(e in s)||s[e]["@context"]["@propagate"];!1===l&&a!==r.length-1-t||(o=Object.assign({},s),delete o["@propagate"],o[e]=Object.assign({},o[e]),"@id"in i&&(o[e]["@id"]=i["@id"]),delete o[e]["@context"],!1!==l&&this.contextTree.setContext(r.slice(0,a+t),Promise.resolve(new n.JsonLdContextNormalized(o))))}}return new n.JsonLdContextNormalized(o)}async getContextPropagationAware(e){const t=e.length;let r,i=null;do{r=!1,i&&"@__propagateFallback"in i.context.getContextRaw()?i.context=new n.JsonLdContextNormalized(i.context.getContextRaw()["@__propagateFallback"]):(i&&(e=e.slice(0,i.depth-1)),i=await this.contextTree.getContext(e)||{context:await this.rootContext,depth:0});const t=e[e.length-1];if(t in i.context.getContextRaw()){const e=i.context.getContextRaw()[t];e&&"object"===typeof e&&"@context"in e&&(r=!0)}}while(i.depth>0&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==t&&!r);return 0===i.depth&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==t&&(i.context=new n.JsonLdContextNormalized({})),i}async newOnValueJob(e,t,r,n){await this.parser.newOnValueJob(e,t,r,n)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const e of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(e.depth,e.keys),this.parser.flushStacks(e.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(e,t){1===e&&(this.topLevelProperties=!0),this.parser.push(t)}emitError(e){this.parser.emit("error",e)}emitContext(e){this.parser.emit("context",e)}getUnidentifiedValueBufferSafe(e){let t=this.unidentifiedValuesBuffer[e];return t||(t=[],this.unidentifiedValuesBuffer[e]=t),t}getUnidentifiedGraphBufferSafe(e){let t=this.unidentifiedGraphsBuffer[e];return t||(t=[],this.unidentifiedGraphsBuffer[e]=t),t}getAnnotationsBufferSafe(e){let t=this.annotationsBuffer[e];return t||(t=[],this.annotationsBuffer[e]=t),t}getExpandOptions(){return s.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(e,t){const r=this.idStack[e+t];if(r&&(this.idStack[e]=r,this.emittedStack[e]=!0,delete this.idStack[e+t]),this.pendingContainerFlushBuffers.length)for(const n of this.pendingContainerFlushBuffers)n.depth>=e+t&&(n.depth-=t,n.keys.splice(e,t));this.unidentifiedValuesBuffer[e+t]&&(this.unidentifiedValuesBuffer[e]=this.unidentifiedValuesBuffer[e+t],delete this.unidentifiedValuesBuffer[e+t]),this.annotationsBuffer[e+t-1]&&(this.annotationsBuffer[e-1]||(this.annotationsBuffer[e-1]=[]),this.annotationsBuffer[e-1]=[...this.annotationsBuffer[e-1],...this.annotationsBuffer[e+t-1]],delete this.annotationsBuffer[e+t-1])}}s.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},t.ParsingContext=s},2024:(e,t,r)=>{const n=r(5164),i=r(5063);e.exports=Object.assign({dataset:function(e){return new i(e)}},n)},2033:(e,t,r)=>{const n=r(4689);class i{constructor(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}i.prototype.termType="Quad",i.prototype.value="",e.exports=i},2052:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(7184);async function i(e,t){return(0,n.T)(e,t)}},2099:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=r(1632),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(7045),{normalizeEncoding:E}=r(6854),{isAsyncFunction:A,isArrayBufferView:x}=r(6854).types,R={};const k=/^[0-7]+$/;const I=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),C=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),T=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)}));function P(e,t){if("string"!==typeof e)throw new b(t,"string",e)}const O=v(((e,t,r)=>{if(!i(r,e)){const n=o(a(r,(e=>"string"===typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function N(e,t){if("boolean"!==typeof e)throw new b(t,"boolean",e)}function F(e,t,r){return null!=e&&f(e,t)?e[t]:r}const D=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=F(r,"allowArray",!1),o=F(r,"allowFunction",!1);if(!F(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new b(t,"Object",e)})),j=v(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new b(t,"a dictionary",e)})),L=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!n(e))throw new b(t,"Array",e);if(e.length<r){throw new w(t,e,`must be longer than ${r}`)}}));const U=v((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!x(e))throw new b(t,["Buffer","TypedArray","DataView"],e)}));const M=v(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)})),B=v(((e,t)=>{if("function"!==typeof e)throw new b(t,"Function",e)})),H=v(((e,t)=>{if("function"!==typeof e||A(e))throw new b(t,"Function",e)})),W=v(((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)}));const $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if("undefined"===typeof e||!h($,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if("undefined"===typeof e&&(e=r),"string"===typeof e){if(null===h(k,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return T(e,t),e},validateArray:L,validateStringArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new b(i,"AbortSignal",n);M(n,i)}},validateBoolean:N,validateBuffer:U,validateDictionary:j,validateEncoding:function(e,t){const r=E(t),n=e.length;if("hex"===r&&n%2!==0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:B,validateInt32:C,validateInteger:I,validateNumber:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:D,validateOneOf:O,validatePlainFunction:H,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e){if(P(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===R[e]){if(void 0!==R[g(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:P,validateUint32:T,validateUndefined:W,validateUnion:function(e,t,r){if(!i(r,e))throw new b(t,`('${o(r,"|")}')`,e)},validateAbortSignal:M,validateLinkHeaderValue:function(e){if("string"===typeof e)return V(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},2122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerHandlerIdentifier=void 0;t.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(e,t,r,n,i,o){let a;if(t.emittedStack[o+1]&&t.idStack[o+1])a=t.idStack[o+1][0];else{const e=null!==await r.getContainerKey(n[o],n,o)?await r.resourceToTerm(await t.getContext(n),n[o]):r.dataFactory.blankNode();if(!e)return void(t.emittedStack[o]=!1);a=e,t.idStack[o+1]=[a]}let s=t.idStack[o];s||(s=t.idStack[o]=[]),s.some((e=>e.equals(a)))||s.push(a),await t.handlePendingContainerFlushBuffers()||(t.emittedStack[o]=!1)}}},2142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JOSEAlgNotAllowed:()=>a,JOSEError:()=>n,JOSENotSupported:()=>s,JWEDecompressionFailed:()=>u,JWEDecryptionFailed:()=>l,JWEInvalid:()=>c,JWKInvalid:()=>h,JWKSInvalid:()=>p,JWKSMultipleMatchingKeys:()=>y,JWKSNoMatchingKey:()=>g,JWKSTimeout:()=>v,JWSInvalid:()=>d,JWSSignatureVerificationFailed:()=>m,JWTClaimValidationFailed:()=>i,JWTExpired:()=>o,JWTInvalid:()=>f});class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class i extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class o extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class a extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class s extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class l extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class u extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class c extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class d extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class f extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class h extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class p extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class g extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class y extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator;class v extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class m extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},2187:(e,t,r)=>{const n=r(3381);class i{constructor(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},2193:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(1632),{isIterable:o,isNodeStream:a,isWebStream:s}=r(97),{pipelineImpl:l}=r(9872),{finished:u}=r(7964);r(1484),e.exports={finished:u,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new i(((e,r)=>{let i,u;const c=t[t.length-1];if(c&&"object"===typeof c&&!a(c)&&!o(c)&&!s(c)){const e=n(t);i=e.signal,u=e.end}l(t,((t,n)=>{t?r(t):e(n)}),{signal:i,end:u})}))}}},2238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=r,function(e){e.COLLIDING_KEYWORDS="colliding keywords",e.CONFLICTING_INDEXES="conflicting indexes",e.CYCLIC_IRI_MAPPING="cyclic IRI mapping",e.INVALID_ID_VALUE="invalid @id value",e.INVALID_INDEX_VALUE="invalid @index value",e.INVALID_NEST_VALUE="invalid @nest value",e.INVALID_PREFIX_VALUE="invalid @prefix value",e.INVALID_PROPAGATE_VALUE="invalid @propagate value",e.INVALID_REVERSE_VALUE="invalid @reverse value",e.INVALID_IMPORT_VALUE="invalid @import value",e.INVALID_VERSION_VALUE="invalid @version value",e.INVALID_BASE_IRI="invalid base IRI",e.INVALID_CONTAINER_MAPPING="invalid container mapping",e.INVALID_CONTEXT_ENTRY="invalid context entry",e.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",e.INVALID_DEFAULT_LANGUAGE="invalid default language",e.INVALID_INCLUDED_VALUE="invalid @included value",e.INVALID_IRI_MAPPING="invalid IRI mapping",e.INVALID_JSON_LITERAL="invalid JSON literal",e.INVALID_KEYWORD_ALIAS="invalid keyword alias",e.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",e.INVALID_LANGUAGE_MAPPING="invalid language mapping",e.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",e.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",e.INVALID_LOCAL_CONTEXT="invalid local context",e.INVALID_REMOTE_CONTEXT="invalid remote context",e.INVALID_REVERSE_PROPERTY="invalid reverse property",e.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",e.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",e.INVALID_SCOPED_CONTEXT="invalid scoped context",e.INVALID_SCRIPT_ELEMENT="invalid script element",e.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",e.INVALID_TERM_DEFINITION="invalid term definition",e.INVALID_TYPE_MAPPING="invalid type mapping",e.INVALID_TYPE_VALUE="invalid type value",e.INVALID_TYPED_VALUE="invalid typed value",e.INVALID_VALUE_OBJECT="invalid value object",e.INVALID_VALUE_OBJECT_VALUE="invalid value object value",e.INVALID_VOCAB_MAPPING="invalid vocab mapping",e.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",e.KEYWORD_REDEFINITION="keyword redefinition",e.LOADING_DOCUMENT_FAILED="loading document failed",e.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",e.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",e.PROCESSING_MODE_CONFLICT="processing mode conflict",e.PROTECTED_TERM_REDEFINITION="protected term redefinition",e.CONTEXT_OVERFLOW="context overflow",e.INVALID_BASE_DIRECTION="invalid base direction",e.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",e.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",e.INVALID_EMBEDDED_NODE="invalid embedded node",e.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))},2285:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,l=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2424:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(1632);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(7045).codes,a=r(1256),{getHighWaterMark:s}=r(6809);n(u.prototype,a.prototype),n(u,a);const l=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function d(){this._final!==c&&c.call(this)}u.prototype._final=c,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r)}))},u.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},2510:(e,t,r)=>{"use strict";r.d(t,{D0:()=>o,Kp:()=>f,MT:()=>l,Rd:()=>i,VS:()=>d,mx:()=>c,xW:()=>s,yI:()=>h});var n=r(5515);const i=new TextEncoder,o=new TextDecoder,a=2**32;function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce(((e,t)=>{let{length:r}=t;return e+r}),0),i=new Uint8Array(n);let o=0;return t.forEach((e=>{i.set(e,o),o+=e.length})),i}function l(e,t){return s(i.encode(e),new Uint8Array([0]),t)}function u(e,t,r){if(t<0||t>=a)throw new RangeError(`value must be >= 0 and <= ${a-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function c(e){const t=Math.floor(e/a),r=e%a,n=new Uint8Array(8);return u(n,t,0),u(n,r,4),n}function d(e){const t=new Uint8Array(4);return u(t,e),t}function f(e){return s(d(e.length),e)}async function h(e,t,r){const i=Math.ceil((t>>3)/32),o=new Uint8Array(32*i);for(let a=0;a<i;a++){const t=new Uint8Array(4+e.length+r.length);t.set(d(a+1)),t.set(e,4),t.set(r,4+e.length),o.set(await(0,n.A)("sha256",t),32*a)}return o.slice(0,t>>3)}},2524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6344))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},2605:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},2632:(e,t,r)=>{const n=r(2285),i=r(6382),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:u,isWritableNodeStream:c,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:h}=r(97),p=r(7964),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=r(7045),{destroyer:m}=r(7958),b=r(1256),w=r(5470),_=r(3858),{createDeferredPromise:S}=r(6854),E=r(4262),A=globalThis.Blob||i.Blob,x="undefined"!==typeof A?function(e){return e instanceof A}:function(e){return!1},R=globalThis.AbortController||r(3641).AbortController,{FunctionPrototypeCall:k}=r(1632);class I extends b{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(e){const t=e.readable&&"function"!==typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,s,l,u,c=!!o(t),d=!!a(r);function f(e){const t=l;l=null,t?t(e):e&&u.destroy(e)}return u=new I({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===r||void 0===r||!r.writableObjectMode),readable:c,writable:d}),d&&(p(r,(e=>{d=!1,e&&m(t,e),f(e)})),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(i){const e=i;i=null,e()}}))),c&&(p(t,(e=>{c=!1,e&&m(t,e),f(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(s=u._read);if(!u.push(e))return}}),u._destroy=function(e,o){e||null===l||(e=new g),s=null,n=null,i=null,null===l?o(e):(l=o,m(r,e),m(t,e))},u}e.exports=function e(t,r){if(d(t))return t;if(u(t))return C({readable:t});if(c(t))return C({writable:t});if(l(t))return C({writable:!1,readable:!1});if(f(t))return C({readable:w.fromWeb(t)});if(h(t))return C({writable:_.fromWeb(t)});if("function"===typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=S();const i=new R,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new g(void 0,{cause:o.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:o});return{value:a,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return E(I,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const r=k(l,e,(e=>{if(null!=e)throw new v("nully","body",e)}),(e=>{m(t,e)}));return t=new I({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:a})}throw new v("Iterable, AsyncIterable or AsyncFunction",r,e)}if(x(t))return e(t.arrayBuffer());if(s(t))return E(I,t,{objectMode:!0,writable:!1});if(f(null===t||void 0===t?void 0:t.readable)&&h(null===t||void 0===t?void 0:t.writable))return I.fromWeb(t);if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return C({readable:null!==t&&void 0!==t&&t.readable?u(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const i=null===t||void 0===t?void 0:t.then;if("function"===typeof i){let e;return k(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{m(e,t)})),e=new I({objectMode:!0,writable:!1,read(){}})}throw new y(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in n={},t)"key"!==o&&(n[o]=t[o]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=i,t.jsxs=i},2832:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7614),t),i(r(3226),t),i(r(7293),t),i(r(8871),t),i(r(8225),t),i(r(549),t),i(r(4818),t)},2852:e=>{"use strict";e.exports={format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o]=t;const a=r.shift();if("f"===o)return a.toFixed(6);if("j"===o)return JSON.stringify(a);if("s"===o&&"object"===typeof a){return`${a.constructor!==Object?a.constructor.name:""} {}`.trim()}return a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},2928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},2930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var l;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,o.default)(n)),16!==(null===(l=n)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(l){}return n.DNS=a,n.URL=s,n};var n,i=r(1514),o=(n=r(8788))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},2943:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(l=o)|s>>>32-l,r);var s,l}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,u=-271733879,c=-1732584194,d=271733878;for(let r=0;r<e.length;r+=16){const t=i,f=u,h=c,p=d;i=o(i,u,c,d,e[r],7,-680876936),d=o(d,i,u,c,e[r+1],12,-389564586),c=o(c,d,i,u,e[r+2],17,606105819),u=o(u,c,d,i,e[r+3],22,-1044525330),i=o(i,u,c,d,e[r+4],7,-176418897),d=o(d,i,u,c,e[r+5],12,1200080426),c=o(c,d,i,u,e[r+6],17,-1473231341),u=o(u,c,d,i,e[r+7],22,-45705983),i=o(i,u,c,d,e[r+8],7,1770035416),d=o(d,i,u,c,e[r+9],12,-1958414417),c=o(c,d,i,u,e[r+10],17,-42063),u=o(u,c,d,i,e[r+11],22,-1990404162),i=o(i,u,c,d,e[r+12],7,1804603682),d=o(d,i,u,c,e[r+13],12,-40341101),c=o(c,d,i,u,e[r+14],17,-1502002290),u=o(u,c,d,i,e[r+15],22,1236535329),i=a(i,u,c,d,e[r+1],5,-165796510),d=a(d,i,u,c,e[r+6],9,-1069501632),c=a(c,d,i,u,e[r+11],14,643717713),u=a(u,c,d,i,e[r],20,-373897302),i=a(i,u,c,d,e[r+5],5,-701558691),d=a(d,i,u,c,e[r+10],9,38016083),c=a(c,d,i,u,e[r+15],14,-660478335),u=a(u,c,d,i,e[r+4],20,-405537848),i=a(i,u,c,d,e[r+9],5,568446438),d=a(d,i,u,c,e[r+14],9,-1019803690),c=a(c,d,i,u,e[r+3],14,-187363961),u=a(u,c,d,i,e[r+8],20,1163531501),i=a(i,u,c,d,e[r+13],5,-1444681467),d=a(d,i,u,c,e[r+2],9,-51403784),c=a(c,d,i,u,e[r+7],14,1735328473),u=a(u,c,d,i,e[r+12],20,-1926607734),i=s(i,u,c,d,e[r+5],4,-378558),d=s(d,i,u,c,e[r+8],11,-2022574463),c=s(c,d,i,u,e[r+11],16,1839030562),u=s(u,c,d,i,e[r+14],23,-35309556),i=s(i,u,c,d,e[r+1],4,-1530992060),d=s(d,i,u,c,e[r+4],11,1272893353),c=s(c,d,i,u,e[r+7],16,-155497632),u=s(u,c,d,i,e[r+10],23,-1094730640),i=s(i,u,c,d,e[r+13],4,681279174),d=s(d,i,u,c,e[r],11,-358537222),c=s(c,d,i,u,e[r+3],16,-722521979),u=s(u,c,d,i,e[r+6],23,76029189),i=s(i,u,c,d,e[r+9],4,-640364487),d=s(d,i,u,c,e[r+12],11,-421815835),c=s(c,d,i,u,e[r+15],16,530742520),u=s(u,c,d,i,e[r+2],23,-995338651),i=l(i,u,c,d,e[r],6,-198630844),d=l(d,i,u,c,e[r+7],10,1126891415),c=l(c,d,i,u,e[r+14],15,-1416354905),u=l(u,c,d,i,e[r+5],21,-57434055),i=l(i,u,c,d,e[r+12],6,1700485571),d=l(d,i,u,c,e[r+3],10,-1894986606),c=l(c,d,i,u,e[r+10],15,-1051523),u=l(u,c,d,i,e[r+1],21,-2054922799),i=l(i,u,c,d,e[r+8],6,1873313359),d=l(d,i,u,c,e[r+15],10,-30611744),c=l(c,d,i,u,e[r+6],15,-1560198380),u=l(u,c,d,i,e[r+13],21,1309151649),i=l(i,u,c,d,e[r+4],6,-145523070),d=l(d,i,u,c,e[r+11],10,-1120210379),c=l(c,d,i,u,e[r+2],15,718787259),u=l(u,c,d,i,e[r+9],21,-343485551),i=n(i,t),u=n(u,f),c=n(c,h),d=n(d,p)}return[i,u,c,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=u},2951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerArrayValue=void 0;const n=r(6016),i=r(7139);t.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,t,r,n,i){return this.test(e,t,null,r,n)}async test(e,t,r,n,i){return"number"===typeof n[i]}async handle(e,t,r,i,o,a){let s=await t.unaliasKeywordParent(i,a);if("@list"===s){let r=null,n=0;for(let e=a-2;e>0;e--){const t=i[e];if("string"===typeof t||"number"===typeof t){n=e,r=t;break}}if(null!==r){const s=await t.valueToTerm(await e.getContext(i),r,o,a,i);for(const r of s)await this.handleListElement(e,t,r,o,a,i.slice(0,n),n);0===s.length&&await this.handleListElement(e,t,null,o,a,i.slice(0,n),n)}}else if("@set"===s)await e.newOnValueJob(i.slice(0,-2),o,a-2,!1);else if(void 0!==s&&"@type"!==s){for(let e=a-1;e>0;e--)if("number"!==typeof i[e]){s=await t.unaliasKeyword(i[e],i,e);break}const r=await e.getContext(i.slice(0,-1));if("@list"in n.Util.getContextValueContainer(r,s)){e.emittedStack[a+1]=!0;const r=await t.valueToTerm(await e.getContext(i),s,o,a,i);for(const n of r)await this.handleListElement(e,t,n,o,a,i.slice(0,-1),a-1);0===r.length&&await this.handleListElement(e,t,null,o,a,i.slice(0,-1),a-1)}else e.shiftStack(a,1),await e.newOnValueJob(i.slice(0,-1),o,a-1,!1),e.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(e,t,r,n,o,a,s){let l=e.listPointerStack[o];if(null!==n&&null!==(await t.unaliasKeywords(n,a,o))["@value"]){if(l&&l.value){const r=t.dataFactory.blankNode();e.emitQuad(o,t.dataFactory.quad(l.value,t.rdfRest,r,t.getDefaultGraph())),l.value=r}else{const e=t.dataFactory.blankNode();l={value:e,listRootDepth:s,listId:e}}r&&e.emitQuad(o,t.dataFactory.quad(l.value,t.rdfFirst,r,t.getDefaultGraph()))}else l||(l={listRootDepth:s,listId:t.rdfNil});e.listPointerStack[o]=l,e.rdfstar&&e.annotationsBuffer[o]&&e.emitError(new i.ErrorCoded("Found an illegal annotation inside a list",i.ERROR_CODES.INVALID_ANNOTATION))}}},3082:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let r=0;r<a;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];s[r]=t}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<a;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=s[l][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=i[0],a=i[1],u=i[2],c=i[3],d=i[4];for(let i=0;i<80;++i){const s=Math.floor(i/20),l=n(o,5)+r(s,a,u,c)+d+t[s]+e[i]>>>0;d=c,c=u,u=n(a,30)>>>0,a=o,o=l}i[0]=i[0]+o>>>0,i[1]=i[1]+a>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},3100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},3218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7662))&&n.__esModule?n:{default:n},o=r(1514);let a,s,l=0,u=0;var c=function(e,t,r){let n=t&&r||0;const c=t||new Array(16);let d=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:u+1;const g=h-l+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,u=p,s=f,h+=122192928e5;const y=(1e4*(268435455&h)+p)%4294967296;c[n++]=y>>>24&255,c[n++]=y>>>16&255,c[n++]=y>>>8&255,c[n++]=255&y;const v=h/4294967296*1e4&268435455;c[n++]=v>>>8&255,c[n++]=255&v,c[n++]=v>>>24&15|16,c[n++]=v>>>16&255,c[n++]=f>>>8|128,c[n++]=255&f;for(let i=0;i<6;++i)c[n+i]=d[i];return t||(0,o.unsafeStringify)(c)};t.default=c},3226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(7614),i=r(7293),o=r(8871),a=r(8225),s=r(549),l=r(4818);let u=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${u++}_`}namedNode(e){return new a.NamedNode(e)}blankNode(e){return new n.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new o.Literal(e,t)}variable(e){return new l.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(o.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},3239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(7222)),i=f(r(8252)),o=f(r(7081)),a=f(r(650)),s=f(r(2928)),l=f(r(6279)),u=f(r(4245)),c=f(r(6318)),d=f(r(8464));function f(e){return e&&e.__esModule?e:{default:e}}},3240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},3371:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let r=0;r<a;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];s[r]=t}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<a;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=s[l][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=i[0],a=i[1],u=i[2],c=i[3],d=i[4];for(let i=0;i<80;++i){const s=Math.floor(i/20),l=n(o,5)+r(s,a,u,c)+d+t[s]+e[i]>>>0;d=c,c=u,u=n(a,30)>>>0,a=o,o=l}i[0]=i[0]+o>>>0,i[1]=i[1]+a>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},3381:e=>{class t{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="NamedNode",e.exports=t},3431:(e,t,r)=>{"use strict";function n(e){return new TypeError(`CryptoKey does not support this operation, its ${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name"} must be ${e}`)}function i(e,t){return e.name===t}function o(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function s(e,t){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw n("HMAC");const r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");const r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw n("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw n("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw n(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];a(e,s)}function l(e,t){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw n("AES-GCM");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw n("AES-KW");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");const r=parseInt(t.slice(9),10)||1;if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];a(e,s)}r.d(t,{$:()=>l,Y:()=>s})},3437:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(6382),i=r(6656),o=r.n(i),a=r(7103);const{xsd:s}=a.A,l=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,d={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;class h{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in d)&&this[e]instanceof RegExp&&(this[e]=f)}else this._n3Mode=!1!==e.n3;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let e,a;for(;e=this._newline.exec(r);)this.comments&&(a=this._comment.exec(e[0]))&&i("comment",a[1],"",this._line,e[0].length),r=r.substr(e[0].length,r.length),n=r.length,this._line++;if(!e&&(e=this._whitespace.exec(r))&&(r=r.substr(e[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(a=this._comment.exec(r))&&i("comment",a[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;const l=this._line,u=r[0];let d="",f="",h="",p=null,g=0,y=!1;switch(u){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(g=1,d="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){y=!0;break}case"<":if(p=this._unescapedIri.exec(r))d="IRI",f=p[1];else if(p=this._iri.exec(r)){if(f=this._unescape(p[1]),null===f||c.test(f))return o(this);d="IRI"}else r.length>1&&"<"===r[1]?(d="<<",g=2):this._n3Mode&&r.length>1&&"="===r[1]&&(g=2,this._isImpliedBy?(d="abbreviation",f="<"):(d="inverse",f=">"));break;case">":r.length>1&&">"===r[1]&&(d=">>",g=2);break;case"_":((p=this._blank.exec(r))||t&&(p=this._blank.exec(`${r} `)))&&(d="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))f=p[1];else if(({value:f,matchLength:g}=this._parseLiteral(r)),null===f)return o(this);null===p&&0===g||(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(r))f=p[1];else if(({value:f,matchLength:g}=this._parseLiteral(r)),null===f)return o(this);null===p&&0===g||(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(d="var",f=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(r))?(d="langcode",f=p[1]):(p=this._keyword.exec(r))&&(d=p[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){d=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||t&&(p=this._number.exec(`${r} `)))&&(d="literal",f=p[0],h="string"===typeof p[1]?s.double:"string"===typeof p[2]?s.decimal:s.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?d=p[0].toUpperCase():y=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(d="literal",f=p[0],h=s.boolean):y=!0;break;case"a":(p=this._shortPredicates.exec(r))?(d="abbreviation",f="a"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",">"!==r[1]?(g=1,f="="):(g=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,d=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(d="{|",g=2):(d=u,g=1));break;case"|":r.length>=2&&"}"===r[1]&&(d="|}",g=2);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(r))?((p=this._prefixed.exec(r))||t&&(p=this._prefixed.exec(`${r} `)))&&(d="prefixed",h=p[1]||"",f=this._unescape(p[2])):(d="prefix",f=p[1]||"")),"^^"===this._previousMarker)switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const v=g||p[0].length,m=i(d,f,h,l,v);this.previousToken=m,this._previousMarker=d,r=r.substr(v,r.length)}function i(t,i,o,a,s){const l=r?n-r.length:n,u={type:t,value:i,prefix:o,line:a,start:l,end:l+s};return e(null,u),u}function o(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(l,((e,r,n,i)=>{if("string"===typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"===typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in u?u[i]:(t=!0,"")}));return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2===0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,o=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:o}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"===typeof e){if(this._input=this._readStartingBom(e),"function"!==typeof t){const e=[];let t;if(this._tokenizeToEnd(((r,n)=>r?t=r:e.push(n)),!0),t)throw t;return e}o()((()=>this._tokenizeToEnd(t,!0)))}else this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=n.Buffer.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:("undefined"===typeof this._input?this._input=this._readStartingBom("string"===typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))})),e.on("end",(()=>{"string"===typeof this._input&&this._tokenizeToEnd(t,!0)})),e.on("error",t)}}},3455:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(3641).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=r(3995),{validateAbortSignal:u,validateInteger:c,validateObject:d}=r(8029),f=r(4990).Symbol("kWeak"),h=r(4990).Symbol("kResistStopPropagation"),{finished:p}=r(9958),g=r(9934),{addAbortSignalNoValidate:y}=r(1691),{isWritable:v,isNodeStream:m}=r(7787),{deprecate:b}=r(6600),{ArrayPrototypePush:w,Boolean:_,MathFloor:S,Number:E,NumberIsNaN:A,Promise:x,PromiseReject:R,PromiseResolve:k,PromisePrototypeThen:I,Symbol:C}=r(4990),T=C("kEmpty"),P=C("kEof");function O(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=S(t.concurrency));let i=n-1;return null!=(null===t||void 0===t?void 0:t.highWaterMark)&&(i=S(t.highWaterMark)),c(n,"options.concurrency",1),c(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(6600).AbortSignalAny([null===t||void 0===t?void 0:t.signal].filter(_)),a=this,s=[],u={signal:o};let c,d,f=!1,h=0;function p(){f=!0,g()}function g(){h-=1,y()}function y(){d&&!f&&h<n&&s.length<i&&(d(),d=null)}!async function(){try{for await(let r of a){if(f)return;if(o.aborted)throw new l;try{if(r=e(r,u),r===T)continue;r=k(r)}catch(t){r=R(t)}h+=1,I(r,g,p),s.push(r),c&&(c(),c=null),!f&&(s.length>=i||h>=n)&&await new x((e=>{d=e}))}s.push(P)}catch(t){const e=R(t);I(e,g,p),s.push(e)}finally{f=!0,c&&(c(),c=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===P)return;if(o.aborted)throw new l;e!==T&&(yield e),s.shift(),y()}await new x((e=>{c=e}))}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const r of F.call(this,e,t))return!0;return!1}function F(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return O.call(this,(async function(t,r){return await e(t,r)?t:T}),t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=E(e),A(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:b((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&d(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!==e&&void 0!==e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const i of this){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield i)}}.call(this)},filter:F,flatMap:function(e,t){const r=O.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:O,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const i of this){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield i),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&u(t.signal,"options.signal"),m(e)&&!v(e))throw new i("stream",e,"must be writable");const r=g(this,e);return null!==t&&void 0!==t&&t.signal&&y(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await N.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of O.call(this,(async function(t,r){return await e(t,r),T}),t));},reduce:async function(e,t,r){var i;if("function"!==typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null===r||void 0===r?void 0:r.signal)&&u(r.signal,"options.signal");let a=arguments.length>1;if(null!==r&&void 0!==r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(e)),e}const s=new n,c=s.signal;if(null!==r&&void 0!==r&&r.signal){const e={once:!0,[f]:this,[h]:!0};r.signal.addEventListener("abort",(()=>s.abort()),e)}let g=!1;try{for await(const n of this){var y;if(g=!0,null!==r&&void 0!==r&&null!==(y=r.signal)&&void 0!==y&&y.aborted)throw new l;a?t=await e(t,n,{signal:c}):(t=n,a=!0)}if(!g&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!==e&&void 0!==e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,n)}return t},some:N,find:async function(e,t){for await(const r of F.call(this,e,t))return r}}},3512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordIncluded=void 0;const n=r(7139),i=r(9028);class o extends i.EntryHandlerKeyword{constructor(){super("@included")}async handle(e,t,r,i,o,a){"object"!==typeof o&&e.emitError(new n.ErrorCoded(`Found illegal @included '${o}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE));const s=await t.unaliasKeywords(o,i,a,await e.getContext(i));"@value"in s&&e.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in s&&e.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[a]=!1}}t.EntryHandlerKeywordIncluded=o},3514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BlankNode:()=>l.PB,DataFactory:()=>l.Ay,DefaultGraph:()=>l.yV,EntityIndex:()=>a.J,Lexer:()=>n.A,Literal:()=>l.uS,NamedNode:()=>l.Yo,Parser:()=>i.A,Quad:()=>l.kO,Reasoner:()=>c,Store:()=>a.A,StoreFactory:()=>s,StreamParser:()=>p,StreamWriter:()=>g,Term:()=>l.x1,Triple:()=>l.n7,Util:()=>y,Variable:()=>l.rT,Writer:()=>o.A,default:()=>v,getRulesFromDataset:()=>u,termFromId:()=>l.iN,termToId:()=>l.FL});var n=r(3437),i=r(9212),o=r(7644),a=r(8634);class s{dataset(e){return new a.A(e)}}var l=r(4209);function u(e){const t=[];for(const{subject:r,object:n}of e.match(null,l.Ay.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,l.Ay.defaultGraph())){const i=[...e.match(null,null,null,r)],o=[...e.match(null,null,null,n)];t.push({premise:i,conclusion:o})}return t}class c{constructor(e){this._store=e}_add(e,t,r,n,i){this._store._addToIndex(n.subjects,e,t,r)&&(this._store._addToIndex(n.predicates,t,r,e),this._store._addToIndex(n.objects,r,e,t),i())}_evaluatePremise(e,t,r){let n,i,o,a,s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const[u,c,d]=e.premise[l].value,f=t[e.premise[l].content],h=!(o=u.value);for(o in h?f:{[o]:f[o]})if(a=f[o]){for(o in h&&(u.value=Number(o)),n=!(o=c.value),n?a:{[o]:a[o]})if(s=a[o]){for(o in n&&(c.value=Number(o)),i=!(o=d.value),i?s:{[o]:s[o]})i&&(d.value=Number(o)),l===e.premise.length-1?e.conclusion.forEach((e=>{this._add(e.subject.value,e.predicate.value,e.object.value,t,(()=>{r(e)}))})):this._evaluatePremise(e,t,r,l+1);i&&(d.value=null)}n&&(c.value=null)}h&&(u.value=null)}_evaluateRules(e,t,r){for(let n=0;n<e.length;n++)this._evaluatePremise(e[n],t,r)}_reasonGraphNaive(e,t){const r=[];function n(e){e.next&&e.next.forEach((t=>{r.push([e.subject.value,e.predicate.value,e.object.value,t])}))}const i=e=>{e.forEach((e=>{this._add(e.subject.value,e.predicate.value,e.object.value,t,(()=>{n(e)}))}))};let o;for(this._evaluateRules(e,t,n);void 0!==(o=r.pop());){const[e,r,a,s]=o,l=s.basePremise.subject.value;l||(s.basePremise.subject.value=e);const u=s.basePremise.predicate.value;u||(s.basePremise.predicate.value=r);const c=s.basePremise.object.value;c||(s.basePremise.object.value=a),0===s.premise.length?i(s.conclusion):this._evaluatePremise(s,t,n),l||(s.basePremise.subject.value=null),u||(s.basePremise.predicate.value=null),c||(s.basePremise.object.value=null)}}_createRule(e){let{premise:t,conclusion:r}=e;const n={},i=e=>"Variable"===e.termType?n[e.value]=n[e.value]||{}:{value:this._store._termToNewNumericId(e)},o=e=>({subject:i(e.subject),predicate:i(e.predicate),object:i(e.object)});return{premise:t.map((e=>o(e))),conclusion:r.map((e=>o(e))),variables:Object.values(n)}}reason(e){Array.isArray(e)||(e=u(e)),e=e.map((e=>this._createRule(e)));for(const r of e)for(const t of e)for(let e=0;e<t.premise.length;e++){const n=t.premise[e];for(const i of r.conclusion){if(f(n.subject,i.subject)&&f(n.predicate,i.predicate)&&f(n.object,i.object)){const r=new Set,o=[];n.subject.value=n.subject.value||1,n.object.value=n.object.value||1,n.predicate.value=n.predicate.value||1;for(let n=0;n<t.premise.length;n++)n!==e&&o.push(d(t.premise[n],r));(i.next=i.next||[]).push({premise:o,conclusion:t.conclusion,basePremise:n})}t.variables.forEach((e=>{e.value=null}))}}for(const r of e){const e=new Set;r.premise=r.premise.map((t=>d(t,e)))}const t=this._store._getGraphs();for(const r in t)this._reasonGraphNaive(e,t[r]);this._store._size=null}}function d(e,t){let{subject:r,predicate:n,object:i}=e;const o=r.value||t.has(r)||(t.add(r),!1),a=n.value||t.has(n)||(t.add(n),!1),s=i.value||t.has(i)||(t.add(i),!1);return!o&&a?{content:"predicates",value:[n,i,r]}:s?{content:"objects",value:[i,r,n]}:{content:"subjects",value:[r,n,i]}}function f(e,t){return null===e.value&&(e.value=t.value),e.value===t.value}var h=r(8944);class p extends h.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const t=new i.A(e);let r,n;const o={onQuad:(e,t)=>{e&&this.emit("error",e)||t&&this.push(t)},onPrefix:(e,t)=>{this.emit("prefix",e,t)}};e&&e.comments&&(o.onComment=e=>{this.emit("comment",e)}),t.parse({on:(e,t)=>{switch(e){case"data":r=t;break;case"end":n=t}}},o),this._transform=(e,t,n)=>{r(e),n()},this._flush=e=>{n(),e()}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),this}}class g extends h.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const t=this._writer=new o.A({write:(e,t,r)=>{this.push(e),r&&r()},end:e=>{this.push(null),e&&e()}},e);this._transform=(e,r,n)=>{t.addQuad(e,n)},this._flush=e=>{t.end(e)}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),e.on("prefix",((e,t)=>{this._writer.addPrefix(e,t)})),this}}var y=r(4539);const v={Lexer:n.A,Parser:i.A,Writer:o.A,Store:a.A,StoreFactory:s,EntityIndex:a.J,StreamParser:p,StreamWriter:g,Util:y,Reasoner:c,DataFactory:l.Ay,Term:l.x1,NamedNode:l.Yo,Literal:l.uS,BlankNode:l.PB,Variable:l.rT,DefaultGraph:l.yV,Quad:l.kO,Triple:l.n7,termFromId:l.iN,termToId:l.FL}},3549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(3240)),i=a(r(7662)),o=r(1514);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},3611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextParser=void 0,r(5324);const n=r(7323),i=r(2238),o=r(6705),a=r(471),s=r(9051);class l{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new i.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!s.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new i.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new i.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,i.ERROR_CODES.INVALID_BASE_DIRECTION);if(!s.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new i.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,i.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){let r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||s.Util.isValidKeyword(r["@reverse"]))throw new i.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);r=e[t]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],s.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t,r){const n=e.getContextRaw();for(const o of r||Object.keys(n))if(s.Util.EXPAND_KEYS_BLACKLIST.indexOf(o)<0&&!s.Util.isReservedInternalKeyword(o)){const r=n[o];if(s.Util.isPotentialKeyword(o)&&s.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(o)>=0&&("@type"!==o||"object"===typeof n[o]&&!n[o]["@protected"]&&"@set"!==n[o]["@container"]))throw new i.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${o} to ${JSON.stringify(r)}`,i.ERROR_CODES.KEYWORD_REDEFINITION);if(s.Util.ALIAS_RANGE_BLACKLIST.indexOf(s.Util.getContextValueId(r))>=0)throw new i.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${o} to ${JSON.stringify(r)}`,i.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(r&&s.Util.isPotentialKeyword(s.Util.getContextValueId(r))&&!0===r["@prefix"])throw new i.ErrorCoded(`Tried to use keyword aliases as prefix: '${o}': '${JSON.stringify(r)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);for(;s.Util.isPrefixValue(n[o]);){const r=n[o];let i=!1;if("string"===typeof r)n[o]=e.expandTerm(r,!0),i=i||r!==n[o];else{const a=r["@id"],l=r["@type"],u=!("@prefix"in r)||s.Util.isValidIri(o);if("@id"in r)void 0!==a&&null!==a&&"string"===typeof a&&(n[o]=Object.assign(Object.assign({},n[o]),{"@id":e.expandTerm(a,!0)}),i=i||a!==n[o]["@id"]);else if(!s.Util.isPotentialKeyword(o)&&u){const t=e.expandTerm(o,!0);t!==o&&(n[o]=Object.assign(Object.assign({},n[o]),{"@id":t}),i=!0)}if(l&&"string"===typeof l&&"@vocab"!==l&&(!r["@container"]||!r["@container"]["@type"])&&u){let r=e.expandTerm(l,!0);t&&l===r&&(r=e.expandTerm(l,!1)),r!==l&&(i=!0,n[o]=Object.assign(Object.assign({},n[o]),{"@type":r}))}}if(!i)break}}}normalize(e,t){let{processingMode:r,normalizeLanguageTags:n}=t;if(n||1===r)for(const i of Object.keys(e))if("@language"===i&&"string"===typeof e[i])e[i]=e[i].toLowerCase();else{const t=e[i];if(t&&"object"===typeof t&&"string"===typeof t["@language"]){const r=t["@language"].toLowerCase();r!==t["@language"]&&(e[i]=Object.assign(Object.assign({},t),{"@language":r}))}}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])e[t]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const n={};for(const e of r["@container"])n[e]=!0;e[t]=Object.assign(Object.assign({},r),{"@container":n})}}}applyScopedProtected(e,t,r){let{processingMode:n}=t;if(n&&n>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!s.Util.isReservedInternalKeyword(t)&&!s.Util.isPotentialKeyword(t)&&!s.Util.isTermProtected(e,t)){const n=e[t];n&&"object"===typeof n?"@protected"in e[t]||(e[t]=Object.assign(Object.assign({},e[t]),{"@protected":!0})):(e[t]={"@id":n,"@protected":!0},s.Util.isSimpleTermDefinitionPrefix(n,r)&&(e[t]=Object.assign(Object.assign({},e[t]),{"@prefix":!0})))}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r,n){for(const o of null!==n&&void 0!==n?n:Object.keys(t))if(s.Util.isTermProtected(e,o)&&("string"===typeof t[o]?t[o]={"@id":t[o],"@protected":!0}:t[o]=Object.assign(Object.assign({},t[o]),{"@protected":!0}),!s.Util.deepEqual(e[o],t[o])))throw new i.ErrorCoded(`Attempted to override the protected keyword ${o} from ${JSON.stringify(s.Util.getContextValueId(e[o]))} to ${JSON.stringify(s.Util.getContextValueId(t[o]))}`,i.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(e,t){let{processingMode:r}=t;for(const n of Object.keys(e)){if(s.Util.isReservedInternalKeyword(n))continue;if(""===n)throw new i.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(e[n])}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);const t=e[n],o=typeof t;if(s.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(null!==t&&"string"!==o)throw new i.ErrorCoded(`Found an invalid @vocab IRI: ${t}`,i.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==t&&"string"!==o)throw new i.ErrorCoded(`Found an invalid @base IRI: ${e[n]}`,i.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==t&&l.validateLanguage(t,!0,i.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==t&&"number"!==o)throw new i.ErrorCoded(`Found an invalid @version number: ${t}`,i.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==t&&l.validateDirection(t,!0);break;case"propagate":if(1===r)throw new i.ErrorCoded(`Found an illegal @propagate keyword: ${t}`,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==t&&"boolean"!==o)throw new i.ErrorCoded(`Found an invalid @propagate value: ${t}`,i.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(s.Util.isValidKeyword(n)&&s.Util.isValidKeyword(s.Util.getContextValueId(t)))throw new i.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${s.Util.getContextValueId(t)}'`,i.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==t)switch(o){case"string":if(s.Util.getPrefix(t,e)===n)throw new i.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.CYCLIC_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===t)throw new i.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${t}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(t)&&t!==new a.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${t}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!s.Util.isCompactIri(n)&&!("@id"in t)&&("@id"===t["@type"]?!e["@base"]:!e["@vocab"]))throw new i.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);for(const u of Object.keys(t)){const c=t[u];if(c)switch(u){case"@id":if(s.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c&&"@nest"!==c)throw new i.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===c)throw new i.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(c)&&c!==new a.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof c)throw new i.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.getPrefix(c,e)===n)throw new i.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===t["@container"]&&"@id"!==c&&"@vocab"!==c)throw new i.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${c}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof c)throw new i.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==c&&"@vocab"!==c&&(1===r||"@json"!==c)&&(1===r||"@none"!==c)&&("_"===c[0]||!s.Util.isValidIri(c)))throw new i.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${c}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof c&&t["@id"]&&t["@id"]!==c)throw new i.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${c}' and '${t["@id"]}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in t)throw new i.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===r&&(Object.keys(c).length>1||s.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new i.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(c)}') in 1.0, must be only one of ${s.Util.CONTAINERS_1_0.join(", ")}`,i.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(c)){if("@list"===e&&t["@reverse"])throw new i.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(s.Util.CONTAINERS.indexOf(e)<0)throw new i.ErrorCoded(`Invalid term @container for '${n}' ('${e}'), must be one of ${s.Util.CONTAINERS.join(", ")}`,i.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,i.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!==typeof c)throw new i.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in t)&&!s.Util.isValidIri(n))throw new i.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===r||!t["@container"]||!t["@container"]["@index"])throw new i.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(s.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new i.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(t)}'`,i.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new i.ErrorCoded(`Found an invalid term value: '${n}': '${t}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"object"===typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||s.Util.isValidIri(e["@base"])||(e["@base"]=(0,n.resolve)(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!s.Util.isValidIri(e))try{e=(0,n.resolve)(e,t)}catch(r){throw new Error(`Invalid context IRI: ${e}`)}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t,r){for(const o of null!==r&&void 0!==r?r:Object.keys(e)){const r=e[o];if(r&&"object"===typeof r&&"@context"in r&&null!==r["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const n=Object.assign(Object.assign({},e),{[o]:Object.assign({},e[o])});delete n[o]["@context"],await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,parentContext:n,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(n){throw new i.ErrorCoded(n.message,i.ERROR_CODES.INVALID_SCOPED_CONTEXT)}e[o]=Object.assign(Object.assign({},r),{"@context":(await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()})}}return e}async parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{baseIRI:n,parentContext:o,external:u,processingMode:c=l.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:d,ignoreProtection:f,minimalProcessing:h}=t,p=t.remoteContexts||{};if(Object.keys(p).length>=this.remoteContextsDepthLimit)throw new i.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(p),i.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!f&&o&&s.Util.hasProtectedTerms(o))throw new i.ErrorCoded("Illegal context nullification when terms are protected",i.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},t,!1))}if("string"===typeof e){const r=this.normalizeContextIri(e,n),i=this.getOverriddenLoad(r,t);if(i)return new a.JsonLdContextNormalized(i);const o=await this.parse(await this.load(r),Object.assign(Object.assign({},t),{baseIRI:r,external:!0,remoteContexts:Object.assign(Object.assign({},p),{[r]:!0})}));return this.applyBaseEntry(o.getContextRaw(),t,!0),o}if(Array.isArray(e)){const r=[],i=await Promise.all(e.map(((e,i)=>{if("string"===typeof e){const o=this.normalizeContextIri(e,n);r[i]=o;const a=this.getOverriddenLoad(o,t);return a||this.load(o)}return e})));if(h)return new a.JsonLdContextNormalized(i);const s=await i.reduce(((e,n,o)=>e.then((e=>this.parse(n,Object.assign(Object.assign({},t),{baseIRI:r[o]||t.baseIRI,external:!!r[o]||t.external,parentContext:e.getContextRaw(),remoteContexts:r[o]?Object.assign(Object.assign({},p),{[r[o]]:!0}):p}),{skipValidation:o<i.length-1})))),Promise.resolve(new a.JsonLdContextNormalized(o||{})));return this.applyBaseEntry(s.getContextRaw(),t,!0),s}if("object"===typeof e){if("@context"in e)return await this.parse(e["@context"],t);if(e=Object.assign({},e),u&&delete e["@base"],this.applyBaseEntry(e,t,!0),this.containersToHash(e),h)return new a.JsonLdContextNormalized(e);let p={};if("@import"in e){if(!(c>=1.1))throw new i.ErrorCoded("Context importing is not supported in JSON-LD 1.0",i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new i.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],i.ERROR_CODES.INVALID_IMPORT_VALUE);p=await this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}this.applyScopedProtected(p,{processingMode:c},a.defaultExpandOptions);const g=Object.assign(p,e);this.idifyReverseTerms(g),this.normalize(g,{processingMode:c,normalizeLanguageTags:d}),this.applyScopedProtected(g,{processingMode:c},a.defaultExpandOptions);const y=Object.keys(g),v=[];if("object"===typeof o)for(const e in o)e in g?v.push(e):g[e]=o[e];await this.parseInnerContexts(g,t,y);const m=new a.JsonLdContextNormalized(g);return(g&&g["@version"]||l.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&(o&&"@vocab"in o&&e["@vocab"].indexOf(":")<0?g["@vocab"]=o["@vocab"]+e["@vocab"]:(s.Util.isCompactIri(e["@vocab"])||e["@vocab"]in g)&&(g["@vocab"]=m.expandTerm(e["@vocab"],!0))),this.expandPrefixedTerms(m,this.expandContentTypeToBase,y),!f&&o&&c>=1.1&&this.validateKeywordRedefinitions(o,g,a.defaultExpandOptions,v),this.validateContext&&!r.skipValidation&&this.validate(g,{processingMode:c}),m}throw new i.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${e}`,i.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return t;let r;try{r=await this.documentLoader.load(e)}catch(n){throw new i.ErrorCoded(`Failed to load remote context ${e}: ${n.message}`,i.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new i.ErrorCoded(`Missing @context in remote context at ${e}`,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new i.ErrorCoded("Detected a cyclic context inclusion of "+e,i.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let t=await this.load(e);if("object"!==typeof t||Array.isArray(t))throw new i.ErrorCoded("An imported context must be a single object: "+e,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new i.ErrorCoded("An imported context can not import another context: "+e,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t=Object.assign({},t),this.containersToHash(t),t}}l.DEFAULT_PROCESSING_MODE=1.1,t.ContextParser=l},3641:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!==typeof self?self:"undefined"!==typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},3690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerInvalidFallback=void 0;t.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,t,r,n,i){return!1}async test(e,t,r,n,i){return!0}async handle(e,t,r,n,i,o){e.emittedStack[o]=!1}}},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3858:(e,t,r)=>{"use strict";const n=r(2285),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:c,Symbol:d,SymbolHasInstance:f}=r(1632);e.exports=F,F.WritableState=O;const{EventEmitter:h}=r(7284),p=r(7353).Stream,{Buffer:g}=r(6382),y=r(7958),{addAbortSignal:v}=r(9569),{getHighWaterMark:m,getDefaultHighWaterMark:b}=r(6809),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:I}=r(7045).codes,{errorOrDestroy:C}=y;function T(){}u(F.prototype,p.prototype),u(F,p);const P=d("kOnFinished");function O(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(1256)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",n):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){const t=this instanceof r(1256);if(!t&&!a(F,this))return new F(e);this._writableState=new O(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&v(e.signal,this)),p.call(this,e),y.construct(this,(()=>{const e=this._writableState;e.writing||W(this,e),K(this,e)}))}function D(e,t,r,i){const o=e._writableState;if("function"===typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new I(r)}else r=o.defaultEncoding;"function"!==typeof i&&(i=T)}if(null===t)throw new R;if(!o.objectMode)if("string"===typeof t)!1!==o.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let a;return o.ending?a=new k:o.destroyed&&(a=new A("write")),a?(n.nextTick(i,a),C(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==T&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function L(e,t,r,n){--t.pendingcb,n(r),H(t),C(e,r)}function U(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"===typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(L,e,r,t,o):L(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&W(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(M,r.afterWriteTickInfo)):B(e,r,1,o))):C(e,new S)}function M(e){let{stream:t,state:r,count:n,cb:i}=e;return r.afterWriteTickInfo=null,B(t,r,n,i)}function B(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&H(t),K(e,t)}function H(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:r,callback:n}=e.buffered[i],o=e.objectMode?1:r.length;e.length-=o,n(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}const r=e[P].splice(0);for(let i=0;i<r.length;i++){var n;r[i](null!==(n=e.errored)&&void 0!==n?n:new A("end"))}N(e)}function W(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?T:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===s?r:i(r,s);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",n),N(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[s];r[s++]=null;j(e,t,!1,o?1:n.length,n,i,a)}while(s<r.length&&!t.writing);s===r.length?N(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function $(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)C(e,null!==i&&void 0!==i?i:S());else if(r=!0,t.pendingcb--,i){const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e](i);C(e,i,t.sync)}else $(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(J,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function K(e,t,r){$(t)&&(V(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{$(t)?J(e,t):t.pendingcb--}),e,t)):$(t)&&(t.pendingcb++,J(e,t))))}function J(e,t){t.pendingcb--,t.finished=!0;const r=t[P].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}O.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(F,f,{__proto__:null,value:function(e){return!!a(this,e)||this===F&&(e&&e._writableState instanceof O)}}),F.prototype.pipe=function(){C(this,new E)},F.prototype.write=function(e,t,r){return!0===D(this,e,t,r)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||W(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!g.isEncoding(e))throw new I(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},F.prototype._writev=null,F.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e){const r=D(this,e,t);r instanceof o&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new x("end"):i.destroyed&&(a=new A("end")):(i.ending=!0,K(this,i,!0),i.ended=!0)),"function"===typeof r&&(a||i.finished?n.nextTick(r,a):i[P].push(r)),this},l(F.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const z=y.destroy;let G;function q(){return void 0===G&&(G={}),G}F.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[P].length)&&n.nextTick(H,r),z.call(this,e,t),this},F.prototype._undestroy=y.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return q().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return q().newWritableStreamFromStreamWritable(e)}},3953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SWRConfig:()=>q,default:()=>Q,mutate:()=>W,unstable_serialize:()=>Y,useSWRConfig:()=>J});var n=r(5043);function i(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a,s=function(){},l=s(),u=Object,c=function(e){return e===l},d=function(e){return"function"==typeof e},f=function(e,t){return u.assign({},e,t)},h="undefined",p=function(){return typeof window!=h},g=new WeakMap,y=0,v=function(e){var t,r,n=typeof e,i=e&&e.constructor,o=i==Date;if(u(e)!==e||o||i==RegExp)t=o?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=g.get(e))return t;if(t=++y+"~",g.set(e,t),i==Array){for(t="@",r=0;r<e.length;r++)t+=v(e[r])+",";g.set(e,t)}if(i==u){t="#";for(var a=u.keys(e).sort();!c(r=a.pop());)c(e[r])||(t+=r+":"+v(e[r])+",");g.set(e,t)}}return t},m=!0,b=p(),w=typeof document!=h,_=b&&window.addEventListener?window.addEventListener.bind(window):s,S=w?document.addEventListener.bind(document):s,E=b&&window.removeEventListener?window.removeEventListener.bind(window):s,A=w?document.removeEventListener.bind(document):s,x={isOnline:function(){return m},isVisible:function(){var e=w&&document.visibilityState;return c(e)||"hidden"!==e}},R={initFocus:function(e){return S("visibilitychange",e),_("focus",e),function(){A("visibilitychange",e),E("focus",e)}},initReconnect:function(e){var t=function(){m=!0,e()},r=function(){m=!1};return _("online",t),_("offline",r),function(){E("online",t),E("offline",r)}}},k=!p()||"Deno"in window,I=function(e){return p()&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(e):setTimeout(e,1)},C=k?n.useEffect:n.useLayoutEffect,T="undefined"!==typeof navigator&&navigator.connection,P=!k&&T&&(["slow-2g","2g"].includes(T.effectiveType)||T.saveData),O=function(e){if(d(e))try{e=e()}catch(r){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?v(e):"",t,e?"$swr$"+e:""]},N=new WeakMap,F=function(e,t,r,n,i,o,a){void 0===a&&(a=!0);var s=N.get(e),l=s[0],u=s[1],c=s[3],d=l[t],f=u[t];if(a&&f)for(var h=0;h<f.length;++h)f[h](r,n,i);return o&&(delete c[t],d&&d[0])?d[0](2).then((function(){return e.get(t)})):e.get(t)},D=0,j=function(){return++D},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(void 0,void 0,void 0,(function(){var t,r,n,i,a,s,u,h,p,g,y,v,m,b,w,_,S,E,A,x,R;return o(this,(function(o){switch(o.label){case 0:if(t=e[0],r=e[1],n=e[2],i=e[3],s=!!c((a="boolean"===typeof i?{revalidate:i}:i||{}).populateCache)||a.populateCache,u=!1!==a.revalidate,h=!1!==a.rollbackOnError,p=a.optimisticData,g=O(r),y=g[0],v=g[2],!y)return[2];if(m=N.get(t),b=m[2],e.length<3)return[2,F(t,y,t.get(y),l,l,u,!0)];if(w=n,S=j(),b[y]=[S,0],E=!c(p),A=t.get(y),E&&(x=d(p)?p(A):p,t.set(y,x),F(t,y,x)),d(w))try{w=w(t.get(y))}catch(k){_=k}return w&&d(w.then)?[4,w.catch((function(e){_=e}))]:[3,2];case 1:if(w=o.sent(),S!==b[y][0]){if(_)throw _;return[2,w]}_&&E&&h&&(s=!0,w=A,t.set(y,A)),o.label=2;case 2:return s&&(_||(d(s)&&(w=s(w,A)),t.set(y,w)),t.set(v,f(t.get(v),{error:_}))),b[y][1]=j(),[4,F(t,y,w,_,l,u,!!s)];case 3:if(R=o.sent(),_)throw _;return[2,s?R:w]}}))}))},U=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},M=function(e,t){if(!N.has(e)){var r=f(R,t),n={},i=L.bind(l,e),o=s;if(N.set(e,[n,{},{},{},i]),!k){var a=r.initFocus(setTimeout.bind(l,U.bind(l,n,0))),u=r.initReconnect(setTimeout.bind(l,U.bind(l,n,1)));o=function(){a&&a(),u&&u(),N.delete(e)}}return[e,i,o]}return[e,N.get(e)[4]]},B=M(new Map),H=B[0],W=B[1],$=f({onLoadingSlow:s,onSuccess:s,onError:s,onErrorRetry:function(e,t,r,n,i){var o=r.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!c(o)&&a>o||setTimeout(n,s,i)},onDiscarded:s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:P?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:P?5e3:3e3,compare:function(e,t){return v(e)==v(t)},isPaused:function(){return!1},cache:H,mutate:W,fallback:{}},x),V=function(e,t){var r=f(e,t);if(t){var n=e.use,i=e.fallback,o=t.use,a=t.fallback;n&&o&&(r.use=n.concat(o)),i&&a&&(r.fallback=f(i,a))}return r},K=(0,n.createContext)({}),J=function(){return f($,(0,n.useContext)(K))},z=function(e,t,r){var n=t[e]||(t[e]=[]);return n.push(r),function(){var e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}},G={dedupe:!0},q=u.defineProperty((function(e){var t=e.value,r=V((0,n.useContext)(K),t),i=t&&t.provider,o=(0,n.useState)((function(){return i?M(i(r.cache||H),t):l}))[0];return o&&(r.cache=o[0],r.mutate=o[1]),C((function(){return o?o[2]:l}),[]),(0,n.createElement)(K.Provider,f(e,{value:r}))}),"default",{value:$}),Y=function(e){return O(e)[0]},Q=(a=function(e,t,r){var a=r.cache,s=r.compare,u=r.fallbackData,h=r.suspense,p=r.revalidateOnMount,g=r.refreshInterval,y=r.refreshWhenHidden,v=r.refreshWhenOffline,m=N.get(a),b=m[0],w=m[1],_=m[2],S=m[3],E=O(e),A=E[0],x=E[1],R=E[2],T=(0,n.useRef)(!1),P=(0,n.useRef)(!1),D=(0,n.useRef)(A),U=(0,n.useRef)(t),M=(0,n.useRef)(r),B=function(){return M.current},H=function(){return B().isVisible()&&B().isOnline()},W=function(e){return a.set(R,f(a.get(R),e))},$=a.get(A),V=c(u)?r.fallback[A]:u,K=c($)?V:$,J=a.get(R)||{},q=J.error,Y=!T.current,Q=function(){return Y&&!c(p)?p:!B().isPaused()&&(h?!c(K)&&r.revalidateIfStale:c(K)||r.revalidateIfStale)},X=!(!A||!t)&&(!!J.isValidating||Y&&Q()),Z=function(e,t){var r=(0,n.useState)({})[1],i=(0,n.useRef)(e),o=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),a=(0,n.useCallback)((function(e){var n=!1,a=i.current;for(var s in e){var l=s;a[l]!==e[l]&&(a[l]=e[l],o.current[l]&&(n=!0))}n&&!t.current&&r({})}),[]);return C((function(){i.current=e})),[i,o.current,a]}({data:K,error:q,isValidating:X},P),ee=Z[0],te=Z[1],re=Z[2],ne=(0,n.useCallback)((function(e){return i(void 0,void 0,void 0,(function(){var t,n,i,u,f,h,p,g,y,v,m,b,w;return o(this,(function(o){switch(o.label){case 0:if(t=U.current,!A||!t||P.current||B().isPaused())return[2,!1];u=!0,f=e||{},h=!S[A]||!f.dedupe,p=function(){return!P.current&&A===D.current&&T.current},g=function(){var e=S[A];e&&e[1]===i&&delete S[A]},y={isValidating:!1},v=function(){W({isValidating:!1}),p()&&re(y)},W({isValidating:!0}),re({isValidating:!0}),o.label=1;case 1:return o.trys.push([1,3,,4]),h&&(F(a,A,ee.current.data,ee.current.error,!0),r.loadingTimeout&&!a.get(A)&&setTimeout((function(){u&&p()&&B().onLoadingSlow(A,r)}),r.loadingTimeout),S[A]=[t.apply(void 0,x),j()]),w=S[A],n=w[0],i=w[1],[4,n];case 2:return n=o.sent(),h&&setTimeout(g,r.dedupingInterval),S[A]&&S[A][1]===i?(W({error:l}),y.error=l,m=_[A],!c(m)&&(i<=m[0]||i<=m[1]||0===m[1])?(v(),h&&p()&&B().onDiscarded(A),[2,!1]):(s(ee.current.data,n)?y.data=ee.current.data:y.data=n,s(a.get(A),n)||a.set(A,n),h&&p()&&B().onSuccess(n,A,r),[3,4])):(h&&p()&&B().onDiscarded(A),[2,!1]);case 3:return b=o.sent(),g(),B().isPaused()||(W({error:b}),y.error=b,h&&p()&&(B().onError(b,A,r),("boolean"===typeof r.shouldRetryOnError&&r.shouldRetryOnError||d(r.shouldRetryOnError)&&r.shouldRetryOnError(b))&&H()&&B().onErrorRetry(b,A,r,ne,{retryCount:(f.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,v(),p()&&h&&F(a,A,y.data,y.error,!1),[2,!0]}}))}))}),[A]),ie=(0,n.useCallback)(L.bind(l,a,(function(){return D.current})),[]);if(C((function(){U.current=t,M.current=r})),C((function(){if(A){var e=A!==D.current,t=ne.bind(l,G),r=0,n=z(A,w,(function(e,t,r){re(f({error:t,isValidating:r},s(ee.current.data,e)?l:{data:e}))})),i=z(A,b,(function(e){if(0==e){var n=Date.now();B().revalidateOnFocus&&n>r&&H()&&(r=n+B().focusThrottleInterval,t())}else if(1==e)B().revalidateOnReconnect&&H()&&t();else if(2==e)return ne()}));return P.current=!1,D.current=A,T.current=!0,e&&re({data:K,error:q,isValidating:X}),Q()&&(c(K)||k?t():I(t)),function(){P.current=!0,n(),i()}}}),[A,ne]),C((function(){var e;function t(){var t=d(g)?g(K):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){ee.current.error||!y&&!B().isVisible()||!v&&!B().isOnline()?t():ne(G).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[g,y,v,ne]),(0,n.useDebugValue)(K),h&&c(K)&&A)throw U.current=t,M.current=r,P.current=!1,c(q)?ne(G):q;return{mutate:ie,get data(){return te.data=!0,K},get error(){return te.error=!0,q},get isValidating(){return te.isValidating=!0,X}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=J(),n=function(e){return d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}(e),i=n[0],o=n[1],s=n[2],l=V(r,s),u=a,c=l.use;if(c)for(var f=c.length;f-- >0;)u=c[f](u);return u(i,o||l.fetcher,l)})},3995:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(2852),{AggregateError:o}=r(4990),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,c={};function d(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];super(function(e,t,r){if("function"===typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((e,t,r)=>{d("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],a=[],s=[];for(const i of t)d("string"===typeof i,"All expected entries have to be of type string"),l.includes(i)?o.push(i.toLowerCase()):u.test(i)?a.push(i):(d("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"===typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"===typeof r){var c;if(null!==(c=r.constructor)&&void 0!==c&&c.name)n+=`. Received an instance of ${r.constructor.name}`;else{n+=`. Received ${i(r,{depth:-1})}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",n=i(t);n.length>128&&(n=n.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!==r&&void 0!==r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n;d(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>`"${e}"`)).join(" or "),i){case 1:n+=`The ${t[0]} argument`;break;case 2:n+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const e=t.pop();n+=`The ${t.join(", ")}, and ${e} arguments`}}return`${n} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"===typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:c}},4129:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2142);function i(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},4166:function(e,t,r){var n;n=(e,t,r,n,i)=>(()=>{"use strict";var o={577:e=>{e.exports=t},606:e=>{e.exports=r},156:t=>{t.exports=e},767:e=>{e.exports=i},928:e=>{e.exports=n}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{s.r(l),s.d(l,{CombinedDataProvider:()=>Q,DatasetContext:()=>h,DatasetProvider:()=>p,FileUpload:()=>a,Image:()=>x,Link:()=>z,LoginButton:()=>G,LogoutButton:()=>q,SessionContext:()=>i,SessionProvider:()=>o,Table:()=>ee,TableColumn:()=>Z,Text:()=>re,ThingContext:()=>y,ThingProvider:()=>v,Value:()=>K,Video:()=>ie,useDataset:()=>d,useFile:()=>E,useSession:()=>oe,useThing:()=>ae});var e=s(156),t=s.n(e),r=s(577),n=s(606);const i=(0,e.createContext)({login:n.login,logout:n.logout,fetch:n.fetch,session:(0,n.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),o=o=>{let{sessionId:a,children:s,onError:l,sessionRequestInProgress:u,restorePreviousSession:c,skipLoadingProfile:d,onSessionRestore:f}=o;const h=c||"undefined"!==typeof f,[p,g]=(0,e.useState)((0,n.getDefaultSession)()),[y,v]=(0,e.useState)();(0,e.useEffect)((()=>{void 0!==f&&(0,n.onSessionRestore)(f)}),[f]);const m="undefined"===typeof u?!p.info.isLoggedIn:u,[b,w]=(0,e.useState)(m);let _;return"undefined"!==typeof window&&(_=window.location),(0,e.useEffect)((()=>{(0,n.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:h}).then((async e=>{if(!0!==d&&void 0!==(null===e||void 0===e?void 0:e.webId)){const t=await(0,r.getProfileAll)(null===e||void 0===e?void 0:e.webId,{fetch:p.fetch});v(t)}})).catch((e=>{if(!l)throw e;l(e)})).finally((()=>{w(!1)})),(0,n.getDefaultSession)().on("logout",(()=>{g((0,n.getDefaultSession)())}))}),[p,a,l,_,h,d]),t().createElement(i.Provider,{value:{session:p,login:async e=>{w(!0);try{await(0,n.login)(e)}catch(t){if(!l)throw t;l(t)}finally{w(!1)}},logout:async()=>{try{await(0,n.logout)(),v(void 0)}catch(e){if(!l)throw e;l(e)}},sessionRequestInProgress:b,setSessionRequestInProgress:w,fetch:n.fetch,profile:y}},s)};function a(n){let{saveLocation:o,onError:a,onSave:s,inputProps:l,autosave:u}=n;const{fetch:c}=(0,e.useContext)(i);return t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"file"},l,{onChange:e=>(async e=>{const t=e.target;if(t.files&&u)try{const e=await(0,r.saveFileInContainer)(o,t.files[0],{slug:t.files[0].name?t.files[0].name:void 0,fetch:c});s&&s(e)}catch(n){a&&a(n)}})(e),"data-testid":"form-input"})))}var u=s(928),c=s.n(u);function d(t,n){const{fetch:o}=(0,e.useContext)(i),{solidDataset:a}=(0,e.useContext)(h),{data:s,error:l}=c()(t?[t,n,o]:null,(()=>{const e=Object.assign({fetch:o},n);return(0,r.getSolidDataset)(t,e)}));return{dataset:t?s:a,error:l}}const f=(0,e.createContext)({solidDataset:void 0,setDataset:()=>{}}),h=f,p=r=>{let{children:n,onError:i,solidDataset:o,datasetUrl:a,loading:s,loadingComponent:l}=r;const{dataset:u,error:c}=d(a);c&&i&&i(c);const h=null!==o&&void 0!==o?o:u,[p,g]=(0,e.useState)(h);(0,e.useEffect)((()=>{g(h)}),[h]);let y=l&&t().createElement(l,null)||s||t().createElement("span",null,"Fetching data...");return null===l&&(y=null),t().createElement(f.Provider,{value:{solidDataset:p,setDataset:g}},p?n:y)},g=(0,e.createContext)({thing:null,setThing:()=>{}}),y=g,v=n=>{let{children:i,thing:o,thingUrl:a}=n;const{solidDataset:s}=(0,e.useContext)(h);let l=o;s&&a&&(l=(0,r.getThing)(s,a));const[u,c]=(0,e.useState)(l||null);return(0,e.useEffect)((()=>{s&&a?c((0,r.getThing)(s,a)):o&&c(o)}),[s,a,o]),t().createElement(g.Provider,{value:{thing:u,setThing:c}},i)},m=async(e,t,n,i,o,a,s)=>{try{return void 0!==o&&t.size>1024*o?(n.setCustomValidity(`The selected file must not be larger than ${o}kB`),n.reportValidity(),null):(n.setCustomValidity(""),await(0,r.overwriteFile)(e,t,{fetch:i}),a&&a(),URL.createObjectURL(t))}catch(l){return s&&s(l),null}},b=async(e,t)=>await(0,r.getFile)(e,{fetch:t});function w(e,t,n,i){switch(e){case"boolean":return(0,r.getBoolean)(t,n);case"datetime":return(0,r.getDatetime)(t,n);case"decimal":return(0,r.getDecimal)(t,n);case"integer":return(0,r.getInteger)(t,n);case"url":return(0,r.getUrl)(t,n);default:return i?(0,r.getStringWithLocale)(t,n,i):(0,r.getStringNoLocale)(t,n)}}function _(t){const{dataset:r,thing:n,properties:i,property:o,type:a,locale:s}=t,{solidDataset:l,setDataset:u=()=>{}}=(0,e.useContext)(h),c=r||l,{thing:d,setThing:f=()=>{}}=(0,e.useContext)(y),p=n||d||void 0;let g;p||(g=new Error("Thing not found as property or in context"));const v=p&&i?function(e,t,r,n,i){return n.find((n=>e(t,r,n,i)))||n[0]}(w,a,p,i,s)||i[0]:o;if(!v)throw new Error("No property provided");return{dataset:c,thing:p,property:v,error:g,value:p&&v?w(a,p,v,s):null,setDataset:u,setThing:f}}async function S(e,t){t(await(0,r.getSolidDataset)(e))}function E(t){const[r,n]=(0,e.useState)(),[o,a]=(0,e.useState)(!1),[s,l]=(0,e.useState)(),{fetch:u}=(0,e.useContext)(i);return(0,e.useEffect)((()=>{t&&(a(!0),b(t,u).then((e=>{l(e),a(!1)})).catch((e=>{n(e),a(!1)})))}),[t,u]),{error:r,inProgress:o,data:s}}var A=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function x(n){var{thing:o,property:a,properties:s,edit:l,autosave:u,allowDelete:c,onSave:d,onError:f,maxSize:h,alt:p,inputProps:g,errorComponent:y,loadingComponent:v,deleteComponent:b,saveLocation:w,solidDataset:S}=n,x=A(n,["thing","property","properties","edit","autosave","allowDelete","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent","deleteComponent","saveLocation","solidDataset"]);const{fetch:R}=(0,e.useContext)(i),k=_({thing:o,property:a,properties:s,type:"url"}),{value:I,thing:C,error:T}=k;let P;I||(P=new Error("No value found for property."));const O=!C&&!T,[N,F]=(0,e.useState)(null!==T&&void 0!==T?T:P);(0,e.useEffect)((()=>{N&&f&&f(N)}),[N,f,y]);const[D,j]=(0,e.useState)(),{data:L,error:U,inProgress:M}=E(I);(0,e.useEffect)((()=>{if(M)return;if(U)return void F(U);const e=L&&URL.createObjectURL(L);e&&j(e)}),[L,M,U]);const B=async()=>{if(o&&S&&a&&"string"===typeof I&&u)try{const e=(0,r.removeUrl)(o,a,I),t=(0,r.setThing)(S,e),n=(0,r.getSourceUrl)(S);if(!n)return;await(0,r.saveSolidDatasetAt)(n,t,{fetch:R})}catch(e){F(e)}};let H=null;if(O||M){let e=v&&t().createElement(v,null)||t().createElement("span",null,"fetching data in progress");return null===v&&(e=null),e}return N?H=y?t().createElement(y,{error:N}):t().createElement("span",null,N.toString()):I&&(H=t().createElement("img",Object.assign({src:D,alt:null!==p&&void 0!==p?p:""},x))),t().createElement(t().Fragment,null,H,l&&t().createElement("input",Object.assign({},g,{type:"file",accept:"image/*",onChange:e=>(async t=>{const n=t.files;if(u&&n&&n.length>0)if(I){const e=await m(I,n[0],t,R,h,d,f);e&&j(e)}else if(!I&&w){const t=await(0,r.saveFileInContainer)(w,n[0],{fetch:R}),i=(0,r.getSourceUrl)(t);if(i&&o&&a&&S){j(i);try{const e=(0,r.addUrl)(o,a,i),t=(0,r.setThing)(S,e),n=(0,r.getSourceUrl)(S);if(!n)return;await(0,r.saveSolidDatasetAt)(n,t,{fetch:R})}catch(e){F(e)}}}})(e.target)})),c&&(b?t().createElement(b,{onClick:B}):t().createElement("button",{type:"button",onClick:B},"Delete")))}var R=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const k=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,onSave:d,onError:f,edit:h,autosave:p,inputProps:g}=n,y=R(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:v}=(0,e.useContext)(i),{value:m,thing:b,property:w,dataset:E,setDataset:A,error:x}=_({dataset:s,thing:a,type:"datetime",property:l,properties:u}),k=function(){const[t,r]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=document.createElement("input");e.type="datetime-local",r("text"!==e.type)}),[]),t}();(0,e.useEffect)((()=>{x&&f&&f(x)}),[x,f]);const I=m?m.toISOString().substring(0,m.toISOString().length-5):null,[C,T]=(0,e.useState)(I);let P="";k||(P=null===C||void 0===C?void 0:C.split(/T(.+)/)[0].toString());let O="00:00";k||(O=null===(o=null===C||void 0===C?void 0:C.split(/T(.+)/)[1])||void 0===o?void 0:o.toString());const[N,F]=(0,e.useState)(O),[D,j]=(0,e.useState)(P);(0,e.useEffect)((()=>{!N&&!D||k||T(`${null!==D&&void 0!==D?D:""}T${null!==N&&void 0!==N?N:"00:00"}`)}),[N,D,k]);const L=async e=>{if(I!==C&&b&&E&&e.target.reportValidity()){const e=C,n=(0,r.setDatetime)(b,w,new Date(`${e}Z`));try{let e;c?(e=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(E,n),{fetch:v}),await S(c,A)):(0,r.hasResourceInfo)(E)?(e=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(E),(0,r.setThing)(E,n),{fetch:v}),await S((0,r.getSourceUrl)(E),A)):f&&f(new Error("Please provide saveDatasetTo location for new data")),!x&&d&&d(e,n)}catch(t){f&&f(t)}}};let U;return U=k?"datetime-local":"datetime-workaround",t().createElement(t().Fragment,null,!h&&E&&b&&t().createElement("span",Object.assign({},y),`${C}`),h&&E&&b&&"datetime-local"===U&&t().createElement("input",Object.assign({type:U,"aria-label":"Date and Time",step:"any"},g,{onChange:e=>{T(e.target.value)},onBlur:e=>p&&L(e),value:C,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),h&&E&&b&&"datetime-workaround"===U&&t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},g,{onChange:e=>{j(e.target.value)},onBlur:e=>p&&L(e),value:D,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),t().createElement("input",{type:"time","aria-label":"Time",value:N,onChange:e=>F(e.target.value),onBlur:e=>p&&L(e),pattern:"[0-9]{2}:[0-9]{2}"})))};k.defaultProps={autosave:!1,edit:!1};const I=k;var C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const T=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,locale:d,onSave:f,onError:h,edit:p,autosave:g,inputProps:y}=n,v=C(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),{fetch:m}=(0,e.useContext)(i),{value:b,thing:w,property:E,dataset:A,setDataset:x,error:R}=_({dataset:s,thing:a,type:"string",property:l,properties:u,locale:d});(0,e.useEffect)((()=>{R&&h&&h(R)}),[R,h]);const k=null!==(o=null===b||void 0===b?void 0:b.toString())&&void 0!==o?o:"",[I,T]=(0,e.useState)(k);return t().createElement(t().Fragment,null,!p&&A&&w&&t().createElement("span",Object.assign({},v),I),p&&A&&w&&t().createElement("input",Object.assign({type:"text"},y,{onChange:e=>{T(e.target.value)},onBlur:e=>g&&(async e=>{if(k!==I&&w&&A&&e.target.reportValidity()){let e;e=d?(0,r.setStringWithLocale)(w,E,I,d):(0,r.setStringNoLocale)(w,E,I);try{let t;c?(t=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(A,e),{fetch:m}),await S(c,x)):(0,r.hasResourceInfo)(A)?(t=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,e),{fetch:m}),await S((0,r.getSourceUrl)(A),x)):h&&h(new Error("Please provide saveDatasetTo location for new data")),!R&&f&&f(t,e)}catch(t){h&&h(t)}}})(e),value:I})))};T.defaultProps={autosave:!1,edit:!1};const P=T;var O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const N=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,onSave:d,onError:f,edit:h,autosave:p,inputProps:g}=n,y=O(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:v}=(0,e.useContext)(i),{value:m,thing:b,property:w,dataset:E,setDataset:A,error:x}=_({dataset:s,thing:a,type:"boolean",property:l,properties:u});(0,e.useEffect)((()=>{x&&f&&f(x)}),[x,f]);let R=m,k=!1;k=null!==(o=m)&&void 0!==o&&o,R=k.toString();const[I,C]=(0,e.useState)(R),[T,P]=(0,e.useState)(k);return(0,e.useEffect)((()=>{C(T.toString())}),[T]),t().createElement(t().Fragment,null,!h&&E&&b&&t().createElement("span",Object.assign({},y),`${I}`),h&&E&&b&&t().createElement("input",Object.assign({type:"checkbox",checked:T},g,{onChange:e=>{P(e.target.checked)},onBlur:e=>p&&(async e=>{if(R!==I&&b&&E&&e.target.reportValidity()){const e=(0,r.setBoolean)(b,w,T);try{let t;c?(t=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(E,e),{fetch:v}),await S(c,A)):(0,r.hasResourceInfo)(E)?(t=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(E),(0,r.setThing)(E,e),{fetch:v}),await S((0,r.getSourceUrl)(E),A)):f&&f(new Error("Please provide saveDatasetTo location for new data")),!x&&d&&d(t,e)}catch(t){f&&f(t)}}})(e),value:I})))};N.defaultProps={autosave:!1,edit:!1};const F=N;var D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const j=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,onSave:d,onError:f,edit:h,autosave:p,inputProps:g}=n,y=D(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:v}=(0,e.useContext)(i),{value:m,thing:b,property:w,dataset:E,setDataset:A,error:x}=_({dataset:s,thing:a,type:"url",property:l,properties:u});(0,e.useEffect)((()=>{x&&f&&f(x)}),[x,f]);const R=null!==(o=null===m||void 0===m?void 0:m.toString())&&void 0!==o?o:"",[k,I]=(0,e.useState)(R);return t().createElement(t().Fragment,null,!h&&E&&b&&t().createElement("span",Object.assign({},y),`${k}`),h&&E&&b&&t().createElement("input",Object.assign({type:"url"},g,{onChange:e=>{I(e.target.value)},onBlur:e=>p&&(async e=>{if(R!==k&&b&&E&&e.target.reportValidity()){const e=(0,r.setUrl)(b,w,k);try{let t;c?(t=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(E,e),{fetch:v}),await S(c,A)):(0,r.hasResourceInfo)(E)?(t=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(E),(0,r.setThing)(E,e),{fetch:v}),await S((0,r.getSourceUrl)(E),A)):f&&f(new Error("Please provide saveDatasetTo location for new data")),!x&&d&&d(t,e)}catch(t){f&&f(t)}}})(e),value:k})))};j.defaultProps={autosave:!1,edit:!1};const L=j;var U=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const M=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,onSave:d,onError:f,edit:h,autosave:p,inputProps:g}=n,y=U(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:v}=(0,e.useContext)(i),{value:m,thing:b,property:w,dataset:E,setDataset:A,error:x}=_({dataset:s,thing:a,type:"integer",property:l,properties:u});(0,e.useEffect)((()=>{x&&f&&f(x)}),[x,f]);const R=null!==(o=null===m||void 0===m?void 0:m.toString())&&void 0!==o?o:"",[k,I]=(0,e.useState)(R);return t().createElement(t().Fragment,null,!h&&E&&b&&t().createElement("span",Object.assign({},y),`${k}`),h&&E&&b&&t().createElement("input",Object.assign({type:"number",step:"any"},g,{onChange:e=>{I(e.target.value)},onBlur:e=>p&&(async e=>{if(R!==k&&b&&E&&e.target.reportValidity()){const e=(0,r.setInteger)(b,w,parseInt(k,10));try{let t;c?(t=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(E,e),{fetch:v}),await S(c,A)):(0,r.hasResourceInfo)(E)?(t=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(E),(0,r.setThing)(E,e),{fetch:v}),await S((0,r.getSourceUrl)(E),A)):f&&f(new Error("Please provide saveDatasetTo location for new data")),!x&&d&&d(t,e)}catch(t){f&&f(t)}}})(e),value:k})))};M.defaultProps={autosave:!1,edit:!1};const B=M;var H=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const W=n=>{var o;const{thing:a,solidDataset:s,property:l,properties:u,saveDatasetTo:c,onSave:d,onError:f,edit:h,autosave:p,inputProps:g}=n,y=H(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:v}=(0,e.useContext)(i),{value:m,thing:b,property:w,dataset:E,setDataset:A,error:x}=_({dataset:s,thing:a,type:"decimal",property:l,properties:u});(0,e.useEffect)((()=>{x&&f&&f(x)}),[x,f]);const R=null!==(o=null===m||void 0===m?void 0:m.toString())&&void 0!==o?o:"",[k,I]=(0,e.useState)(R);return t().createElement(t().Fragment,null,!h&&E&&b&&t().createElement("span",Object.assign({},y),`${k}`),h&&E&&b&&t().createElement("input",Object.assign({type:"number",step:"any"},g,{onChange:e=>{I(e.target.value)},onBlur:e=>p&&(async e=>{if(R!==k&&b&&E&&e.target.reportValidity()){const e=(0,r.setDecimal)(b,w,parseFloat(k));try{let t;c?(t=await(0,r.saveSolidDatasetAt)(c,(0,r.setThing)(E,e),{fetch:v}),await S(c,A)):(0,r.hasResourceInfo)(E)?(t=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(E),(0,r.setThing)(E,e),{fetch:v}),await S((0,r.getSourceUrl)(E),A)):f&&f(new Error("Please provide saveDatasetTo location for new data")),!x&&d&&d(t,e)}catch(t){f&&f(t)}}})(e),value:k})))};W.defaultProps={autosave:!1,edit:!1};const $=W;var V=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function K(r){const n=r,{dataType:i}=n,o=V(n,["dataType"]),{thing:a,solidDataset:s,property:l,properties:u,edit:c,loadingComponent:d,errorComponent:f,locale:h}=o,{thing:p,value:g,error:y}=_({dataset:s,thing:a,property:l,properties:u,type:i,locale:h});let v;c||g||"boolean"===i||(v=new Error("No value found for property."));const m=!p&&!y,[b]=(0,e.useState)(null!==y&&void 0!==y?y:v);if(m){let e=d&&t().createElement(d,null)||t().createElement("span",null,"fetching data in progress");return null===d&&(e=null),e}if(b)return f?t().createElement(f,{error:b}):t().createElement("span",null,b.toString());let w=P;switch(i){case"boolean":w=F;break;case"datetime":w=I;break;case"decimal":w=$;break;case"integer":w=B;break;case"url":w=L;break;default:w=P}return t().createElement(w,Object.assign({},o))}K.defaultProps={autosave:!1,edit:!1};var J=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function z(r){var{children:n,property:i,properties:o,thing:a,solidDataset:s,autosave:l,rel:u,target:c,edit:d,loadingComponent:f,errorComponent:h,onSave:p,onError:g}=r,y=J(r,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]);const{value:v,thing:m,property:b,dataset:w,error:S}=_({dataset:s,thing:a,property:i,properties:o,type:"url"});let E;d||v||(E=new Error("URL not found for given property"));const A=!m&&!S,[x]=(0,e.useState)(null!==S&&void 0!==S?S:E);if(A){let e=f&&t().createElement(f,null)||t().createElement("span",null,"fetching data in progress");return null===f&&(e=null),e}if(x)return h?t().createElement(h,{error:x}):t().createElement("span",null,x.toString());const R=u||("_blank"===c?"noopener noreferrer":"nofollow");return d?t().createElement(K,{dataType:"url",solidDataset:w,thing:m,property:b,autosave:l,onSave:p,onError:g,edit:!0}):t().createElement("a",Object.assign({href:v,rel:R,target:c},y),null!==n&&void 0!==n?n:v)}const G=r=>{let{oidcIssuer:n,redirectUrl:o,children:a,authOptions:s,onError:l}=r;const u=Object.assign({redirectUrl:o,oidcIssuer:n},s),{login:c,setSessionRequestInProgress:d}=(0,e.useContext)(i);async function f(){d(!0);try{await c(u),d(!1)}catch(e){d(!1),l&&l(e)}}function h(e){return e.preventDefault(),"Enter"===e.key?f():Promise.resolve()}return a?t().createElement("div",{role:"button",tabIndex:0,onClick:f,onKeyDown:h},a):t().createElement("button",{type:"button",onClick:f,onKeyDown:h},"Log In")},q=r=>{let{children:n,onLogout:o,onError:a}=r;const{logout:s}=(0,e.useContext)(i);async function l(){try{await s(),o&&o()}catch(e){a&&a(e)}}function u(e){return e.preventDefault(),"Enter"===e.key?l():Promise.resolve()}return n?t().createElement("div",{role:"button",tabIndex:0,onClick:l,onKeyDown:u},n):t().createElement("button",{type:"button",onClick:l,onKeyDown:u},"Log Out")};var Y=s(767);const Q=function(e){const{children:r,solidDataset:n,datasetUrl:i,thing:o,thingUrl:a,onError:s,loadingComponent:l}=e;return t().createElement(p,{onError:s,solidDataset:n,datasetUrl:i,loadingComponent:l},t().createElement(v,{thing:o,thingUrl:a},r))};var X=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function Z(e){throw new Error("Can't use TableColumn outside a Table.")}function ee(n){var{children:i,emptyStateComponent:o,things:a,filter:s,ascIndicator:l,descIndicator:u,getRowProps:c}=n,d=X(n,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]);const{columns:f,data:h}=(0,e.useMemo)((()=>{const t=[],n=a.map((()=>({})));return e.Children.forEach(i,((e,i)=>{if(e){const{property:o,header:s,body:l,dataType:u="string",locale:c,multiple:d=!1,sortable:f,sortFn:h,filterable:p}=e.props;if(t.push({Header:null!==s&&void 0!==s?s:`${o}`,accessor:`col${i}`,disableGlobalFilter:!p,disableSortBy:!f,Cell:null!==l&&void 0!==l?l:e=>{let{value:t}=e;return null!=t?`${t}`:""}}),h){const e=(e,t,r)=>{const n=e.values[r],i=t.values[r];return h(n,i)};t[i].sortType=e}else"string"===u&&(t[i].sortType=u),"integer"!==u&&"decimal"!==u||(t[i].sortType="number");a.forEach(((e,t)=>{n[t][`col${i}`]=d?function(e,t,n,i){switch(e){case"boolean":return(0,r.getBooleanAll)(t,n);case"datetime":return(0,r.getDatetimeAll)(t,n);case"decimal":return(0,r.getDecimalAll)(t,n);case"integer":return(0,r.getIntegerAll)(t,n);case"url":return(0,r.getUrlAll)(t,n);default:return i?(0,r.getStringWithLocaleAll)(t,n,i):(0,r.getStringNoLocaleAll)(t,n)}}(u,e.thing,o,c):w(u,e.thing,o,c)}))}})),{columns:t,data:n}}),[i,a]),p=(0,Y.useTable)({columns:f,data:h,initialState:{globalFilter:s||void 0}},Y.useGlobalFilter,Y.useSortBy),{getTableProps:g,getTableBodyProps:y,headerGroups:v,rows:m,prepareRow:b}=p;return m.length?t().createElement("table",Object.assign({},g(),d),t().createElement("thead",null,v.map((e=>t().createElement("tr",Object.assign({},e.getHeaderGroupProps()),e.headers.map((e=>t().createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),e.isSorted&&(e.isSortedDesc?u:l)))))))),t().createElement("tbody",Object.assign({},y()),m.map((e=>{b(e);const r=a[e.index].dataset,n=a[e.index].thing;return t().createElement("tr",Object.assign({},e.getRowProps(c(e,n,r))),t().createElement(Q,{solidDataset:r,thing:n},e.cells.map((e=>t().createElement("td",Object.assign({},e.getCellProps()),e.render("Cell"))))))})))):o?t().createElement(o,null):null}ee.defaultProps={filter:void 0,ascIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ","\ud83d\udd3c"),descIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ","\ud83d\udd3d"),getRowProps:()=>({})};var te=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function re(n){var{thing:o,solidDataset:a,property:s,properties:l,saveDatasetTo:u,locale:c,onSave:d,onError:f,inputProps:h,errorComponent:p,loadingComponent:g,edit:y=!1,autosave:v=!1}=n,m=te(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]);const{fetch:b}=(0,e.useContext)(i),{error:w,value:E,thing:A,property:x,dataset:R,setDataset:k}=_({dataset:a,thing:o,property:s,properties:l,type:"string",locale:c});let I;y||E||(I=new Error("No value found for property."));const C=!A&&!w,[T]=(0,e.useState)(null!==w&&void 0!==w?w:I);(0,e.useEffect)((()=>{T&&f&&f(T)}),[T,f]);const[P,O]=(0,e.useState)(E),[,N]=(0,e.useState)(),[F,D]=(0,e.useState)(E);if(C){let e=g&&t().createElement(g,null)||t().createElement("span",null,"fetching data in progress");return null===g&&(e=null),e}return T?p?t().createElement(p,{error:T}):t().createElement("span",null,T.toString()):t().createElement(t().Fragment,null,!y&&R&&A&&t().createElement("span",Object.assign({},m),P),y&&R&&A&&t().createElement("input",Object.assign({type:h&&h.type?h.type:"text"},h,{onFocus:e=>D(e.target.value),onChange:e=>O(e.target.value),onBlur:e=>v&&(async e=>{if(F!==e.target.value&&A&&R){const n=e.target.value;let i;i=c?(0,r.setStringWithLocale)(A,x,n,c):(0,r.setStringNoLocale)(A,x,n);try{let e;u?(e=await(0,r.saveSolidDatasetAt)(u,(0,r.setThing)(R,i),{fetch:b}),await S(u,k)):(0,r.hasResourceInfo)(R)?(e=await(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(R),(0,r.setThing)(R,i),{fetch:b}),await S((0,r.getSourceUrl)(R),k)):N((()=>{throw new Error("Please provide saveDatasetTo location for new data")})),d&&d(e,i)}catch(t){f&&f(t)}}})(e),value:P||""})))}var ne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ie(r){var{property:n,properties:o,thing:a,edit:s,autosave:l,onSave:u,onError:c,maxSize:d,inputProps:f,errorComponent:h,loadingComponent:p}=r,g=ne(r,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]);const{fetch:y}=(0,e.useContext)(i),v=_({thing:a,property:n,properties:o,type:"url"}),{value:b,thing:w,error:S}=v;let A;s||b||(A=new Error("No value found for property."));const x=!w&&!S,[R,k]=(0,e.useState)(null!==S&&void 0!==S?S:A);(0,e.useEffect)((()=>{R&&c&&c(R)}),[R,c,h]);const[I,C]=(0,e.useState)(""),{data:T,error:P,inProgress:O}=E(b);(0,e.useEffect)((()=>{if(O)return;if(P)return void k(P);const e=T&&URL.createObjectURL(T);e&&C(e)}),[T,O,P]);let N=null;if(x||O){let e=p&&t().createElement(p,null)||t().createElement("span",null,"fetching data in progress");return null===p&&(e=null),e}return R?N=h?t().createElement(h,{error:R}):t().createElement("span",null,R.toString()):b&&(N=t().createElement("video",Object.assign({src:I||b,controls:!0},g))),t().createElement(t().Fragment,null,N,s&&t().createElement("input",Object.assign({},f,{type:"file",accept:"video/*",onChange:e=>(async e=>{const t=e.files;if(l&&t&&t.length>0&&b){const r=await m(b,t[0],e,y,d,u,c);r&&C(r)}})(e.target)})))}function oe(){const{session:t,sessionRequestInProgress:r,fetch:n,login:o,logout:a}=(0,e.useContext)(i);return{session:t,sessionRequestInProgress:r,fetch:n,login:o,logout:a}}function ae(t,n,i){const{dataset:o,error:a}=d(t,i),{thing:s}=(0,e.useContext)(y);return n?o?{thing:(0,r.getThing)(o,n),error:a}:{thing:null,error:a}:{thing:s||void 0,error:a}}})(),l})(),e.exports=n(r(5043),r(7768),r(523),r(3953),r(5405))},4209:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,FL:()=>v,PB:()=>h,Yo:()=>d,iN:()=>y,kO:()=>m,n7:()=>m,rT:()=>p,uS:()=>f,x1:()=>c,yV:()=>g});var n=r(7103);const{rdf:i,xsd:o}=n.A;let a,s=0;const l={namedNode:b,blankNode:w,variable:S,literal:_,defaultGraph:function(){return a},quad:E,triple:E,fromTerm:A,fromQuad:x},u=l;class c{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class d extends c{get termType(){return"NamedNode"}}class f extends c{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new d(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?o.string:i.langString}equals(e){return e instanceof f?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class h extends c{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class p extends c{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class g extends c{constructor(){return super(""),a||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function y(e,t,r){if(t=t||l,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===l)return new f(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(y(e[0],t,!0),y(e[1],t,!0),y(e[2],t,!0),e[3]&&y(e[3],t,!0))}function v(e,t){if("string"===typeof e)return e;if(e instanceof c&&"Quad"!==e.termType)return e.id;if(!e)return a.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==o.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[v(e.subject,!0),v(e.predicate,!0),v(e.object,!0)];return e.graph&&"DefaultGraph"!==e.graph.termType&&r.push(v(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}a=new g;class m extends c{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||a}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function b(e){return new d(e)}function w(e){return new h(e||"n3-"+s++)}function _(e,t){if("string"===typeof t)return new f(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return""===r&&("boolean"===typeof e?r=o.boolean:"number"===typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?o.integer:o.double:(r=o.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===r||r===o.string?new f(`"${e}"`):new f(`"${e}"^^${r}`)}function S(e){return new p(e)}function E(e,t,r,n){return new m(e,t,r,n)}function A(e){if(e instanceof c)return e;switch(e.termType){case"NamedNode":return b(e.value);case"BlankNode":return w(e.value);case"Variable":return S(e.value);case"DefaultGraph":return a;case"Literal":return _(e.value,e.language||e.datatype);case"Quad":return x(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function x(e){if(e instanceof m)return e;if("Quad"!==e.termType)throw new Error(`Unexpected termType: ${e.termType}`);return E(A(e.subject),A(e.predicate),A(e.object),A(e.graph))}},4245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(5952))&&n.__esModule?n:{default:n};var o=function(e){return"string"===typeof e&&i.default.test(e)};t.default=o},4262:(e,t,r)=>{"use strict";const n=r(2285),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(1632),{Buffer:s}=r(6382),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(7045).codes;e.exports=function(e,t,r){let c,d;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,c=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);d=!1,c=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let h=!1;return f._read=function(){h||(h=!0,async function(){for(;;){try{const{value:e,done:t}=d?await c.next():c.next();if(t)f.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw h=!1,new u;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=void 0!==e&&null!==e,r="function"===typeof c.throw;if(t&&r){const{value:t,done:r}=await c.throw(e);if(await t,r)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},f}},4275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=globalThis.fetch;const{fetch:n,Response:i,Request:o,Headers:a}=globalThis;t.Headers=a,t.Request=o,t.Response=i,t.default=r,t.fetch=n},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}function m(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var w=b.prototype=new m;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function A(e,t,n,i,o,a){return n=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var R=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0;break;case f:return C((c=e._init)(e._payload),t,i,o,a)}}if(c)return a=a(e),c=""===o?"."+k(e,0):o,_(a)?(i="",null!=c&&(i=c.replace(R,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(l=a,u=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+c,a=A(l.type,u,void 0,0,0,l.props)),t.push(a)),1;c=0;var d,p=""===o?".":o+":";if(_(e))for(var g=0;g<e.length;g++)c+=C(o=e[g],t,i,s=p+k(o,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)c+=C(o=o.value,t,i,s=p+k(o,g++),a);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function T(e,t,r){if(null==e)return e;var n=[],i=0;return C(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];n.children=a}return A(e.type,i,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)E.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return A(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,r={};S.T=r;try{var n=e(),i=S.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,O)}catch(o){O(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,r){return S.H.useActionState(e,t,r)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,r){return S.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.H.useReducer(e,t,r)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},4344:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(l=o)|s>>>32-l,r);var s,l}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,u=-271733879,c=-1732584194,d=271733878;for(let r=0;r<e.length;r+=16){const t=i,f=u,h=c,p=d;i=o(i,u,c,d,e[r],7,-680876936),d=o(d,i,u,c,e[r+1],12,-389564586),c=o(c,d,i,u,e[r+2],17,606105819),u=o(u,c,d,i,e[r+3],22,-1044525330),i=o(i,u,c,d,e[r+4],7,-176418897),d=o(d,i,u,c,e[r+5],12,1200080426),c=o(c,d,i,u,e[r+6],17,-1473231341),u=o(u,c,d,i,e[r+7],22,-45705983),i=o(i,u,c,d,e[r+8],7,1770035416),d=o(d,i,u,c,e[r+9],12,-1958414417),c=o(c,d,i,u,e[r+10],17,-42063),u=o(u,c,d,i,e[r+11],22,-1990404162),i=o(i,u,c,d,e[r+12],7,1804603682),d=o(d,i,u,c,e[r+13],12,-40341101),c=o(c,d,i,u,e[r+14],17,-1502002290),u=o(u,c,d,i,e[r+15],22,1236535329),i=a(i,u,c,d,e[r+1],5,-165796510),d=a(d,i,u,c,e[r+6],9,-1069501632),c=a(c,d,i,u,e[r+11],14,643717713),u=a(u,c,d,i,e[r],20,-373897302),i=a(i,u,c,d,e[r+5],5,-701558691),d=a(d,i,u,c,e[r+10],9,38016083),c=a(c,d,i,u,e[r+15],14,-660478335),u=a(u,c,d,i,e[r+4],20,-405537848),i=a(i,u,c,d,e[r+9],5,568446438),d=a(d,i,u,c,e[r+14],9,-1019803690),c=a(c,d,i,u,e[r+3],14,-187363961),u=a(u,c,d,i,e[r+8],20,1163531501),i=a(i,u,c,d,e[r+13],5,-1444681467),d=a(d,i,u,c,e[r+2],9,-51403784),c=a(c,d,i,u,e[r+7],14,1735328473),u=a(u,c,d,i,e[r+12],20,-1926607734),i=s(i,u,c,d,e[r+5],4,-378558),d=s(d,i,u,c,e[r+8],11,-2022574463),c=s(c,d,i,u,e[r+11],16,1839030562),u=s(u,c,d,i,e[r+14],23,-35309556),i=s(i,u,c,d,e[r+1],4,-1530992060),d=s(d,i,u,c,e[r+4],11,1272893353),c=s(c,d,i,u,e[r+7],16,-155497632),u=s(u,c,d,i,e[r+10],23,-1094730640),i=s(i,u,c,d,e[r+13],4,681279174),d=s(d,i,u,c,e[r],11,-358537222),c=s(c,d,i,u,e[r+3],16,-722521979),u=s(u,c,d,i,e[r+6],23,76029189),i=s(i,u,c,d,e[r+9],4,-640364487),d=s(d,i,u,c,e[r+12],11,-421815835),c=s(c,d,i,u,e[r+15],16,530742520),u=s(u,c,d,i,e[r+2],23,-995338651),i=l(i,u,c,d,e[r],6,-198630844),d=l(d,i,u,c,e[r+7],10,1126891415),c=l(c,d,i,u,e[r+14],15,-1416354905),u=l(u,c,d,i,e[r+5],21,-57434055),i=l(i,u,c,d,e[r+12],6,1700485571),d=l(d,i,u,c,e[r+3],10,-1894986606),c=l(c,d,i,u,e[r+10],15,-1051523),u=l(u,c,d,i,e[r+1],21,-2054922799),i=l(i,u,c,d,e[r+8],6,1873313359),d=l(d,i,u,c,e[r+15],10,-30611744),c=l(c,d,i,u,e[r+6],15,-1560198380),u=l(u,c,d,i,e[r+13],21,1309151649),i=l(i,u,c,d,e[r+4],6,-145523070),d=l(d,i,u,c,e[r+11],10,-1120210379),c=l(c,d,i,u,e[r+2],15,718787259),u=l(u,c,d,i,e[r+9],21,-343485551),i=n(i,t),u=n(u,f),c=n(c,h),d=n(d,p)}return[i,u,c,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=u},4346:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(1632);e.exports=o;const i=r(2424);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordType=void 0;const n=r(7139),i=r(6016),o=r(1490),a=r(9028);class s extends a.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(e,t,r,a,s,l){const u=a[l],c=await e.getContext(a),d=t.rdfType,f=await t.unaliasKeywordParent(a,l),h=i.Util.isPropertyReverse(c,u,f),p=i.Util.isPropertyInEmbeddedNode(f);t.validateReverseInEmbeddedNode(r,h,p);const g=i.Util.isPropertyInAnnotationObject(f),y=Array.isArray(s)?s:[s];for(const i of y){"string"!==typeof i&&e.emitError(new n.ErrorCoded(`Found illegal @type '${i}'`,n.ERROR_CODES.INVALID_TYPE_VALUE));const r=t.createVocabOrBaseTerm(c,i);r&&await o.EntryHandlerPredicate.handlePredicateObject(e,t,a,l,d,r,h,p,g)}let v=Promise.resolve(c),m=!1;for(const n of y.sort()){const t=i.Util.getContextValue(c,"@context",n,null);t&&(m=!0,v=v.then((r=>e.parseContext(t,r.getContextRaw()))))}!e.streamingProfile||!m&&e.streamingProfileAllowOutOfOrderPlainType||!e.processingStack[l]&&!e.idStack[l]||e.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),m&&(v=v.then((e=>!0!==e.getContextRaw()["@propagate"]?new n.JsonLdContextNormalized(Object.assign(Object.assign({},e.getContextRaw()),{"@propagate":!1,"@__propagateFallback":c.getContextRaw()})):e)),e.contextTree.setContext(a.slice(0,a.length-1),v)),e.processingType[l]=!0}}t.EntryHandlerKeywordType=s},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],l=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),c=0,d=l>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4476:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(7987),i=r(2142),o=r(2510);async function a(e,t,r){if(e instanceof Uint8Array&&(e=o.D0.decode(e)),"string"!==typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:a,1:s,2:l,length:u}=e.split(".");if(3!==u)throw new i.JWSInvalid("Invalid Compact JWS");const c=await(0,n.Z)({payload:s,protected:a,signature:l},t,r),d={payload:c.payload,protectedHeader:c.protectedHeader};return"function"===typeof t?{...d,key:c.key}:d}},4539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{inDefaultGraph:()=>u,isBlankNode:()=>o,isDefaultGraph:()=>l,isLiteral:()=>a,isNamedNode:()=>i,isVariable:()=>s,prefix:()=>c,prefixes:()=>d});var n=r(4209);function i(e){return!!e&&"NamedNode"===e.termType}function o(e){return!!e&&"BlankNode"===e.termType}function a(e){return!!e&&"Literal"===e.termType}function s(e){return!!e&&"Variable"===e.termType}function l(e){return!!e&&"DefaultGraph"===e.termType}function u(e){return l(e.graph)}function c(e,t){return d({"":e.value||e},t)("")}function d(e,t){const r=Object.create(null);for(const n in e)i(n,e[n]);function i(e,n){if("string"===typeof n){const i=Object.create(null);r[e]=e=>i[e]||(i[e]=t.namedNode(n+e))}else if(!(e in r))throw new Error(`Unknown prefix: ${e}`);return r[e]}return t=t||n.Ay,i}},4633:(e,t,r)=>{var n=r(3738).default;function i(){"use strict";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new N(n||[]);return s(o,"_invoke",{value:C(e,r,a)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=h;var g="suspendedStart",y="suspendedYield",v="executing",m="completed",b={};function w(){}function _(){}function S(){}var E={};f(E,u,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(F([])));x&&x!==o&&a.call(x,u)&&(E=x);var R=S.prototype=w.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,o,s,l){var u=p(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var i=g;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=T(s,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===g)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(e,r,n);if("normal"===u.type){if(i=n.done?m:y,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(a.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return _.prototype=S,s(R,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:_,configurable:!0}),_.displayName=f(S,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,f(e,d,"GeneratorFunction")),e.prototype=Object.create(R),e},r.awrap=function(e){return{__await:e}},k(I.prototype),f(I.prototype,c,(function(){return this})),r.AsyncIterator=I,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new I(h(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(R),f(R,d,"Generator"),f(R,u,(function(){return this})),f(R,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=F,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},4640:(e,t,r)=>{"use strict";r.d(t,{n:()=>p});var n=r(7251),i=r(4129),o=r(7692),a=r(1374),s=r(9291);const l=async(e,t,r)=>{const n=await(0,s.A)(e,t,"sign");(0,a.A)(e,n);const l=await o.A.subtle.sign((0,i.A)(e,n.algorithm),n,r);return new Uint8Array(l)};var u=r(885),c=r(2142),d=r(2510),f=r(1675),h=r(4915);class p{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new c.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,u.A)(this._protectedHeader,this._unprotectedHeader))throw new c.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let i=!0;if((0,h.A)(c.JWSInvalid,new Map([["b64",!0]]),null===t||void 0===t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(i=this._protectedHeader.b64,"boolean"!==typeof i))throw new c.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if("string"!==typeof o||!o)throw new c.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,f.A)(o,e,"sign");let a,s=this._payload;i&&(s=d.Rd.encode((0,n.lF)(s))),a=this._protectedHeader?d.Rd.encode((0,n.lF)(JSON.stringify(this._protectedHeader))):d.Rd.encode("");const p=(0,d.xW)(a,d.Rd.encode("."),s),g=await l(o,e,p),y={signature:(0,n.lF)(g),payload:""};return i&&(y.payload=d.D0.decode(s)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=d.D0.decode(a)),y}}},4689:e=>{class t{equals(e){return!!e&&e.termType===this.termType}}t.prototype.termType="DefaultGraph",t.prototype.value="",e.exports=t},4697:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(4476),i=r(7058),o=r(2142);async function a(e,t,r){var a;const s=await(0,n.B)(e,t,r);if((null===(a=s.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===s.protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");const l={payload:(0,i.A)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"===typeof t?{...l,key:s.key}:l}},4756:(e,t,r)=>{var n=r(4633)();e.exports=n;try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},4818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},4915:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2142);const i=function(e,t,r,i,o){if(void 0!==o.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some((e=>"string"!==typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const s of i.crit){if(!a.has(s))throw new n.JOSENotSupported(`Extension Header Parameter "${s}" is not recognized`);if(void 0===o[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===i[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)}},4922:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1053),t)},4990:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.call(t,...n)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array:Uint8Array}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5063:e=>{function t(e){return"string"===typeof e||e instanceof String}function r(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;let t,n,o,a;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?`^^${e.datatype.value}`:""}`;case"Quad":return t=i(r(e.subject)),n=i(r(e.predicate)),o=i(r(e.object)),a="DefaultGraph"===e.graph.termType?"":` ${r(e.graph)}`,`<<${t} ${n} ${o}${a}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const n=/^"(.*".*)(?="[^"]*$)/;function i(e){return e.replace(n,((e,t)=>`"${t.replace(/"/g,'""')}`))}class o{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const t of e)this.add(t)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const o in r=t[i].subjects)for(const t in n=r[o])e+=Object.keys(n[t]).length;return this._size=e,this._size}add(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph);let a=this._graphs[o];a||(a=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(a));const s=this._ids,l=this._entities;return t=s[t]||(s[l[++this._id]=t]=this._id),n=s[n]||(s[l[++this._id]=n]=this._id),i=s[i]||(s[l[++this._id]=i]=this._id),this._addToIndex(a.subjects,t,n,i),this._addToIndex(a.predicates,n,i,t),this._addToIndex(a.objects,i,t,n),this._setQuad(t,n,i,o,e),this._size=null,this}delete(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph),a=this._ids,s=this._graphs;let l,u,c;if(!(t=a[t])||!(n=a[n])||!(i=a[i])||!(l=s[o])||!(u=l.subjects[t])||!(c=u[n])||!(i in c))return this;for(t in this._removeFromIndex(l.subjects,t,n,i),this._removeFromIndex(l.predicates,n,i,t),this._removeFromIndex(l.objects,i,t,n),null!==this._size&&this._size--,this._deleteQuad(t,n,i,o),l.subjects)return this;return delete s[o],this}has(e){const n=r(e.subject),i=r(e.predicate),o=r(e.object),a=r(e.graph),s=this._graphs[a];if(!s)return!1;const l=this._ids;let u,c,d;return!(t(n)&&!(u=l[n])||t(i)&&!(c=l[i])||t(o)&&!(d=l[o]))&&1===this._countInIndex(s.objects,d,u,c)}match(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(e,t,r,n){const i=e[t],o=i[r];delete o[n];for(const a in o)return;delete i[r];for(const a in i)return;delete e[t]}_findInIndex(e,t,r,n,i,o,a,s,l,u){let c,d,f;t&&((c=e,e={})[t]=c[t]);for(const h in e)if(d=e[h],d){r&&((c=d,d={})[r]=c[r]);for(const e in d)if(f=d[e],f){const t=n?n in f?[n]:[]:Object.keys(f);for(let r=0;r<t.length;r++){const n={[i]:h,[o]:e,[a]:t[r]},c=this._getQuad(n.subject,n.predicate,n.object,s);if(u)u.push(c);else if(l(c))return!0}}}return u}_countInIndex(e,t,r,n){let i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(const l in e)if(o=e[l],o){r&&((i=o,o={})[r]=i[r]);for(const e in o)a=o[e],a&&(n?n in a&&s++:s+=Object.keys(a).length)}return s}_getGraphs(e){return t(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,n,i,o){e=e&&r(e),n=n&&r(n),i=i&&r(i),o=o&&r(o);const a=[],s=this._getGraphs(o),l=this._ids;let u,c,d,f;if(t(e)&&!(c=l[e])||t(n)&&!(d=l[n])||t(i)&&!(f=l[i]))return a;for(const t in s)u=s[t],u&&(c?f?this._findInIndex(u.objects,f,c,d,"object","subject","predicate",t,null,a):this._findInIndex(u.subjects,c,d,null,"subject","predicate","object",t,null,a):d?this._findInIndex(u.predicates,d,f,null,"predicate","object","subject",t,null,a):f?this._findInIndex(u.objects,f,null,null,"object","subject","predicate",t,null,a):this._findInIndex(u.subjects,null,null,null,"subject","predicate","object",t,null,a));return a}_getQuad(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}_setQuad(e,t,r,n,i){this._quads.set(this._toId(e,t,r,n),i)}_deleteQuad(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}_createDataset(e){return new this.constructor(e)}_toId(e,t,r,n){return`${e}:${t}:${r}:${n}`}}e.exports=o},5092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},5123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6344))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},5164:(e,t,r)=>{const n=r(598);e.exports=n},5280:(e,t,r)=>{"use strict";const n=r(2285),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:c,Symbol:d,SymbolHasInstance:f}=r(4990);e.exports=F,F.WritableState=O;const{EventEmitter:h}=r(7284),p=r(731).Stream,{Buffer:g}=r(6382),y=r(1168),{addAbortSignal:v}=r(1691),{getHighWaterMark:m,getDefaultHighWaterMark:b}=r(7683),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:I}=r(3995).codes,{errorOrDestroy:C}=y;function T(){}u(F.prototype,p.prototype),u(F,p);const P=d("kOnFinished");function O(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(6594)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",n):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){const t=this instanceof r(6594);if(!t&&!a(F,this))return new F(e);this._writableState=new O(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&v(e.signal,this)),p.call(this,e),y.construct(this,(()=>{const e=this._writableState;e.writing||W(this,e),K(this,e)}))}function D(e,t,r,i){const o=e._writableState;if("function"===typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new I(r)}else r=o.defaultEncoding;"function"!==typeof i&&(i=T)}if(null===t)throw new R;if(!o.objectMode)if("string"===typeof t)!1!==o.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let a;return o.ending?a=new k:o.destroyed&&(a=new A("write")),a?(n.nextTick(i,a),C(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==T&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function L(e,t,r,n){--t.pendingcb,n(r),H(t),C(e,r)}function U(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"===typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(L,e,r,t,o):L(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&W(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(M,r.afterWriteTickInfo)):B(e,r,1,o))):C(e,new S)}function M(e){let{stream:t,state:r,count:n,cb:i}=e;return r.afterWriteTickInfo=null,B(t,r,n,i)}function B(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&H(t),K(e,t)}function H(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:r,callback:n}=e.buffered[i],o=e.objectMode?1:r.length;e.length-=o,n(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}const r=e[P].splice(0);for(let i=0;i<r.length;i++){var n;r[i](null!==(n=e.errored)&&void 0!==n?n:new A("end"))}N(e)}function W(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?T:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===s?r:i(r,s);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",n),N(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[s];r[s++]=null;j(e,t,!1,o?1:n.length,n,i,a)}while(s<r.length&&!t.writing);s===r.length?N(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function $(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)C(e,null!==i&&void 0!==i?i:S());else if(r=!0,t.pendingcb--,i){const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e](i);C(e,i,t.sync)}else $(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(J,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function K(e,t,r){$(t)&&(V(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{$(t)?J(e,t):t.pendingcb--}),e,t)):$(t)&&(t.pendingcb++,J(e,t))))}function J(e,t){t.pendingcb--,t.finished=!0;const r=t[P].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}O.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(F,f,{__proto__:null,value:function(e){return!!a(this,e)||this===F&&(e&&e._writableState instanceof O)}}),F.prototype.pipe=function(){C(this,new E)},F.prototype.write=function(e,t,r){return!0===D(this,e,t,r)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||W(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!g.isEncoding(e))throw new I(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},F.prototype._writev=null,F.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e){const r=D(this,e,t);r instanceof o&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new x("end"):i.destroyed&&(a=new A("end")):(i.ending=!0,K(this,i,!0),i.ended=!0)),"function"===typeof r&&(a||i.finished?n.nextTick(r,a):i[P].push(r)),this},l(F.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const z=y.destroy;let G;function q(){return void 0===G&&(G={}),G}F.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[P].length)&&n.nextTick(H,r),z.call(this,e,t),this},F.prototype._undestroy=y.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return q().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return q().newWritableStreamFromStreamWritable(e)}},5324:function(e,t,r){!function(e){!function(t){var n="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof e&&e||"undefined"!==typeof r.g&&r.g||{},i="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,a="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,l="ArrayBuffer"in n;if(l)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function y(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=y(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8";return t.readAsText(e,i),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=d(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function E(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(o){console.warn("Response "+o.message)}}})),t}function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var x=[301,302,303,307,308];A.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(k){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function R(e,r){return new Promise((function(i,o){var s=new _(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}if(u.onload=function(){var e={statusText:u.statusText,headers:E(u.getAllResponseHeaders()||"")};0===s.url.indexOf("file://")&&(u.status<200||u.status>599)?e.status=200:e.status=u.status,e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){i(new A(t,e))}),0)},u.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){o(new t.DOMException("Aborted","AbortError"))}),0)},u.open(s.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(a?u.responseType="blob":l&&(u.responseType="arraybuffer")),r&&"object"===typeof r.headers&&!(r.headers instanceof p||n.Headers&&r.headers instanceof n.Headers)){var h=[];Object.getOwnPropertyNames(r.headers).forEach((function(e){h.push(d(e)),u.setRequestHeader(e,f(r.headers[e]))})),s.headers.forEach((function(e,t){-1===h.indexOf(t)&&u.setRequestHeader(t,e)}))}else s.headers.forEach((function(e,t){u.setRequestHeader(t,e)}));s.signal&&(s.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",c)}),u.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}R.polyfill=!0,n.fetch||(n.fetch=R,n.Headers=p,n.Request=_,n.Response=A),t.Headers=p,t.Request=_,t.Response=A,t.fetch=R,Object.defineProperty(t,"__esModule",{value:!0})}({})}("undefined"!==typeof self?self:this)},5343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(2605))&&n.__esModule?n:{default:n},o=r(9677);let a,s,l=0,u=0;var c=function(e,t,r){let n=t&&r||0;const c=t||new Array(16);let d=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:u+1;const g=h-l+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,u=p,s=f,h+=122192928e5;const y=(1e4*(268435455&h)+p)%4294967296;c[n++]=y>>>24&255,c[n++]=y>>>16&255,c[n++]=y>>>8&255,c[n++]=255&y;const v=h/4294967296*1e4&268435455;c[n++]=v>>>8&255,c[n++]=255&v,c[n++]=v>>>24&15|16,c[n++]=v>>>16&255,c[n++]=f>>>8|128,c[n++]=255&f;for(let i=0;i<6;++i)c[n+i]=d[i];return t||(0,o.unsafeStringify)(c)};t.default=c},5363:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(l=o)|s>>>32-l,r);var s,l}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,u=-271733879,c=-1732584194,d=271733878;for(let r=0;r<e.length;r+=16){const t=i,f=u,h=c,p=d;i=o(i,u,c,d,e[r],7,-680876936),d=o(d,i,u,c,e[r+1],12,-389564586),c=o(c,d,i,u,e[r+2],17,606105819),u=o(u,c,d,i,e[r+3],22,-1044525330),i=o(i,u,c,d,e[r+4],7,-176418897),d=o(d,i,u,c,e[r+5],12,1200080426),c=o(c,d,i,u,e[r+6],17,-1473231341),u=o(u,c,d,i,e[r+7],22,-45705983),i=o(i,u,c,d,e[r+8],7,1770035416),d=o(d,i,u,c,e[r+9],12,-1958414417),c=o(c,d,i,u,e[r+10],17,-42063),u=o(u,c,d,i,e[r+11],22,-1990404162),i=o(i,u,c,d,e[r+12],7,1804603682),d=o(d,i,u,c,e[r+13],12,-40341101),c=o(c,d,i,u,e[r+14],17,-1502002290),u=o(u,c,d,i,e[r+15],22,1236535329),i=a(i,u,c,d,e[r+1],5,-165796510),d=a(d,i,u,c,e[r+6],9,-1069501632),c=a(c,d,i,u,e[r+11],14,643717713),u=a(u,c,d,i,e[r],20,-373897302),i=a(i,u,c,d,e[r+5],5,-701558691),d=a(d,i,u,c,e[r+10],9,38016083),c=a(c,d,i,u,e[r+15],14,-660478335),u=a(u,c,d,i,e[r+4],20,-405537848),i=a(i,u,c,d,e[r+9],5,568446438),d=a(d,i,u,c,e[r+14],9,-1019803690),c=a(c,d,i,u,e[r+3],14,-187363961),u=a(u,c,d,i,e[r+8],20,1163531501),i=a(i,u,c,d,e[r+13],5,-1444681467),d=a(d,i,u,c,e[r+2],9,-51403784),c=a(c,d,i,u,e[r+7],14,1735328473),u=a(u,c,d,i,e[r+12],20,-1926607734),i=s(i,u,c,d,e[r+5],4,-378558),d=s(d,i,u,c,e[r+8],11,-2022574463),c=s(c,d,i,u,e[r+11],16,1839030562),u=s(u,c,d,i,e[r+14],23,-35309556),i=s(i,u,c,d,e[r+1],4,-1530992060),d=s(d,i,u,c,e[r+4],11,1272893353),c=s(c,d,i,u,e[r+7],16,-155497632),u=s(u,c,d,i,e[r+10],23,-1094730640),i=s(i,u,c,d,e[r+13],4,681279174),d=s(d,i,u,c,e[r],11,-358537222),c=s(c,d,i,u,e[r+3],16,-722521979),u=s(u,c,d,i,e[r+6],23,76029189),i=s(i,u,c,d,e[r+9],4,-640364487),d=s(d,i,u,c,e[r+12],11,-421815835),c=s(c,d,i,u,e[r+15],16,530742520),u=s(u,c,d,i,e[r+2],23,-995338651),i=l(i,u,c,d,e[r],6,-198630844),d=l(d,i,u,c,e[r+7],10,1126891415),c=l(c,d,i,u,e[r+14],15,-1416354905),u=l(u,c,d,i,e[r+5],21,-57434055),i=l(i,u,c,d,e[r+12],6,1700485571),d=l(d,i,u,c,e[r+3],10,-1894986606),c=l(c,d,i,u,e[r+10],15,-1051523),u=l(u,c,d,i,e[r+1],21,-2054922799),i=l(i,u,c,d,e[r+8],6,1873313359),d=l(d,i,u,c,e[r+15],10,-30611744),c=l(c,d,i,u,e[r+6],15,-1560198380),u=l(u,c,d,i,e[r+13],21,1309151649),i=l(i,u,c,d,e[r+4],6,-145523070),d=l(d,i,u,c,e[r+11],10,-1120210379),c=l(c,d,i,u,e[r+2],15,718787259),u=l(u,c,d,i,e[r+9],21,-343485551),i=n(i,t),u=n(u,f),c=n(c,h),d=n(d,p)}return[i,u,c,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=u},5405:(e,t,r)=>{e.exports=r(7109)},5416:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(4640);class i{constructor(e){this._flattened=new n.n(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},5470:(e,t,r)=>{"use strict";const n=r(2285),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:u,ObjectSetPrototypeOf:c,Promise:d,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:g}=r(1632);e.exports=z,z.ReadableState=J;const{EventEmitter:y}=r(7284),{Stream:v,prependListener:m}=r(7353),{Buffer:b}=r(6382),{addAbortSignal:w}=r(9569),_=r(7964);let S=r(6854).debuglog("stream",(e=>{S=e}));const E=r(8163),A=r(7958),{getHighWaterMark:x,getDefaultHighWaterMark:R}=r(6809),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:N}=r(7045),{validateObject:F}=r(2099),D=g("kPaused"),{StringDecoder:j}=r(8694),L=r(4262);c(z.prototype,v.prototype),c(z,v);const U=()=>{},{errorOrDestroy:M}=A,B=1,H=16,W=32,$=2048,V=4096;function K(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function J(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(1256)),this.state=$|V|H|W,e&&e.objectMode&&(this.state|=B),n&&e&&e.readableObjectMode&&(this.state|=B),this.highWaterMark=e?x(this,e,"readableHighWaterMark",n):R(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,e&&!1===e.emitClose&&(this.state&=~$),e&&!1===e.autoDestroy&&(this.state&=~V),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function z(e){if(!(this instanceof z))return new z(e);const t=this instanceof r(1256);this._readableState=new J(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),v.call(this,e),A.construct(this,(()=>{this._readableState.needReadable&&Z(this,this._readableState)}))}function G(e,t,r,n){S("readableAddChunk",t);const i=e._readableState;let o;if(0===(i.state&B)&&("string"===typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=b.from(t,r).toString(i.encoding):(t=b.from(t,r),r=""))):t instanceof b?r="":v._isUint8Array(t)?(t=v._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new I("chunk",["string","Buffer","Uint8Array"],t))),o)M(e,o);else if(null===t)i.state&=-9,function(e,t){if(S("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Q(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}(e,i);else if(0!==(i.state&B)||t&&t.length>0)if(n)if(0!==(4&i.state))M(e,new O);else{if(i.destroyed||i.errored)return!1;q(e,i,t,!0)}else if(i.ended)M(e,new P);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?q(e,i,t,!1):Z(e,i)):q(e,i,t,!1)}else n||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(0!==(65536&t.state)?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),0!==(64&t.state)&&Q(e)),Z(e,t)}l(J.prototype,{objectMode:K(B),ended:K(2),endEmitted:K(4),reading:K(8),constructed:K(H),sync:K(W),needReadable:K(64),emittedReadable:K(128),readableListening:K(256),resumeScheduled:K(512),errorEmitted:K(1024),emitClose:K($),autoDestroy:K(V),destroyed:K(8192),closed:K(16384),closeEmitted:K(32768),multiAwaitDrain:K(65536),readingMore:K(1<<17),dataEmitted:K(1<<18)}),z.prototype.destroy=A.destroy,z.prototype._undestroy=A.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},z.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new N,this.destroy(e)),new d(((t,r)=>_(this,(n=>n&&n!==e?r(n):t(null)))))},z.prototype.push=function(e,t){return G(this,e,t,!1)},z.prototype.unshift=function(e,t){return G(this,e,t,!0)},z.prototype.isPaused=function(){const e=this._readableState;return!0===e[D]||!1===e.flowing},z.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const i of r)n+=t.write(i);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function Y(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&B)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Q(e){const t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(X,e))}function X(e){const t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){S("readable nexttick read 0"),e.read(0)}function ne(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!==typeof e.read&&(e=z.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=U;function i(t){this===e?(n(),n=U):n=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{r=e?k(r,e):null,n(),n=U}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(i)}}}catch(a){throw r=k(r,a),r}finally{!r&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):A.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function se(e){const t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(le,t,e))}function le(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ue,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ue(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ce;function de(){return void 0===ce&&(ce={}),ce}z.prototype.read=function(e){S("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new T("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):Q(this),null;if(0===(e=Y(e,t))&&t.ended)return 0===t.length&&se(this),null;let n,i=0!==(64&t.state);if(S("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,S("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,S("reading, ended or constructing",i);else if(i){S("do read"),t.state|=8|W,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(a){M(this,a)}t.state&=~W,t.reading||(e=Y(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&se(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},z.prototype._read=function(e){throw new C("_read()")},z.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),S("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:y;function a(t,n){S("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){S("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),l&&e.removeListener("drain",l);e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),u=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){S("onend"),e.end()}let l;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);let u=!1;function c(){u||(1===i.pipes.length&&i.pipes[0]===e?(S("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(S("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),l||(l=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(S("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(S("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",l))}function d(t){S("ondata");const r=e.write(t);S("dest.write",r),!1===r&&c()}function h(t){if(S("onerror",t),y(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?M(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",g),y()}function g(){S("onfinish"),e.removeListener("close",p),y()}function y(){S("unpipe"),r.unpipe(e)}return r.on("data",d),m(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),!0===e.writableNeedDrain?c():i.flowing||(S("pipe resume"),r.resume()),e},z.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.on=function(e,t){const r=v.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?Q(this):i.reading||n.nextTick(re,this))),r},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(e,t){const r=v.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){const t=v.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},z.prototype.resume=function(){const e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[D]=!1,this},z.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},z.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{M(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let n=1;n<r.length;n++){const t=r[n];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},z.prototype[p]=function(){return oe(this)},z.prototype.iterator=function(e){return void 0!==e&&F(e,"options"),oe(this,e)},l(z.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(J.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),z._fromList=ae,z.from=function(e,t){return L(z,e,t)},z.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},z.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},z.wrap=function(e,t){var r,n;return new z({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}},5515:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7692);const i=async(e,t)=>{const r=`SHA-${e.slice(-3)}`;return new Uint8Array(await n.A.subtle.digest(r,t))}},5558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordNest=void 0;const n=r(7139),i=r(9028);class o extends i.EntryHandlerKeyword{constructor(){super("@nest")}async handle(e,t,r,i,o,a){"object"!==typeof o&&e.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${r}': '${o}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await t.unaliasKeywords(o,i,a,await e.getContext(i))&&e.emitError(new n.ErrorCoded(`Found an invalid @value node for '${r}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[a]=!1}}t.EntryHandlerKeywordNest=o},5620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(5869)),i=a(r(2605)),o=r(9677);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},5745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9938)),i=o(r(4344));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},5806:e=>{"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"===typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,i)=>{if(void 0===t[n]||"symbol"===typeof t[n])return r;return r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"}},5811:(e,t,r)=>{var{Buffer:n}=r(6382),i={},o=i.LEFT_BRACE=1,a=i.RIGHT_BRACE=2,s=i.LEFT_BRACKET=3,l=i.RIGHT_BRACKET=4,u=i.COLON=5,c=i.COMMA=6,d=i.TRUE=7,f=i.FALSE=8,h=i.NULL=9,p=i.STRING=10,g=i.NUMBER=11,y=i.START=17,v=i.STOP=18,m=i.TRUE1=33,b=i.TRUE2=34,w=i.TRUE3=35,_=i.FALSE1=49,S=i.FALSE2=50,E=i.FALSE3=51,A=i.FALSE4=52,x=i.NULL1=65,R=i.NULL2=66,k=i.NULL3=67,I=i.NUMBER1=81,C=i.NUMBER3=83,T=i.STRING1=97,P=i.STRING2=98,O=i.STRING3=99,N=i.STRING4=100,F=i.STRING5=101,D=i.STRING6=102,j=i.VALUE=113,L=i.KEY=114,U=i.OBJECT=129,M=i.ARRAY=130,B="\\".charCodeAt(0),H="/".charCodeAt(0),W="\b".charCodeAt(0),$="\f".charCodeAt(0),V="\n".charCodeAt(0),K="\r".charCodeAt(0),J="\t".charCodeAt(0),z=65536;function G(e){return n.alloc?n.alloc(e):new n(e)}function q(){this.tState=y,this.value=void 0,this.string=void 0,this.stringBuffer=G(z),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=j,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:G(2),3:G(3),4:G(4)},this.offset=-1}q.toknam=function(e){for(var t=Object.keys(i),r=0,n=t.length;r<n;r++){var o=t[r];if(i[o]===e)return o}return e&&"0x"+e.toString(16)};var Y=q.prototype;Y.onError=function(e){throw e},Y.charError=function(e,t){this.tState=v,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+q.toknam(this.tState)))},Y.appendStringChar=function(e){this.stringBufferOffset>=z&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},Y.appendStringBuf=function(e,t,r){var n=e.length;"number"===typeof t&&(n="number"===typeof r?r<0?e.length-t+r:r-t:e.length-t),n<0&&(n=0),this.stringBufferOffset+n>z&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=n},Y.write=function(e){var t;"string"===typeof e&&(e=new n(e));for(var r=0,i=e.length;r<i;r++)if(this.tState===y){if(t=e[r],this.offset++,123===t)this.onToken(o,"{");else if(125===t)this.onToken(a,"}");else if(91===t)this.onToken(s,"[");else if(93===t)this.onToken(l,"]");else if(58===t)this.onToken(u,":");else if(44===t)this.onToken(c,",");else if(116===t)this.tState=m;else if(102===t)this.tState=_;else if(110===t)this.tState=x;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=T;else if(45===t)this.string="-",this.tState=I;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=C;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,r)}else if(this.tState===T)if(t=e[r],this.bytes_remaining>0){for(var g=0;g<this.bytes_remaining;g++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+g]=e[g];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+g-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+q.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>e.length){for(var v=0;v<=e.length-1-r;v++)this.temp_buffs[this.bytes_in_sequence][v]=e[r+v];this.bytes_remaining=r+this.bytes_in_sequence-e.length,r=e.length-1}else this.appendStringBuf(e,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(34===t)this.tState=y,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(p,this.string),this.offset+=n.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=P;else{if(!(t>=32))return this.charError(e,r);this.appendStringChar(t)}else if(this.tState===P)if(34===(t=e[r]))this.appendStringChar(t),this.tState=T;else if(92===t)this.appendStringChar(B),this.tState=T;else if(47===t)this.appendStringChar(H),this.tState=T;else if(98===t)this.appendStringChar(W),this.tState=T;else if(102===t)this.appendStringChar($),this.tState=T;else if(110===t)this.appendStringChar(V),this.tState=T;else if(114===t)this.appendStringChar(K),this.tState=T;else if(116===t)this.appendStringChar(J),this.tState=T;else{if(117!==t)return this.charError(e,r);this.unicode="",this.tState=O}else if(this.tState===O||this.tState===N||this.tState===F||this.tState===D){if(!((t=e[r])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,r);if(this.unicode+=String.fromCharCode(t),this.tState++===D){var j=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&j>=56320&&j<57344?(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate,j))),this.highSurrogate=void 0):void 0===this.highSurrogate&&j>=55296&&j<56320?this.highSurrogate=j:(void 0!==this.highSurrogate&&(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new n(String.fromCharCode(j)))),this.tState=T}}else if(this.tState===I||this.tState===C)switch(t=e[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=C;break;default:this.tState=y;var L=this.numberReviver(this.string,e,r);if(L)return L;this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===m){if(114!==e[r])return this.charError(e,r);this.tState=b}else if(this.tState===b){if(117!==e[r])return this.charError(e,r);this.tState=w}else if(this.tState===w){if(101!==e[r])return this.charError(e,r);this.tState=y,this.onToken(d,!0),this.offset+=3}else if(this.tState===_){if(97!==e[r])return this.charError(e,r);this.tState=S}else if(this.tState===S){if(108!==e[r])return this.charError(e,r);this.tState=E}else if(this.tState===E){if(115!==e[r])return this.charError(e,r);this.tState=A}else if(this.tState===A){if(101!==e[r])return this.charError(e,r);this.tState=y,this.onToken(f,!1),this.offset+=4}else if(this.tState===x){if(117!==e[r])return this.charError(e,r);this.tState=R}else if(this.tState===R){if(108!==e[r])return this.charError(e,r);this.tState=k}else if(this.tState===k){if(108!==e[r])return this.charError(e,r);this.tState=y,this.onToken(h,null),this.offset+=3}},Y.onToken=function(e,t){},Y.parseError=function(e,t){this.tState=v,this.onError(new Error("Unexpected "+q.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+q.toknam(this.state)))},Y.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},Y.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=j)},Y.emit=function(e){this.mode&&(this.state=c),this.onValue(e)},Y.onValue=function(e){},Y.onToken=function(e,t){if(this.state===j)if(e===p||e===g||e===d||e===f||e===h)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===o)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=L,this.mode=U;else if(e===s)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=M,this.state=j;else if(e===a){if(this.mode!==U)return this.parseError(e,t);this.pop()}else{if(e!==l)return this.parseError(e,t);if(this.mode!==M)return this.parseError(e,t);this.pop()}else if(this.state===L)if(e===p)this.key=t,this.state=u;else{if(e!==a)return this.parseError(e,t);this.pop()}else if(this.state===u){if(e!==u)return this.parseError(e,t);this.state=j}else{if(this.state!==c)return this.parseError(e,t);if(e===c)this.mode===M?(this.key++,this.state=j):this.mode===U&&(this.state=L);else{if(!(e===l&&this.mode===M||e===a&&this.mode===U))return this.parseError(e,t);this.pop()}}},Y.numberReviver=function(e,t,r){var n=Number(e);if(isNaN(n))return this.charError(t,r);e.match(/[0-9]+/)==e&&n.toString()!=e?this.onToken(p,e):this.onToken(g,n)},q.C=i,e.exports=q},5869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,r))u<i&&0>o(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>o(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function _(e){if(y=!1,w(e),!g)if(null!==n(u))g=!0,P();else{var t=n(c);null!==t&&O(_,t.startTime-e)}}var S,E=!1,A=-1,x=5,R=-1;function k(){return!(t.unstable_now()-R<x)}function I(){if(E){var e=t.unstable_now();R=e;var r=!0;try{e:{g=!1,y&&(y=!1,m(A),A=-1),p=!0;var o=h;try{t:{for(w(e),f=n(u);null!==f&&!(f.expirationTime>e&&k());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,w(e),r=!0;break t}f===n(u)&&i(u),w(e)}else i(u);f=n(u)}if(null!==f)r=!0;else{var l=n(c);null!==l&&O(_,l.startTime-e),r=!1}}break e}finally{f=null,h=o,p=!1}r=void 0}}finally{r?S():E=!1}}}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,T=C.port2;C.port1.onmessage=I,S=function(){T.postMessage(null)}}else S=function(){v(I,0)};function P(){E||(E=!0,S())}function O(e,r){A=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,r(c,e),null===n(u)&&e===n(c)&&(y?(m(A),A=-1):y=!0,O(_,o-a))):(e.sortIndex=s,r(u,e),g||p||(g=!0,P())),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},5952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},6016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;const n=r(7139),i=r(2832),o=r(8004),a=r(5806);class s{constructor(e){this.parsingContext=e.parsingContext,this.dataFactory=e.dataFactory||new i.DataFactory,this.rdfFirst=this.dataFactory.namedNode(s.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(s.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(s.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(s.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(s.RDF+"JSON")}static getContextValue(e,t,r,n){const i=e.getContextRaw()[r];if(!i)return n;const o=i[t];return void 0===o?n:o}static getContextValueContainer(e,t){return s.getContextValue(e,"@container",t,{"@set":!0})}static getContextValueType(e,t){const r=s.getContextValue(e,"@type",t,null);return"@none"===r?null:r}static getContextValueLanguage(e,t){return s.getContextValue(e,"@language",t,e.getContextRaw()["@language"]||null)}static getContextValueDirection(e,t){return s.getContextValue(e,"@direction",t,e.getContextRaw()["@direction"]||null)}static isContextValueReverse(e,t){return!!s.getContextValue(e,"@reverse",t,null)}static getContextValueIndex(e,t){return s.getContextValue(e,"@index",t,e.getContextRaw()["@index"]||null)}static isPropertyReverse(e,t,r){return"@reverse"===r!==s.isContextValueReverse(e,t)}static isPropertyInEmbeddedNode(e){return"@id"===e}static isPropertyInAnnotationObject(e){return"@annotation"===e}static isValidIri(e){return null!==e&&n.Util.isValidIri(e)}static isPrefixArray(e,t){if(e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}async validateValueIndexes(e){if(this.parsingContext.validateValueIndexes){const t={};for(const r of e)if(r&&"object"===typeof r){const e=r["@id"],i=r["@index"];if(e&&i){const r=t[e];if(r&&r!==i)throw new n.ErrorCoded(`Conflicting @index value for ${e}`,n.ERROR_CODES.CONFLICTING_INDEXES);t[e]=i}}}}async valueToTerm(e,t,r,i,o){if("@json"===s.getContextValueType(e,t))return[this.dataFactory.literal(this.valueToJsonString(r),this.rdfJson)];const a=typeof r;switch(a){case"object":if(null===r||void 0===r)return[];if(Array.isArray(r))return"@list"in s.getContextValueContainer(e,t)?0===r.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:(await this.validateValueIndexes(r),[]);if(e=await this.getContextSelfOrPropertyScoped(e,t),"@context"in r&&(e=await this.parsingContext.parseContext(r["@context"],(await this.parsingContext.getContext(o,0)).getContextRaw())),"@value"in(r=await this.unaliasKeywords(r,o,i,e))){let a,s,l,u,c;for(t in r){const e=r[t];switch(t){case"@value":a=e;break;case"@language":s=e;break;case"@direction":l=e;break;case"@type":u=e;break;case"@index":c=e;break;case"@annotation":break;default:throw new n.ErrorCoded(`Unknown value entry '${t}' in @value: ${JSON.stringify(r)}`,n.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(u,o,i,!0,e))return[this.dataFactory.literal(this.valueToJsonString(a),this.rdfJson)];if(null===a)return[];if("object"===typeof a)throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&c&&"string"!==typeof c)throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_INDEX_VALUE);if(s){if("string"!==typeof a)throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!n.ContextParser.validateLanguage(s,this.parsingContext.strictValues,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(s=s.toLowerCase())}if(l){if("string"!==typeof a)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`);if(!n.ContextParser.validateDirection(l,this.parsingContext.strictValues))return[]}if(s&&l&&this.parsingContext.rdfDirection){if(u)throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,l))}if(s){if(u)throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(a,s)]}if(l&&this.parsingContext.rdfDirection){if(u)throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,l))}if(u){if("string"!==typeof u)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(u)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);const t=this.createVocabOrBaseTerm(e,u);if(!t)throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(u)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==t.termType)throw new n.ErrorCoded(`Illegal value type (${t.termType}): ${u}`,n.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(a,t)]}return await this.valueToTerm(new n.JsonLdContextNormalized({}),t,a,i,o)}if("@set"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${t}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${t}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const e=r["@list"];return Array.isArray(e)?0===e.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(o),t,e,i-1,o.slice(0,-1))}if("@reverse"in r&&"boolean"===typeof r["@reverse"])return[];if("@graph"in s.getContextValueContainer(await this.parsingContext.getContext(o),t)){const e=this.parsingContext.graphContainerTermStack[i+1];return e?Object.values(e):[this.dataFactory.blankNode()]}if("@id"in r){if(Object.keys(r).length>1&&(e=await this.parsingContext.getContext(o,0)),"@context"in r&&(e=await this.parsingContext.parseContext(r["@context"],e.getContextRaw())),"@vocab"===r["@type"])return this.nullableTermToArray(this.createVocabOrBaseTerm(e,r["@id"]));{const t=r["@id"];let o;if("object"===typeof t){if(!this.parsingContext.rdfstar)throw new n.ErrorCoded(`Found illegal @id '${r}'`,n.ERROR_CODES.INVALID_ID_VALUE);o=this.parsingContext.idStack[i+1][0]}else o=this.resourceToTerm(e,t);return this.nullableTermToArray(o)}}return this.parsingContext.emittedStack[i+1]||r&&"object"===typeof r&&0===Object.keys(r).length?this.parsingContext.idStack[i+1]||(this.parsingContext.idStack[i+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,t),t,r,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,t),t,Boolean(r).toString(),this.dataFactory.namedNode(s.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,t),t,r,this.dataFactory.namedNode(r%1===0&&r<1e21?s.XSD_INTEGER:s.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${a}`)),[]}}async getContextSelfOrPropertyScoped(e,t){const r=e.getContextRaw()[t];return r&&"object"===typeof r&&"@context"in r&&(e=await this.parsingContext.parseContext(r,e.getContextRaw(),!0)),e}nullableTermToArray(e){return e?[e]:[]}predicateToTerm(e,t){const r=e.expandTerm(t,!0,this.parsingContext.getExpandOptions());return r?"_"===r[0]&&":"===r[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null:s.isValidIri(r)?this.dataFactory.namedNode(r):r&&this.parsingContext.strictValues?(this.parsingContext.emitError(new n.ErrorCoded(`Invalid predicate IRI: ${r}`,n.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));const r=e.expandTerm(t,!1,this.parsingContext.getExpandOptions());if(!s.isValidIri(r)){if(!r||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${r}`))}return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));const r=this.parsingContext.getExpandOptions();let n=e.expandTerm(t,!0,r);if(n===t&&(n=e.expandTerm(t,!1,r)),!s.isValidIri(n)){if(!n||!this.parsingContext.strictValues||n.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${n}`))}return this.dataFactory.namedNode(n)}intToString(e,t){if("number"===typeof e){if(Number.isFinite(e)){return!(e%1===0)||t&&t.value===s.XSD_DOUBLE?e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(e).toString()}return e>0?"INF":"-INF"}return e}stringValueToTerm(e,t,r,n,i){const o=s.getContextValueType(t,r);if(o)if("@id"===o){if(!i)return this.resourceToTerm(t,this.intToString(n,i))}else if("@vocab"===o){if(!i)return this.createVocabOrBaseTerm(t,this.intToString(n,i))}else i=this.dataFactory.namedNode(o);if(!i){const o=s.getContextValueLanguage(t,r),a=s.getContextValueDirection(t,r);return a&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(e,this.intToString(n,i),o,a):this.dataFactory.literal(this.intToString(n,i),o)}return this.dataFactory.literal(this.intToString(n,i),i)}createLanguageDirectionLiteral(e,t,r,n){if("i18n-datatype"===this.parsingContext.rdfDirection)return r||(r=""),this.dataFactory.literal(t,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r}_${n}`));{const i=this.dataFactory.blankNode(),o=this.getDefaultGraph();return this.parsingContext.emitQuad(e,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"value"),this.dataFactory.literal(t),o)),r&&this.parsingContext.emitQuad(e,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"language"),this.dataFactory.literal(r),o)),this.parsingContext.emitQuad(e,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"direction"),this.dataFactory.literal(n),o)),i}}valueToJsonString(e){return a(e)}async unaliasKeyword(e,t,r,i,o){if(Number.isInteger(e))return e;if(!i){const e=this.parsingContext.unaliasedKeywordCacheStack[r];if(e)return e}if(!n.Util.isPotentialKeyword(e)){let r=(o=o||await this.parsingContext.getContext(t)).getContextRaw()[e];r&&"object"===typeof r&&(r=r["@id"]),n.Util.isValidKeyword(r)&&(e=r)}return i?e:this.parsingContext.unaliasedKeywordCacheStack[r]=e}async unaliasKeywordParent(e,t){return await this.unaliasKeyword(t>0&&e[t-1],e,t-1)}async unaliasKeywords(e,t,r,n){const i={};for(const o in e)i[await this.unaliasKeyword(o,t,r+1,!0,n)]=e[o];return i}async isLiteral(e,t){for(let r=t;r>=0;r--){if("@annotation"===await this.unaliasKeyword(e[r],e,r))return!1;if(this.parsingContext.literalStack[r]||this.parsingContext.jsonLiteralStack[r])return!0}return!1}async getDepthOffsetGraph(e,t){for(let r=e-1;r>0;r--)if("@graph"===await this.unaliasKeyword(t[r],t,r)){const n=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,r)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(n)?-1:e-r-1}return-1}validateReverseSubject(e){if("Literal"===e.termType)throw new n.ErrorCoded(`Found illegal literal in subject position: ${e.value}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(e,t){let r=this.getDefaultGraph();const{containers:n,depth:i}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,t);if("@graph"in n){const t=o.EntryHandlerContainer.getContainerGraphIndex(n,i,e),a=this.parsingContext.graphContainerTermStack[i];if(r=a?a[t]:null,!r){let o=null;if("@id"in n){const t=await this.getContainerKey(e[i],e,i);null!==t&&(o=await this.resourceToTerm(await this.parsingContext.getContext(e),t))}o||(o=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[i]||(this.parsingContext.graphContainerTermStack[i]={}),r=this.parsingContext.graphContainerTermStack[i][t]=o}}return r}async getPropertiesDepth(e,t){let r=t;for(let n=t-1;n>0;n--)if("number"!==typeof e[n]){const t=await this.unaliasKeyword(e[n],e,n);if("@reverse"===t)return n;if("@nest"!==t)return r;r=n}return r}async getContainerKey(e,t,r){const n=await this.unaliasKeyword(e,t,r);return"@none"===n?null:n}validateReverseInEmbeddedNode(e,t,r){if(r&&t&&!this.parsingContext.rdfstarReverseInEmbedded)throw new n.ErrorCoded(`Illegal reverse property in embedded node in ${e}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(e,t,r,i,o,a,s){let l;if(a?(this.validateReverseSubject(i),l=this.dataFactory.quad(i,r,t,o)):l=this.dataFactory.quad(t,r,i,o),s){if("DefaultGraph"!==l.graph.termType&&(l=this.dataFactory.quad(l.subject,l.predicate,l.object)),this.parsingContext.idStack[e-1])throw new n.ErrorCoded("Illegal multiple properties in an embedded node",n.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[e-1]=[l]}else this.parsingContext.emitQuad(e,l);const u=this.parsingContext.annotationsBuffer[e];if(u){for(const t of u)this.emitAnnotation(e,l,t);delete this.parsingContext.annotationsBuffer[e]}}emitAnnotation(e,t,r){let n;r.reverse?(this.validateReverseSubject(r.object),n=this.dataFactory.quad(r.object,r.predicate,t)):n=this.dataFactory.quad(t,r.predicate,r.object),this.parsingContext.emitQuad(e,n);for(const i of r.nestedAnnotations)this.emitAnnotation(e,n,i)}}s.XSD="http://www.w3.org/2001/XMLSchema#",s.XSD_BOOLEAN=s.XSD+"boolean",s.XSD_INTEGER=s.XSD+"integer",s.XSD_DOUBLE=s.XSD+"double",s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.Util=s},6049:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(4990),{Buffer:s}=r(6382),{inspect:l}=r(6600);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),r=e;let n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}o(t,s,r-e),e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},6169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordContext=void 0;const n=r(7139),i=r(9028);class o extends i.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(e,t,r,i,o,a){e.streamingProfile&&(e.processingStack[a]||e.processingType[a]||void 0!==e.idStack[a])&&e.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const s=e.getContext(i),l=e.parseContext(o,(await s).getContextRaw());e.contextTree.setContext(i.slice(0,-1),l),e.emitContext(o),await e.validateContext(await l)}}t.EntryHandlerKeywordContext=o},6272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(5343)),i=f(r(5745)),o=f(r(5620)),a=f(r(1291)),s=f(r(7355)),l=f(r(2524)),u=f(r(6344)),c=f(r(9677)),d=f(r(5123));function f(e){return e&&e.__esModule?e:{default:e}}},6274:(e,t,r)=>{"use strict";var n=r(7284),i=r(4275),o=r(9593),a=r(8203);const s=["ES256","RS256"],l={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},u=["openid","offline_access","webid"].join(" ");async function c(e,t){const r=await i.fetch.call(globalThis,e);if(200!==r.status)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${r.status} ${r.statusText}`);let n;try{n=(await r.json()).keys[0]}catch(o){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${o.message}`)}return n}class d{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class f{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,t){return"idp"===(null===t||void 0===t?void 0:t.logoutType)}async handle(e,t){if("idp"!==(null===t||void 0===t?void 0:t.logoutType))throw new Error("Attempting to call idp logout handler to perform app logout");if(void 0===t.toLogoutUrl)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(t.toLogoutUrl(t),{handleRedirect:t.handleRedirect})}}async function h(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}function p(e){let{endSessionEndpoint:t,idTokenHint:r,postLogoutRedirectUri:n,state:i}=e;const o=new URL(t);return void 0!==r&&o.searchParams.append("id_token_hint",r),void 0!==n&&(o.searchParams.append("post_logout_redirect_uri",n),void 0!==i&&o.searchParams.append("state",i)),o.toString()}function g(e){try{return new URL(e),!0}catch(t){return!1}}const y=(e,t)=>i.fetch.call(globalThis,e,t);class v{constructor(e,t){this.secureStorage=e,this.insecureStorage=t,this.secureStorage=e,this.insecureStorage=t}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,t){const r=await(t?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(void 0===r)return{};try{return JSON.parse(r)}catch(n){throw new Error(`Data for user [${e}] in [${t?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,t,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(t))}async get(e,t){const r=await((null===t||void 0===t?void 0:t.secure)?this.secureStorage:this.insecureStorage).get(e);if(void 0===r&&(null===t||void 0===t?void 0:t.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,t,r){return((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).set(e,t)}async delete(e,t){return((null===t||void 0===t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,t,r){const n=await this.getUserData(e,null===r||void 0===r?void 0:r.secure);let i;if(n&&n[t]||(i=void 0),i=n[t],void 0===i&&(null===r||void 0===r?void 0:r.errorIfNull))throw new Error(`Field [${t}] for user [${e}] is not stored`);return i||void 0}async setForUser(e,t,r){let n;try{n=await this.getUserData(e,null===r||void 0===r?void 0:r.secure)}catch(i){n={}}await this.setUserData(e,{...n,...t},null===r||void 0===r?void 0:r.secure)}async deleteForUser(e,t,r){const n=await this.getUserData(e,null===r||void 0===r?void 0:r.secure);delete n[t],await this.setUserData(e,n,null===r||void 0===r?void 0:r.secure)}async deleteAllUserData(e,t){await((null===t||void 0===t?void 0:t.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class m extends Error{constructor(e){super(e)}}class b extends Error{constructor(e){super(`[${e}] is not implemented`)}}class w extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class _ extends Error{constructor(e,t,r){super(e),this.error=t,this.errorDescription=r}}function S(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function E(e,t,r){return new o.SignJWT({htu:S(e),htm:t.toUpperCase(),jti:a.v4()}).setProtectedHeader({alg:s[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function A(e,t,r,n){if(void 0!==r)return async function(e,t,r,n){var o;const a=new i.Headers(null===n||void 0===n?void 0:n.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await E(e,null!==(o=null===n||void 0===n?void 0:n.method)&&void 0!==o?o:"get",r)),{...n,headers:a}}(e,t,r,n);const o=new i.Headers(null===n||void 0===n?void 0:n.headers);return o.set("Authorization",`Bearer ${t}`),{...n,headers:o}}async function x(e,t,r,n,i){return e(r,await A(r.toString(),t,i,n))}const R=e=>void 0!==e?e-5>0?e-5:e:600;const k="getResponse",I={get:async(e,t)=>k,set:async(e,t)=>{},delete:async e=>{},getForUser:async(e,t,r)=>k,setForUser:async(e,t,r)=>{},deleteForUser:async(e,t,r)=>{},deleteAllUserData:async(e,t)=>{}},C=e=>{const t=e;return{get:async e=>{if(void 0!==t[e])return"string"===typeof t[e]?t[e]:JSON.stringify(t[e])},set:async(e,r)=>{t[e]=r},delete:async e=>{delete t[e]}}};t.AggregateHandler=class{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const t=await Promise.all(this.handleables.map((t=>t.canHandle(...e))));for(let r=0;r<t.length;r+=1)if(t[r])return this.handleables[r];return null}async canHandle(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null!==await this.getProperHandler(t)}async handle(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map((e=>{try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")}`)}},t.AuthorizationCodeWithPkceOidcHandlerBase=class{constructor(e,t){this.storageUtility=e,this.redirector=t,this.storageUtility=e,this.redirector=t}async canHandle(e){return!!(e.issuerConfiguration.grantTypesSupported&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect(e){let{oidcLoginOptions:t,state:r,codeVerifier:n,targetUrl:i}=e;await Promise.all([this.storageUtility.setForUser(r,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:n,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}},t.ClientAuthentication=class{constructor(e,t,r,n,i){this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=i,this.fetch=y,this.logout=async(e,t)=>{await this.logoutHandler.handle(e,"idp"===(null===t||void 0===t?void 0:t.logoutType)?{...t,toLogoutUrl:this.boundLogout}:t),this.fetch=y,delete this.boundLogout},this.getSessionInfo=async e=>this.sessionInfoManager.get(e),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=n,this.issuerConfigFetcher=i}},t.ConfigurationError=m,t.DEFAULT_SCOPES=u,t.EVENTS=l,t.GeneralLogoutHandler=d,t.IRpLogoutHandler=f,t.IWaterfallLogoutHandler=class{constructor(e,t){this.handlers=[new d(e),new f(t)]}async canHandle(){return!0}async handle(e,t){for(const r of this.handlers)await r.canHandle(e,t)&&await r.handle(e,t)}},t.InMemoryStorage=class{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,t){this.map[e]=t}async delete(e){delete this.map[e]}},t.InvalidResponseError=w,t.NotImplementedError=b,t.OidcProviderError=_,t.PREFERRED_SIGNING_ALG=s,t.REFRESH_BEFORE_EXPIRATION_SECONDS=5,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.SessionInfoManagerBase=class{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,t){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return h(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}},t.StorageUtility=v,t.StorageUtilityGetResponse=k,t.StorageUtilityMock=I,t.USER_SESSION_PREFIX="solidClientAuthenticationUser",t.buildAuthenticatedFetch=async function(e,t,r){var n;let i,o=t;const a=null===r||void 0===r?void 0:r.refreshOptions;if(void 0!==a){const e=async()=>{var t,n,s,u;try{const{accessToken:n,refreshToken:s,expiresIn:u}=await async function(e,t,r){var n;const i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return null===r||void 0===r||r.emit(l.SESSION_EXTENDED,null!==(n=i.expiresIn)&&void 0!==n?n:600),"string"===typeof i.refreshToken&&(null===r||void 0===r||r.emit(l.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}(a,r.dpopKey,r.eventEmitter);o=n,void 0!==s&&(a.refreshToken=s),clearTimeout(i),i=setTimeout(e,1e3*R(u)),null===(t=r.eventEmitter)||void 0===t||t.emit(l.TIMEOUT_SET,i)}catch(c){c instanceof _&&(null===(n=null===r||void 0===r?void 0:r.eventEmitter)||void 0===n||n.emit(l.ERROR,c.error,c.errorDescription),null===(s=null===r||void 0===r?void 0:r.eventEmitter)||void 0===s||s.emit(l.SESSION_EXPIRED)),c instanceof w&&c.missingFields.includes("access_token")&&(null===(u=null===r||void 0===r?void 0:r.eventEmitter)||void 0===u||u.emit(l.SESSION_EXPIRED))}};i=setTimeout(e,1e3*R(r.expiresIn)),null===(n=r.eventEmitter)||void 0===n||n.emit(l.TIMEOUT_SET,i)}else if(void 0!==r&&void 0!==r.eventEmitter){const e=setTimeout((()=>{r.eventEmitter.emit(l.SESSION_EXPIRED)}),1e3*R(r.expiresIn));r.eventEmitter.emit(l.TIMEOUT_SET,e)}return async(t,n)=>{let i=await x(e,o,t,n,null===r||void 0===r?void 0:r.dpopKey);const a=!i.ok&&(s=i.status,![401,403].includes(s));var s;if(i.ok||a)return i;return i.url!==t&&void 0!==(null===r||void 0===r?void 0:r.dpopKey)&&(i=await x(e,o,i.url,n,r.dpopKey)),i}},t.buildProxyHandler=(e,t)=>({get(r,i,o){if(!Object.getOwnPropertyNames(n.EventEmitter).includes(i)&&Object.getOwnPropertyNames(e).includes(i))throw new Error(`${t}: [${i}] is not supported`);return Reflect.get(r,i,o)}}),t.clear=h,t.createDpopHeader=E,t.determineSigningAlg=function(e,t){var r;return null!==(r=t.find((t=>e.includes(t))))&&void 0!==r?r:null},t.fetchJwks=c,t.generateDpopKeyPair=async function(){const{privateKey:e,publicKey:t}=await o.generateKeyPair(s[0]),r={privateKey:e,publicKey:await o.exportJWK(t)};return[r.publicKey.alg]=s,r},t.getEndSessionUrl=p,t.getSessionIdFromOauthState=async function(e,t){return e.getForUser(t,"sessionId")},t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:a.v4(),fetch:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.fetch.call(globalThis,...t)}}},t.getWebidFromTokenPayload=async function(e,t,r,n){const i=await c(t,r);let a;try{const{payload:t}=await o.jwtVerify(e,await o.importJWK(i),{issuer:r,audience:n});a=t}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if("string"===typeof a.webid)return a.webid;if("string"!==typeof a.sub)throw new Error(`The token ${JSON.stringify(a)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(a.sub),a.sub}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${a.sub}] is invalid as a URL - error [${s}].`)}},t.handleRegistration=async function(e,t,r,n){const i=function(e,t){return void 0===e.clientId||g(e.clientId)?t.scopesSupported.includes("webid")&&void 0!==e.clientId&&g(e.clientId)?"solid-oidc":"dynamic":"static"}(e,t);return"dynamic"===i?n.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t):(await r.setForUser(e.sessionId,{clientId:e.clientId}),e.clientSecret&&await r.setForUser(e.sessionId,{clientSecret:e.clientSecret}),e.clientName&&await r.setForUser(e.sessionId,{clientName:e.clientName}),{clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:i})},t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)},t.isValidRedirectUrl=function(e){try{const t=new URL(e),r=!t.searchParams.has("code")&&!t.searchParams.has("state"),n=""===t.hash;return r&&n}catch(t){return!1}},t.loadOidcContextFromStorage=async function(e,t,r){try{const[n,i,o,a]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0})]);await t.deleteForUser(e,"codeVerifier");return{codeVerifier:i,redirectUrl:o,issuerConfig:await r.fetchConfig(n),dpop:"true"===a}}catch(n){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${n}`)}},t.maybeBuildRpInitiatedLogout=function(e){let{endSessionEndpoint:t,idTokenHint:r}=e;if(void 0!==t)return function(e){let{state:n,postLogoutUrl:i}=e;return p({endSessionEndpoint:t,idTokenHint:r,state:n,postLogoutRedirectUri:i})}},t.mockStorage=C,t.mockStorageUtility=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?new v(C(e),C({})):new v(C({}),C(e))},t.removeOpenIdParams=function(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t},t.saveSessionInfoToStorage=async function(e,t,r,n,i,a,s){void 0!==i&&await e.setForUser(t,{refreshToken:i},{secure:a}),void 0!==r&&await e.setForUser(t,{webId:r},{secure:a}),void 0!==n&&await e.setForUser(t,{isLoggedIn:n},{secure:a}),void 0!==s&&await e.setForUser(t,{publicKey:JSON.stringify(s.publicKey),privateKey:JSON.stringify(await o.exportJWK(s.privateKey))},{secure:a})}},6279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4245))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},6318:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(4245))&&n.__esModule?n:{default:n};const o=[];for(let l=0;l<256;++l)o.push((l+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=s},6344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(2951))&&n.__esModule?n:{default:n};var o=function(e){return"string"===typeof e&&i.default.test(e)};t.default=o},6382:(e,t,r)=>{"use strict";const n=r(4445),i=r(6900),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(i)return n?-1:J(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Y(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return G(J(t,e.length-r),e,r,n)}function S(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return G(z(t),e,r,n)}function A(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&s)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(q(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r);for(let l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Q[e[o]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function D(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e){return D(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e){return D(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const M={};function B(e,t,r){M[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,o)}function $(e,t){if("number"!==typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw $(e,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=H(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function J(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerHandlerIndex=void 0;const n=r(7139),i=r(1490),o=r(6016);t.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(e,t,r,a,s,l){if(!Array.isArray(s)){const u="@graph"in e,c=await t.getContext(a),d=a[l-1],f=o.Util.getContextValueIndex(c,d);if(f){if(n.Util.isPotentialKeyword(f))throw new n.ErrorCoded(`Keywords can not be used as @index value, got: ${f}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!==typeof f)throw new n.ErrorCoded(`@index values must be strings, got: ${f}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!==typeof s){if("@id"!==o.Util.getContextValueType(c,d))throw new n.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${s}`,n.ERROR_CODES.INVALID_VALUE_OBJECT);const e=r.resourceToTerm(c,s);e&&(t.idStack[l+1]=[e])}const e=r.createVocabOrBaseTerm(c,f);if(e){const n=await r.valueToTerm(c,f,await r.getContainerKey(a[l],a,l),l,a);if(u){const i=await r.getGraphContainerValue(a,l+1);for(const o of n)t.emitQuad(l,r.dataFactory.quad(i,e,o,r.getDefaultGraph()))}else for(const o of n)await i.EntryHandlerPredicate.handlePredicateObject(t,r,a,l+1,e,o,!1,!1,!1)}}const h=u?2:1;await t.newOnValueJob(a.slice(0,a.length-h),s,l-h,!0),await t.handlePendingContainerFlushBuffers()}t.emittedStack[l]=!1}}},6534:(e,t,r)=>{"use strict";const n=r(7546),i=r(1855),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},6594:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=r(4990);e.exports=u;const s=r(9824),l=r(5280);a(u.prototype,s.prototype),a(u,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=l.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,d;function f(){return void 0===c&&(c={}),c}n(u.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},u.from=function(e){return d||(d=r(1866)),d(e,"body")}},6600:(e,t,r)=>{"use strict";const n=r(6382),{format:i,inspect:o}=r(2852),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(3995),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:u}=r(4990),c=globalThis.AbortSignal||r(3641).AbortSignal,d=globalThis.AbortController||r(3641).AbortController,f=Object.getPrototypeOf((async function(){})).constructor,h=globalThis.Blob||n.Blob,p="undefined"!==typeof h?function(e){return e instanceof h}:function(e){return!1},g=(e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e((function(e){if(e)return r(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t(...i)}))})),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(7284).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return g(e,"signal"),((e,t)=>{if("function"!==typeof e)throw new a(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:c.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach((e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",r)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},6605:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=e=>Math.floor(e.getTime()/1e3)},6656:(e,t,r)=>{let n;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:r.g):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},6661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordId=void 0;const n=r(7139),i=r(9028);class o extends i.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(e,t,r,i,o,a){if("string"!==typeof o){if(e.rdfstar&&"object"===typeof o){const t=Object.keys(o);1===t.length&&"@id"===t[0]&&e.emitError(new n.ErrorCoded(`Invalid embedded node without property with @id ${o["@id"]}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE))}else e.emitError(new n.ErrorCoded(`Found illegal @id '${o}'`,n.ERROR_CODES.INVALID_ID_VALUE));return}const s=await t.getPropertiesDepth(i,a);if(void 0!==e.idStack[s]&&(e.idStack[s][0].listHead?e.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[a-1]}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new n.ErrorCoded(`Found duplicate @ids '${e.idStack[s][0].value}' and '${o}'`,n.ERROR_CODES.COLLIDING_KEYWORDS))),e.rdfstar&&e.annotationsBuffer[a])for(const l of e.annotationsBuffer[a])l.depth===a&&e.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${o}`,n.ERROR_CODES.INVALID_ANNOTATION));e.idStack[s]=t.nullableTermToArray(await t.resourceToTerm(await e.getContext(i),o))}}t.EntryHandlerKeywordId=o},6672:(e,t,r)=>{"use strict";var n=r(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=r,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=u(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:o}):"script"===r&&a.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=u(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=u(r,t.crossOrigin);a.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=u(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},6705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0,r(5324);const n=r(2238),i=r(6915),o=r(7323);t.FetchDocumentLoader=class{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach(((t,n)=>{if("link"===n){const n=(0,i.parse)(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=(0,o.resolve)(t.uri,e)}}})),r)return this.load(r)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${r}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||`Status code: ${t.status}`)}}},6741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerHandlerType=void 0;const n=r(1490),i=r(6016);t.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(e,t,r,o,a,s){if(!Array.isArray(a)){if("string"===typeof a){const e=await t.getContext(o),n="@vocab"===i.Util.getContextValueType(e,o[s-1])?await r.createVocabOrBaseTerm(e,a):await r.resourceToTerm(e,a);if(n){const e={"@id":"NamedNode"===n.termType?n.value:a};await t.newOnValueJob(o.slice(0,o.length-1),e,s-1,!0),t.idStack[s+1]=[n]}}else{const e=!!t.idStack[s+1];e||delete t.idStack[s],await t.newOnValueJob(o.slice(0,o.length-1),a,s-1,!0),e||(t.idStack[s+1]=t.idStack[s])}const e=await r.getContainerKey(o[s],o,s),l=null!==e?r.createVocabOrBaseTerm(await t.getContext(o),e):null;l&&await n.EntryHandlerPredicate.handlePredicateObject(t,r,o,s+1,r.rdfType,l,!1,!1,!1),await t.handlePendingContainerFlushBuffers()}t.emittedStack[s]=!1}}},6806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6809:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(1632),{validateInteger:o}=r(2099),{ERR_INVALID_ARG_VALUE:a}=r(7045).codes;let s=16384,l=16;function u(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,r,o){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=s){if(!i(s)||s<0){throw new a(o?`options.${r}`:"options.highWaterMark",s)}return n(s)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:s=t}}},6854:(e,t,r)=>{"use strict";const n=r(6382),{format:i,inspect:o}=r(9381),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(7045),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:u}=r(1632),c=globalThis.AbortSignal||r(3641).AbortSignal,d=globalThis.AbortController||r(3641).AbortController,f=Object.getPrototypeOf((async function(){})).constructor,h=globalThis.Blob||n.Blob,p="undefined"!==typeof h?function(e){return e instanceof h}:function(e){return!1},g=(e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e((function(e){if(e)return r(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t(...i)}))})),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(7284).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return g(e,"signal"),((e,t)=>{if("function"!==typeof e)throw new a(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:c.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach((e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",r)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},6891:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.error.apply(o,Array.from(t))}},n(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},n(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(7),a=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new r(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var r=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},r,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(r){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return r[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},n(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(a)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=a))),this._metadataUrl}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var n=r(0),i=r(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,r){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(r)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=r.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},l=/([^&=]+)=([^&]*)/g,u=0;a=l.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),u++>50)return n.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var c in s)return s;return{}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(r(33));t.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=r(23),s=r(6),l=r(24),u=r(2),c=".well-known/openid-configuration";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.authority,i=t.metadataUrl,o=t.metadata,c=t.signingKeys,d=t.metadataSeed,f=t.client_id,h=t.client_secret,p=t.response_type,g=void 0===p?"id_token":p,y=t.scope,v=void 0===y?"openid":y,m=t.redirect_uri,b=t.post_logout_redirect_uri,w=t.client_authentication,_=void 0===w?"client_secret_post":w,S=t.prompt,E=t.display,A=t.max_age,x=t.ui_locales,R=t.acr_values,k=t.resource,I=t.response_mode,C=t.filterProtocolClaims,T=void 0===C||C,P=t.loadUserInfo,O=void 0===P||P,N=t.staleStateAge,F=void 0===N?900:N,D=t.clockSkew,j=void 0===D?300:D,L=t.clockService,U=void 0===L?new a.ClockService:L,M=t.userInfoJwtIssuer,B=void 0===M?"OP":M,H=t.mergeClaims,W=void 0!==H&&H,$=t.stateStore,V=void 0===$?new s.WebStorageStateStore:$,K=t.ResponseValidatorCtor,J=void 0===K?l.ResponseValidator:K,z=t.MetadataServiceCtor,G=void 0===z?u.MetadataService:z,q=t.extraQueryParams,Y=void 0===q?{}:q,Q=t.extraTokenParams,X=void 0===Q?{}:Q;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._authority=r,this._metadataUrl=i,this._metadata=o,this._metadataSeed=d,this._signingKeys=c,this._client_id=f,this._client_secret=h,this._response_type=g,this._scope=v,this._redirect_uri=m,this._post_logout_redirect_uri=b,this._client_authentication=_,this._prompt=S,this._display=E,this._max_age=A,this._ui_locales=x,this._acr_values=R,this._resource=k,this._response_mode=I,this._filterProtocolClaims=!!T,this._loadUserInfo=!!O,this._staleStateAge=F,this._clockSkew=j,this._clockService=U,this._userInfoJwtIssuer=B,this._mergeClaims=!!W,this._stateStore=V,this._validator=new J(this),this._metadataService=new G(this),this._extraQueryParams="object"===(void 0===Y?"undefined":n(Y))?Y:{},this._extraTokenParams="object"===(void 0===X?"undefined":n(X))?X:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=c)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var n=r(0),i=r(1);t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefix,n=void 0===r?"oidc.":r,o=t.store,a=void 0===o?i.Global.localStorage:o;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._store=a,this._prefix=n}return e.prototype.set=function(e,t){return n.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){n.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){n.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){n.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var r=this._store.key(t);0===r.indexOf(this._prefix)&&e.push(r.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var n=r(0),i=r(1);t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),n&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=r,this._jwtHandler=n}return e.prototype.getJson=function(e,t){var r=this;if(!e)throw n.Log.error("JsonService.getJson: No url passed"),new Error("url");return n.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new r._XMLHttpRequest;a.open("GET",e);var s=r._contentTypes,l=r._jwtHandler;a.onload=function(){if(n.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var r=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==r)return void l(a).then(i,o);if(r)try{return void i(JSON.parse(a.responseText))}catch(i){return n.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){n.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(n.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,r){var i=this;if(!e)throw n.Log.error("JsonService.postForm: No url passed"),new Error("url");return n.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var l=i._contentTypes;s.onload=function(){if(n.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(r=s.getResponseHeader("Content-Type"))&&l.find((function(e){if(r.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return n.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error(s.statusText+" ("+s.status+")"))}else{var r;if((r=s.getResponseHeader("Content-Type"))&&l.find((function(e){if(r.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error("Invalid response Content-Type: "+r+", from URL: "+e))}},s.onerror=function(){n.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var u="";for(var c in t){var d=t[c];d&&(u.length>0&&(u+="&"),u+=encodeURIComponent(c),u+="=",u+=encodeURIComponent(d))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==r&&s.setRequestHeader("Authorization","Basic "+btoa(r)),s.send(u)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var n=r(0),i=r(3),o=r(13);t.SigninRequest=function(){function e(t){var r=t.url,a=t.client_id,s=t.redirect_uri,l=t.response_type,u=t.scope,c=t.authority,d=t.data,f=t.prompt,h=t.display,p=t.max_age,g=t.ui_locales,y=t.id_token_hint,v=t.login_hint,m=t.acr_values,b=t.resource,w=t.response_mode,_=t.request,S=t.request_uri,E=t.extraQueryParams,A=t.request_type,x=t.client_secret,R=t.extraTokenParams,k=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw n.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw n.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!l)throw n.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw n.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!c)throw n.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var I=e.isOidc(l),C=e.isCode(l);w||(w=e.isCode(l)?"query":null),this.state=new o.SigninState({nonce:I,data:d,client_id:a,authority:c,redirect_uri:s,code_verifier:C,request_type:A,response_mode:w,client_secret:x,scope:u,extraTokenParams:R,skipUserInfo:k}),r=i.UrlUtility.addQueryParam(r,"client_id",a),r=i.UrlUtility.addQueryParam(r,"redirect_uri",s),r=i.UrlUtility.addQueryParam(r,"response_type",l),r=i.UrlUtility.addQueryParam(r,"scope",u),r=i.UrlUtility.addQueryParam(r,"state",this.state.id),I&&(r=i.UrlUtility.addQueryParam(r,"nonce",this.state.nonce)),C&&(r=i.UrlUtility.addQueryParam(r,"code_challenge",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,"code_challenge_method","S256"));var T={prompt:f,display:h,max_age:p,ui_locales:g,id_token_hint:y,login_hint:v,acr_values:m,resource:b,request:_,request_uri:S,response_mode:w};for(var P in T)T[P]&&(r=i.UrlUtility.addQueryParam(r,P,T[P]));for(var O in E)r=i.UrlUtility.addQueryParam(r,O,E[O]);this.url=r}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r(14));t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.data,i=t.created,a=t.request_type;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._id=r||(0,o.default)(),this._data=n,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=a}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,r){var n=Date.now()/1e3-r;return t.getAllKeys().then((function(r){i.Log.debug("State.clearStaleState: got keys",r);for(var o=[],a=function(a){var s=r[a];l=t.get(s).then((function(r){var o=!1;if(r)try{var a=e.fromStorageString(r);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=n&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(l)},s=0;s<r.length;s++){var l;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},n(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(5),a=r(12),s=r(8),l=r(34),u=r(35),c=r(36),d=r(13),f=r(9);t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response_type,n=t.scope,o=t.redirect_uri,a=t.data,l=t.state,u=t.prompt,c=t.display,d=t.max_age,f=t.ui_locales,h=t.id_token_hint,p=t.login_hint,g=t.acr_values,y=t.resource,v=t.request,m=t.request_uri,b=t.response_mode,w=t.extraQueryParams,_=t.extraTokenParams,S=t.request_type,E=t.skipUserInfo,A=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var x=this._settings.client_id;r=r||this._settings.response_type,n=n||this._settings.scope,o=o||this._settings.redirect_uri,u=u||this._settings.prompt,c=c||this._settings.display,d=d||this._settings.max_age,f=f||this._settings.ui_locales,g=g||this._settings.acr_values,y=y||this._settings.resource,b=b||this._settings.response_mode,w=w||this._settings.extraQueryParams,_=_||this._settings.extraTokenParams;var R=this._settings.authority;return s.SigninRequest.isCode(r)&&"code"!==r?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var k=new s.SigninRequest({url:t,client_id:x,redirect_uri:o,response_type:r,scope:n,data:a||l,authority:R,prompt:u,display:c,max_age:d,ui_locales:f,id_token_hint:h,login_hint:p,acr_values:g,resource:y,request:v,request_uri:m,extraQueryParams:w,extraTokenParams:_,request_type:S,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:E}),I=k.state;return(A=A||e._stateStore).set(I.id,I.toStorageString()).then((function(){return k}))}))},e.prototype.readSigninResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var n="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type)?"?":"#",o=new l.SigninResponse(e,n);return o.state?(t=t||this._stateStore,(r?t.remove.bind(t):t.get.bind(t))(o.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.SigninState.fromStorageString(e),response:o}}))):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},e.prototype.processSigninResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(t,n)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id_token_hint,n=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,l=t.request_type,c=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var d=new u.SignoutRequest({url:t,id_token_hint:r,post_logout_redirect_uri:a,data:n||o,extraQueryParams:s,request_type:l}),f=d.state;return f&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(c=c||e._stateStore).set(f.id,f.toStorageString())),d}))},e.prototype.readSignoutResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var n=new c.SignoutResponse(e);if(!n.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),n.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",n.error),Promise.reject(new a.ErrorResponse(n))):Promise.resolve({state:void 0,response:n});var o=n.state;return t=t||this._stateStore,(r?t.remove.bind(t):t.get.bind(t))(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.State.fromStorageString(e),response:n}}))},e.prototype.processSignoutResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(t,n)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),n)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,f.State.clearStaleState(e,this.settings.staleStateAge)},n(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var n=r(7),i=r(2),o=r(0);t.TokenClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r,this._metadataService=new a(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=n?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var n=r(0);t.ErrorResponse=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.error,o=r.error_description,a=r.error_uri,s=r.state,l=r.session_state;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw n.Log.error("No error passed to ErrorResponse"),new Error("error");var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o||i));return u.name="ErrorResponse",u.error=i,u.error_description=o,u.error_uri=a,u.state=s,u.session_state=l,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(9),a=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(14));t.SigninState=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,o=r.client_id,l=r.redirect_uri,u=r.code_verifier,c=r.response_mode,d=r.client_secret,f=r.scope,h=r.extraTokenParams,p=r.skipUserInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));if(!0===n?g._nonce=(0,s.default)():n&&(g._nonce=n),!0===u?g._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():u&&(g._code_verifier=u),g.code_verifier){var y=a.JoseUtil.hashString(g.code_verifier,"SHA256");g._code_challenge=a.JoseUtil.hexToBase64Url(y)}return g._redirect_uri=l,g._authority=i,g._client_id=o,g._response_mode=c,g._client_secret=d,g._scope=f,g._extraTokenParams=h,g._skipUserInfo=p,g}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},n(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=n&&null!==n&&void 0!==n.getRandomValues?i:o)().replace(/-/g,"")};var n="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^n.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.User=function(){function e(t){var r=t.id_token,n=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,l=t.profile,u=t.expires_at,c=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=l,this.expires_at=u,this.state=c}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var n=r(0),i=r(46);t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.accessTokenExpiringNotificationTime,n=void 0===r?60:r,o=t.accessTokenExpiringTimer,a=void 0===o?new i.Timer("Access token expiring"):o,s=t.accessTokenExpiredTimer,l=void 0===s?new i.Timer("Access token expired"):s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=a,this._accessTokenExpired=l}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(n.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var r=t-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),n.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else n.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;n.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){n.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=r(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){n.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(19),a=r(1);t.SessionMonitor=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=n,this._timer=s,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?r._start(e):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),r._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,r=e.session_state;r&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",r,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var n=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),n,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(r)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},n(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var n=r(0);t.CheckSessionIFrame=function(){function e(t,r,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callback=t,this._client_id=r,this._url=n,this._interval=i||2e3,this._stopOnError=o;var a=n.indexOf("/",n.indexOf("//")+2);this._frame_origin=n.substr(0,a),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=n}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(n.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(n.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):n.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){n.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var r=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(n.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var n=r(0),i=r(2),o=r(1);t.TokenRevocationClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw n.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=r,this._metadataService=new a(this._settings)}return e.prototype.revoke=function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw n.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw n.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){n.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=r._settings.client_id,s=r._settings.client_secret;return r._revoke(o,a,s,e,i)}if(t)throw n.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,r,i,o){var a=this;return new Promise((function(s,l){var u=new a._XMLHttpRequestCtor;u.open("POST",e),u.onload=function(){n.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?s():l(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){n.Log.debug("TokenRevocationClient.revoke: Network Error."),l("Network Error")};var c="client_id="+encodeURIComponent(t);r&&(c+="&client_secret="+encodeURIComponent(r)),c+="&token_type_hint="+encodeURIComponent(o),c+="&token="+encodeURIComponent(i),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.CordovaPopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(10),o=r(5),a=r(6),s=r(37),l=r(38),u=r(16),c=r(2),d=r(48),f=r(49),h=r(19),p=r(20),g=r(18),y=r(1),v=r(15),m=r(50);t.default={Version:m.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:c.MetadataService,CordovaPopupNavigator:d.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:h.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:y.Global,User:v.User},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(0),o=r(2),a=r(25),s=r(11),l=r(12),u=r(4),c=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.JoseUtil,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=l,this._tokenClient=new c(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var r=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var r=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=r._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var r=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[i]?Array.isArray(r[i])?r[i].indexOf(s)<0&&r[i].push(s):r[i]!==s&&("object"===(void 0===s?"undefined":n(s))&&this._settings.mergeClaims?r[i]=this._mergeClaims(r[i],s):r[i]=[r[i],s]):r[i]=s}}return r},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(c.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var r=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===n(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(n){for(var o in n)t[o]=n[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),r._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){var o=e.client_id,a=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),r._settings.getEpochTime().then((function(s){return r._joseUtil.validateJwtAttributes(t.id_token,n,o,a,s).then((function(r){return e.nonce&&e.nonce!==r.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):r.sub?(t.profile=r,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var r=this;return this._validateIdToken(e,t).then((function(e){return r._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(r){var n=e.header.kid;if(!r)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(n)o=r.filter((function(e){return e.kid===n}))[0];else{if((r=t._filterByAlg(r,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=r[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(r){return r?Promise.resolve(r):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var r=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(t.id_token);return n&&n.header&&n.payload?e.nonce!==n.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._getSigningKeyForJwtWithSingleRetry(n).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,l=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",l),r._joseUtil.validateJwt(t.id_token,a,o,s,l).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(t.profile=n.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];r="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var r=t.header.alg;if(!r||5!==r.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var o="sha"+n,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),l=this._joseUtil.hexToBase64Url(s);return l!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",l,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var n=r(7),i=r(2),o=r(0),a=r(4);t.UserInfoService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new s(this._settings),this._joseUtil=l}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(r){return o.Log.debug("UserInfoService.getClaims: received userinfo url",r),t._jsonService.getJson(r,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var r=this;try{var n=this._joseUtil.parseJwt(t.responseText);if(!n||!n.header||!n.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var i=n.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(n.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),r._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var l=r._settings.client_id,u=r._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),r._joseUtil.validateJwt(t.responseText,s,e,l,u,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];r="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",r,e.length),e},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var n=r(27);t.jws=n.jws,t.KeyUtil=n.KEYUTIL,t.X509=n.X509,t.crypto=n.crypto,t.hextob64u=n.hextob64u,t.b64tohex=n.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,n,i,o,a,s,l,u,c,d,f,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p={userAgent:!1},g={},y=y||(r=Math,i=(n={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*r.random()|0);return new a.init(t,e)}}),s=n.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,o=this.blockSize,s=i/(4*o),l=(s=e?r.ceil(s):r.max((0|s)-this._minBufferSize,0))*o,u=r.min(4*l,i);if(l){for(var c=0;c<l;c+=o)this._doProcessBlock(n,c);var d=n.splice(0,l);t.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),f=n.algo={},n);!function(){var e,t=(e=y).lib,r=t.Base,n=t.WordArray;(e=e.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),e.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],i=0;i<t;i++){var o=e[i];r.push(o.high),r.push(o.low)}return n.create(r,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<r;a++)e.push(n.charAt(o>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(e.charAt(a-1))<<a%4*2,l=n.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=y,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var d=e.sqrt(c),f=2;f<=d;f++)if(!(c%f)){c=!1;break e}c=!0}c&&(8>u&&(o[u]=s(e.pow(l,.5))),a[u]=s(e.pow(l,1/3)),u++),l++}var h=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=0;64>f;f++){if(16>f)h[f]=0|e[t+f];else{var p=h[f-15],g=h[f-2];h[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+h[f-16]}p=d+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+a[f]+h[f],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&o^i&o),d=c,c=u,u=l,l=s+p|0,s=o,o=i,i=n,n=p+g|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function e(){return n.create.apply(n,arguments)}for(var t=y,r=t.lib.Hasher,n=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();o=o.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(d=this._hash.words)[0],n=d[1],i=d[2],o=d[3],l=d[4],u=d[5],c=d[6],d=d[7],f=r.high,h=r.low,p=n.high,g=n.low,y=i.high,v=i.low,m=o.high,b=o.low,w=l.high,_=l.low,S=u.high,E=u.low,A=c.high,x=c.low,R=d.high,k=d.low,I=f,C=h,T=p,P=g,O=y,N=v,F=m,D=b,j=w,L=_,U=S,M=E,B=A,H=x,W=R,$=k,V=0;80>V;V++){var K=s[V];if(16>V)var J=K.high=0|e[t+2*V],z=K.low=0|e[t+2*V+1];else{J=((z=(J=s[V-15]).high)>>>1|(G=J.low)<<31)^(z>>>8|G<<24)^z>>>7;var G=(G>>>1|z<<31)^(G>>>8|z<<24)^(G>>>7|z<<25),q=((z=(q=s[V-2]).high)>>>19|(Y=q.low)<<13)^(z<<3|Y>>>29)^z>>>6,Y=(Y>>>19|z<<13)^(Y<<3|z>>>29)^(Y>>>6|z<<26),Q=(z=s[V-7]).high,X=(Z=s[V-16]).high,Z=Z.low;J=(J=(J=J+Q+((z=G+z.low)>>>0<G>>>0?1:0))+q+((z+=Y)>>>0<Y>>>0?1:0))+X+((z+=Z)>>>0<Z>>>0?1:0),K.high=J,K.low=z}Q=j&U^~j&B,Z=L&M^~L&H,K=I&T^I&O^T&O;var ee=C&P^C&N^P&N,te=(G=(I>>>28|C<<4)^(I<<30|C>>>2)^(I<<25|C>>>7),q=(C>>>28|I<<4)^(C<<30|I>>>2)^(C<<25|I>>>7),(Y=a[V]).high),re=Y.low;X=W+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9))+((Y=$+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9)))>>>0<$>>>0?1:0),W=B,$=H,B=U,H=M,U=j,M=L,j=F+(X=(X=(X=X+Q+((Y+=Z)>>>0<Z>>>0?1:0))+te+((Y+=re)>>>0<re>>>0?1:0))+J+((Y+=z)>>>0<z>>>0?1:0))+((L=D+Y|0)>>>0<D>>>0?1:0)|0,F=O,D=N,O=T,N=P,T=I,P=C,I=X+(K=G+K+((z=q+ee)>>>0<q>>>0?1:0))+((C=Y+z|0)>>>0<Y>>>0?1:0)|0}h=r.low=h+C,r.high=f+I+(h>>>0<C>>>0?1:0),g=n.low=g+P,n.high=p+T+(g>>>0<P>>>0?1:0),v=i.low=v+N,i.high=y+O+(v>>>0<N>>>0?1:0),b=o.low=b+D,o.high=m+F+(b>>>0<D>>>0?1:0),_=l.low=_+L,l.high=w+j+(_>>>0<L>>>0?1:0),E=u.low=E+M,u.high=S+U+(E>>>0<M>>>0?1:0),x=c.low=x+H,c.high=A+B+(x>>>0<H>>>0?1:0),k=d.low=k+$,d.high=R+W+(k>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(o),t.HmacSHA512=r._createHmacHelper(o)}(),function(){var e=y,t=(i=e.x64).Word,r=i.WordArray,n=(i=e.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}();var v,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=m.charAt(r>>6)+m.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=m.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=m.charAt(r>>2)+m.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function w(e){var t,r,n,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=m.indexOf(e.charAt(t)))<0||(0==o?(i+=k(n>>2),r=3&n,o=1):1==o?(i+=k(r<<2|n>>4),r=15&n,o=2):2==o?(i+=k(r),i+=k(n>>2),r=3&n,o=3):(i+=k(r<<2|n>>4),i+=k(15&n),o=0));return 1==o&&(i+=k(r<<2)),i}function _(e){var t,r=w(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function S(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function E(){return new S(null)}"Microsoft Internet Explorer"==p.appName?(S.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*a;i=((l=a*l+((32767&c)<<15)+r[n]+(1073741823&i))>>>30)+(c>>>15)+s*u+(i>>>30),r[n++]=1073741823&l}return i},v=30):"Netscape"!=p.appName?(S.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},v=26):(S.prototype.am=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*a;i=((l=a*l+((16383&c)<<14)+r[n]+i)>>28)+(c>>14)+s*u,r[n++]=268435455&l}return i},v=28),S.prototype.DB=v,S.prototype.DM=(1<<v)-1,S.prototype.DV=1<<v,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-v,S.prototype.F2=2*v-52;var A,x,R=new Array;for(A="0".charCodeAt(0),x=0;x<=9;++x)R[A++]=x;for(A="a".charCodeAt(0),x=10;x<36;++x)R[A++]=x;for(A="A".charCodeAt(0),x=10;x<36;++x)R[A++]=x;function k(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function I(e,t){var r=R[e.charCodeAt(t)];return null==r?-1:r}function C(e){var t=E();return t.fromInt(e),t}function T(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function P(e){this.m=e}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function N(e,t){return e&t}function F(e,t){return e|t}function D(e,t){return e^t}function j(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function U(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function M(){}function B(e){return e}function H(e){this.r2=E(),this.q3=E(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}P.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},P.prototype.revert=function(e){return e},P.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},P.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},P.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},O.prototype.convert=function(e){var t=E();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t},O.prototype.revert=function(e){var t=E();return e.copyTo(t),this.reduce(t),t},O.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},O.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},S.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},S.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},S.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=8==r?255&e[n]:I(e,n);a<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&S.ZERO.subTo(this,this)},S.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},S.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},S.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},S.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>i|s,s=(this[r]&o)<<n;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},S.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},S.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},S.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)},S.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},S.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=E());var o=E(),a=this.s,s=e.s,l=this.DB-T(n[n.t-1]);l>0?(n.lShiftTo(l,o),i.lShiftTo(l,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,c=o[u-1];if(0!=c){var d=c*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,g=r.t,y=g-u,v=null==t?E():t;for(o.dlShiftTo(y,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),S.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--y>=0;){var m=r[--g]==c?this.DM:Math.floor(r[g]*f+(r[g-1]+p)*h);if((r[g]+=o.am(0,m,r,y,0,u))<m)for(o.dlShiftTo(y,v),r.subTo(v,r);r[g]<--m;)r.subTo(v,r)}null!=t&&(r.drShiftTo(u,t),a!=s&&S.ZERO.subTo(t,t)),r.t=u,r.clamp(),l>0&&r.rShiftTo(l,r),a<0&&S.ZERO.subTo(r,r)}}},S.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},S.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},S.prototype.exp=function(e,t){if(e>4294967295||e<1)return S.ONE;var r=E(),n=E(),i=t.convert(this),o=T(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)},S.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=k(r));a>=0;)s<t?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=k(r));return i?o:"0"},S.prototype.negate=function(){var e=E();return S.ZERO.subTo(this,e),e},S.prototype.abs=function(){return this.s<0?this.negate():this},S.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},S.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)},S.prototype.mod=function(e){var t=E();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t},S.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new P(t):new O(t),this.exp(e,r)},S.ZERO=C(0),S.ONE=C(1),M.prototype.convert=B,M.prototype.revert=B,M.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},M.prototype.sqrTo=function(e,t){e.squareTo(t)},H.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=E();return e.copyTo(t),this.reduce(t),t},H.prototype.revert=function(e){return e},H.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},H.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},H.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var W,$,V,K=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/K[K.length-1];function z(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){$[V++]^=255&e,$[V++]^=e>>8&255,$[V++]^=e>>16&255,$[V++]^=e>>24&255,V>=256&&(V-=256)}((new Date).getTime())}if(S.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},S.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=C(r),i=E(),o=E(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a},S.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,s=0;s<e.length;++s){var l=I(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+l,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),F,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},S.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},S.prototype.changeBit=function(e,t){var r=S.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},S.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},S.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},S.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},S.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},S.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},S.prototype.millerRabin=function(e){var t=this.subtract(S.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>K.length&&(e=K.length);for(var i=E(),o=0;o<e;++o){i.fromInt(K[Math.floor(Math.random()*K.length)]);var a=i.modPow(n,this);if(0!=a.compareTo(S.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<r&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},S.prototype.clone=function(){var e=E();return this.copyTo(e),e},S.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},S.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},S.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},S.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},S.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},S.prototype.equals=function(e){return 0==this.compareTo(e)},S.prototype.min=function(e){return this.compareTo(e)<0?this:e},S.prototype.max=function(e){return this.compareTo(e)>0?this:e},S.prototype.and=function(e){var t=E();return this.bitwiseTo(e,N,t),t},S.prototype.or=function(e){var t=E();return this.bitwiseTo(e,F,t),t},S.prototype.xor=function(e){var t=E();return this.bitwiseTo(e,D,t),t},S.prototype.andNot=function(e){var t=E();return this.bitwiseTo(e,j,t),t},S.prototype.not=function(){for(var e=E(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},S.prototype.shiftLeft=function(e){var t=E();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},S.prototype.shiftRight=function(e){var t=E();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},S.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=U(this[r]^t);return e},S.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},S.prototype.setBit=function(e){return this.changeBit(e,F)},S.prototype.clearBit=function(e){return this.changeBit(e,j)},S.prototype.flipBit=function(e){return this.changeBit(e,D)},S.prototype.add=function(e){var t=E();return this.addTo(e,t),t},S.prototype.subtract=function(e){var t=E();return this.subTo(e,t),t},S.prototype.multiply=function(e){var t=E();return this.multiplyTo(e,t),t},S.prototype.divide=function(e){var t=E();return this.divRemTo(e,t,null),t},S.prototype.remainder=function(e){var t=E();return this.divRemTo(e,null,t),t},S.prototype.divideAndRemainder=function(e){var t=E(),r=E();return this.divRemTo(e,t,r),new Array(t,r)},S.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=C(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new P(t):t.isEven()?new H(t):new O(t);var a=new Array,s=3,l=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var c=E();for(n.sqrTo(a[1],c);s<=u;)a[s]=E(),n.mulTo(c,a[s-2],a[s]),s+=2}var d,f,h=e.t-1,p=!0,g=E();for(i=T(e[h])-1;h>=0;){for(i>=l?d=e[h]>>i-l&u:(d=(e[h]&(1<<i+1)-1)<<l-i,h>0&&(d|=e[h-1]>>this.DB+i-l)),s=r;0==(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.DB,--h),p)a[d].copyTo(o),p=!1;else{for(;s>1;)n.sqrTo(o,g),n.sqrTo(g,o),s-=2;s>0?n.sqrTo(o,g):(f=o,o=g,g=f),n.mulTo(g,a[d],o)}for(;h>=0&&0==(e[h]&1<<i);)n.sqrTo(o,g),f=o,o=g,g=f,--i<0&&(i=this.DB-1,--h)}return n.revert(o)},S.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return S.ZERO;for(var r=e.clone(),n=this.clone(),i=C(1),o=C(0),a=C(0),s=C(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(S.ONE)?S.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},S.prototype.pow=function(e){return this.exp(e,new M)},S.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},S.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=K[K.length-1]){for(t=0;t<K.length;++t)if(r[0]==K[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<K.length;){for(var n=K[t],i=t+1;i<K.length&&n<J;)n*=K[i++];for(n=r.modInt(n);t<i;)if(n%K[t++]==0)return!1}return r.millerRabin(e)},S.prototype.square=function(){var e=E();return this.squareTo(e),e},z.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},z.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==$){var q;if($=new Array,V=0,void 0!==g&&(void 0!==g.crypto||void 0!==g.msCrypto)){var Y=g.crypto||g.msCrypto;if(Y.getRandomValues){var Q=new Uint8Array(32);for(Y.getRandomValues(Q),q=0;q<32;++q)$[V++]=Q[q]}else if("Netscape"==p.appName&&p.appVersion<"5"){var X=g.crypto.random(32);for(q=0;q<X.length;++q)$[V++]=255&X.charCodeAt(q)}}for(;V<256;)q=Math.floor(65536*Math.random()),$[V++]=q>>>8,$[V++]=255&q;V=0,G()}function Z(){if(null==W){for(G(),(W=new z).init($),V=0;V<$.length;++V)$[V]=0;V=0}return W.next()}function ee(){}function te(e,t){return new S(e,t)}function re(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t){this.x=t,this.q=e}function oe(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?S.ONE:n,this.zinv=null}function ae(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Z()},ne.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ne.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new ee,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new S(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},ne.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var i=le.crypto.MessageDigest,o=le.crypto.Util,a=null;if(r||(r="sha1"),"string"==typeof r&&(a=i.getCanonicalAlgName(r),n=i.getHashLength(a),r=function(e){return Se(o.hashHex(Ee(e),a))}),e.length+2*n+2>t)throw"Message too long for RSA";var s,l="";for(s=0;s<t-e.length-2*n-2;s+=1)l+="\0";var u=r("")+l+"\x01"+e,c=new Array(n);(new ee).nextBytes(c);var d=re(c,u.length,r),f=[];for(s=0;s<u.length;s+=1)f[s]=u.charCodeAt(s)^d.charCodeAt(s);var h=re(f,c.length,r),p=[0];for(s=0;s<c.length;s+=1)p[s+1]=c[s]^h.charCodeAt(s);return new S(p.concat(f))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},ne.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(S.ZERO)&&!this.y.toBigInteger().equals(S.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(S.ZERO.equals(r))return S.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new S("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),s=a.multiply(r),l=i.multiply(a),u=t.square().multiply(this.z),c=u.subtract(l.shiftLeft(1)).multiply(e.z).subtract(s).multiply(r).mod(this.curve.q),d=l.multiply(n).multiply(t).subtract(o.multiply(s)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),f=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(d),f)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new S("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);S.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),l=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),u=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(l),u)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new S("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new S("3")),l=new oe(this.curve,this.x,this.y),u=l.negate();for(t=n.bitLength()-2;t>0;--t){o=o.twice();var c=n.testBit(t);c!=r.testBit(t)&&(o=o.add(c?this:i))}for(t=s.bitLength()-2;t>0;--t){l=l.twice();var d=s.testBit(t);d!=a.testBit(t)&&(l=l.add(d?l:u))}return o},oe.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new ie(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new S(r,16)),this.fromBigInteger(new S(n,16)))}},ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},oe.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var o=new S(n),a=new S(i);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),o=new S(n,16),a=new S(i,16);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(S.valueOf(2)),t=this.curve.fromBigInteger(S.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new S("3")),i=this.negate(),o=this;for(t=n.bitLength()-2;t>0;--t){o=o.twice();var a=n.testBit(t);a!=r.testBit(t)&&(o=o.add2D(a?this:i))}return o},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return o.equals(a)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(S.ONE)<0||t.compareTo(e.subtract(S.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(S.ONE)<0||r.compareTo(e.subtract(S.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var se=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var i=new String(""),o=Object.hasOwnProperty;return function(r,a){var s,l,u=r.match(e),c=u[0],d=!1;"{"===c?s={}:"["===c?s=[]:(s=[],d=!0);for(var f=[s],p=1-d,g=u.length;p<g;++p){var y;switch((c=u[p]).charCodeAt(0)){default:(y=f[0])[l||y.length]=+c,l=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(t,n)),y=f[0],!l){if(!(y instanceof Array)){l=c||i;break}l=y.length}y[l]=c,l=void 0;break;case 91:y=f[0],f.unshift(y[l||y.length]=[]),l=void 0;break;case 93:case 125:f.shift();break;case 102:(y=f[0])[l||y.length]=!1,l=void 0;break;case 110:(y=f[0])[l||y.length]=null,l=void 0;break;case 116:(y=f[0])[l||y.length]=!0,l=void 0;break;case 123:y=f[0],f.unshift(y[l||y.length]={}),l=void 0}}if(d){if(1!==f.length)throw new Error;s=s[0]}else if(f.length)throw new Error;return a&&(s=function e(t,r){var n=t[r];if(n&&"object"===(void 0===n?"undefined":h(n))){var i=null;for(var s in n)if(o.call(n,s)&&n!==t){var l=e(n,s);void 0!==l?n[s]=l:(i||(i=[]),i.push(s))}if(i)for(var u=i.length;--u>=0;)delete n[i[u]]}return a.call(t,r,n)}({"":s},"")),s}}();void 0!==le&&le||(t.KJUR=le={}),void 0!==le.asn1&&le.asn1||(le.asn1={}),le.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new S(n,16).xor(e).add(S.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return ke(e,t)},this.newObject=function(e){var t=le.asn1,r=t.ASN1Object,n=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,l=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,d=t.DERNumericString,f=t.DERPrintableString,h=t.DERTeletexString,p=t.DERIA5String,g=t.DERUTCTime,y=t.DERGeneralizedTime,v=t.DERVisibleString,m=t.DERBMPString,b=t.DERSequence,w=t.DERSet,_=t.DERTaggedObject,S=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var E=Object.keys(e);if(1!=E.length)throw new Error("key of param shall be only one.");var A=E[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+A+":"))throw new Error("undefined key: "+A);if("bool"==A)return new n(e[A]);if("int"==A)return new i(e[A]);if("bitstr"==A)return new o(e[A]);if("octstr"==A)return new a(e[A]);if("null"==A)return new s(e[A]);if("oid"==A)return new l(e[A]);if("enum"==A)return new u(e[A]);if("utf8str"==A)return new c(e[A]);if("numstr"==A)return new d(e[A]);if("prnstr"==A)return new f(e[A]);if("telstr"==A)return new h(e[A]);if("ia5str"==A)return new p(e[A]);if("utctime"==A)return new g(e[A]);if("gentime"==A)return new y(e[A]);if("visstr"==A)return new v(e[A]);if("bmpstr"==A)return new m(e[A]);if("asn1"==A)return new r(e[A]);if("seq"==A){for(var x=e[A],R=[],k=0;k<x.length;k++){var I=S(x[k]);R.push(I)}return new b({array:R})}if("set"==A){for(x=e[A],R=[],k=0;k<x.length;k++)I=S(x[k]),R.push(I);return new w({array:R})}if("tag"==A){var C=e[A];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var T=S(C[2]);return new _({tag:C[0],explicit:C[1],obj:T})}return new _(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},le.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new S(n,2).toString(10),n="")}return t},le.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new S(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n},le.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},le.asn1.DERAbstractString=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=we(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},He(le.asn1.DERAbstractString,le.asn1.ASN1Object),le.asn1.DERAbstractTime=function(e){le.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var s=i.getMilliseconds();if(0!=s){var l=n(String(s),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ge(e)},this.setByDateValue=function(e,t,r,n,i,o){var a=new Date(Date.UTC(e,t-1,r,n,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},He(le.asn1.DERAbstractTime,le.asn1.ASN1Object),le.asn1.DERAbstractStructured=function(e){le.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},He(le.asn1.DERAbstractStructured,le.asn1.ASN1Object),le.asn1.DERBoolean=function(e){le.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},He(le.asn1.DERBoolean,le.asn1.ASN1Object),le.asn1.DERInteger=function(e){le.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},He(le.asn1.DERInteger,le.asn1.ASN1Object),le.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}le.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},He(le.asn1.DERBitString,le.asn1.ASN1Object),le.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=le.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}le.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},He(le.asn1.DEROctetString,le.asn1.DERAbstractString),le.asn1.DERNull=function(){le.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},He(le.asn1.DERNull,le.asn1.ASN1Object),le.asn1.DERObjectIdentifier=function(e){le.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=parseInt(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};try{if(!e.match(/^[0-9.]+$/))return null;var n="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=le.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},He(le.asn1.DERObjectIdentifier,le.asn1.ASN1Object),le.asn1.DEREnumerated=function(e){le.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=le.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},He(le.asn1.DEREnumerated,le.asn1.ASN1Object),le.asn1.DERUTF8String=function(e){le.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},He(le.asn1.DERUTF8String,le.asn1.DERAbstractString),le.asn1.DERNumericString=function(e){le.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},He(le.asn1.DERNumericString,le.asn1.DERAbstractString),le.asn1.DERPrintableString=function(e){le.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},He(le.asn1.DERPrintableString,le.asn1.DERAbstractString),le.asn1.DERTeletexString=function(e){le.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},He(le.asn1.DERTeletexString,le.asn1.DERAbstractString),le.asn1.DERIA5String=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},He(le.asn1.DERIA5String,le.asn1.DERAbstractString),le.asn1.DERVisibleString=function(e){le.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},He(le.asn1.DERVisibleString,le.asn1.DERAbstractString),le.asn1.DERBMPString=function(e){le.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},He(le.asn1.DERBMPString,le.asn1.DERAbstractString),le.asn1.DERUTCTime=function(e){le.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},He(le.asn1.DERUTCTime,le.asn1.DERAbstractTime),le.asn1.DERGeneralizedTime=function(e){le.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},He(le.asn1.DERGeneralizedTime,le.asn1.DERAbstractTime),le.asn1.DERSequence=function(e){le.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},He(le.asn1.DERSequence,le.asn1.DERAbstractStructured),le.asn1.DERSet=function(e){le.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},He(le.asn1.DERSet,le.asn1.DERAbstractStructured),le.asn1.DERTaggedObject=function(e){le.asn1.DERTaggedObject.superclass.constructor.call(this);var t=le.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==h(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},He(le.asn1.DERTaggedObject,le.asn1.ASN1Object);var le,ue,ce,de=new function(){};function fe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function he(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function pe(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function ge(e){return pe(fe(e))}function ye(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ve(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function me(e){return e.length%2==1&&(e="0"+e),ye(b(e))}function be(e){return w(ve(e))}function we(e){return Pe(Le(e))}function _e(e){return decodeURIComponent(Oe(e))}function Se(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function Ee(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Ae(e){return b(e)}function xe(e){var t=Ae(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Re(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function ke(e,t){return"-----BEGIN "+t+"-----\r\n"+xe(e)+"\r\n-----END "+t+"-----\r\n"}function Ie(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Re(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ce(e){var t,r,n,i,o,a,s,l,u,c,d;if(d=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=d[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(d[2])-1,n=parseInt(d[3]),i=parseInt(d[4]),o=parseInt(d[5]),a=parseInt(d[6]),s=0,""!==(u=d[7])&&(c=(u.substr(1)+"00").substr(0,3),s=parseInt(c)),Date.UTC(t,r,n,i,o,a,s);throw"unsupported zulu format: "+e}function Te(e){return~~(Ce(e)/1e3)}function Pe(e){return e.replace(/%/g,"")}function Oe(e){return e.replace(/(..)/g,"%$1")}function Ne(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),i=(e=e.replace("::",n)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Fe(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(e=e.replace(i,"::")).slice(1,-1)}function De(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Fe(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function je(e){return e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2),16);if(0==t&r<128)return String.fromCharCode(r);if(t<8){var n=128|63&r;return _e((192|(7&t)<<3|(192&r)>>6).toString(16)+n.toString(16))}n=128|(15&t)<<2|(192&r)>>6;var i=128|63&r;return _e((224|(240&t)>>4).toString(16)+n.toString(16)+i.toString(16))})).join("")}function Le(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+ge(t[n]);return r}function Ue(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},de.getL=function(e,t){var r=de.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},de.getVblen=function(e,t){var r;return""==(r=de.getL(e,t))?-1:("8"===r.substr(0,1)?new S(r.substr(2),16):new S(r,16)).intValue()},de.getVidx=function(e,t){var r=de.getLblen(e,t);return r<0?r:t+2*(r+1)},de.getV=function(e,t){var r=de.getVidx(e,t),n=de.getVblen(e,t);return e.substr(r,2*n)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var r,n,i,o=de,a=[];r=o.getVidx(e,t),n=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),i=0;for(var s=r;i<=n;){var l=o.getTLVblen(e,s);if((i+=l)<=n&&a.push(s),s+=l,i>=n)break}return a},de.getNthChildIdx=function(e,t,r){return de.getChildIdx(e,t)[r]},de.getIdxbyList=function(e,t,r,n){var i,o,a=de;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(i=r.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],r,n)},de.getIdxbyListEx=function(e,t,r,n){var i,o,a=de;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;i=r.shift(),o=a.getChildIdx(e,t);for(var s=0,l=0;l<o.length;l++){var u=e.substr(o[l],2);if("number"==typeof i&&!a.isContextTag(u)&&s==i||"string"==typeof i&&a.isContextTag(u,i))return a.getIdxbyListEx(e,o[l],r,n);a.isContextTag(u)||s++}return-1},de.getTLVbyList=function(e,t,r,n){var i=de,o=i.getIdxbyList(e,t,r,n);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,r,n){var i=de,o=i.getIdxbyListEx(e,t,r,n);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,r,n))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,r,n))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,r){null==r&&(r=-1);try{var n=e.substr(t,2);if("02"!=n&&"03"!=n)return r;var i=de.getV(e,t);return"02"==n?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var r=parseInt(t,16),n=e.substr(2),i=parseInt(n,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-r),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return r}},de.getOID=function(e,t,r){null==r&&(r=null);try{return"06"!=e.substr(t,2)?r:function(e){if(!Ue(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],l="";for(a=0;a<o.length;a++)128&o[a]?l+=Be((127&o[a]).toString(2),7):(l+=Be((127&o[a]).toString(2),7),s.push(new String(parseInt(l,2))),l="");var u=t.join(".");return s.length>0&&(u=u+"."+s.join(".")),u}catch(e){return null}}(de.getV(e,t))}catch(e){return r}},de.getOIDName=function(e,t,r){null==r&&(r=null);try{var n=de.getOID(e,t,r);if(n==r)return r;var i=le.asn1.x509.OID.oid2name(n);return""==i?n:i}catch(e){return r}},de.getString=function(e,t,r){null==r&&(r=null);try{return Se(de.getV(e,t))}catch(e){return r}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var l=[],u="";for(s=0;s<a.length;s++)128&a[s]?u+=t((127&a[s]).toString(2),7):(u+=t((127&a[s]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=r.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},de.dump=function(e,t,r,n){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,l=e;e instanceof le.asn1.ASN1Object&&(l=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var c,d=t.ommit_long_octet;if("01"==(c=l.substr(r,2)))return"00"==(f=o(l,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==c)return n+"INTEGER "+u(f=o(l,r),d)+"\n";if("03"==c){var f=o(l,r);return i.isASN1HEX(f.substr(2))?(_=n+"BITSTRING, encapsulates\n")+a(f.substr(2),t,0,n+"  "):n+"BITSTRING "+u(f,d)+"\n"}if("04"==c)return f=o(l,r),i.isASN1HEX(f)?(_=n+"OCTETSTRING, encapsulates\n")+a(f,t,0,n+"  "):n+"OCTETSTRING "+u(f,d)+"\n";if("05"==c)return n+"NULL\n";if("06"==c){var h=o(l,r),p=le.asn1.ASN1Util.oidHexToInt(h),g=le.asn1.x509.OID.oid2name(p),y=p.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+y+")\n":n+"ObjectIdentifier ("+y+")\n"}if("0a"==c)return n+"ENUMERATED "+parseInt(o(l,r))+"\n";if("0c"==c)return n+"UTF8String '"+_e(o(l,r))+"'\n";if("13"==c)return n+"PrintableString '"+_e(o(l,r))+"'\n";if("14"==c)return n+"TeletexString '"+_e(o(l,r))+"'\n";if("16"==c)return n+"IA5String '"+_e(o(l,r))+"'\n";if("17"==c)return n+"UTCTime "+_e(o(l,r))+"\n";if("18"==c)return n+"GeneralizedTime "+_e(o(l,r))+"\n";if("1a"==c)return n+"VisualString '"+_e(o(l,r))+"'\n";if("1e"==c)return n+"BMPString '"+je(o(l,r))+"'\n";if("30"==c){if("3000"==l.substr(r,4))return n+"SEQUENCE {}\n";_=n+"SEQUENCE\n";var v=t;if((2==(w=s(l,r)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){g=i.oidname(o(l,w[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=g,v=m}for(var b=0;b<w.length;b++)_+=a(l,v,w[b],n+"  ");return _}if("31"==c){_=n+"SET\n";var w=s(l,r);for(b=0;b<w.length;b++)_+=a(l,t,w[b],n+"  ");return _}if(0!=(128&(c=parseInt(c,16)))){var _,S=31&c;if(0!=(32&c)){for(_=n+"["+S+"]\n",w=s(l,r),b=0;b<w.length;b++)_+=a(l,t,w[b],n+"  ");return _}return f=o(l,r),de.isASN1HEX(f)?(_=n+"["+S+"]\n")+a(f,t,0,n+"  "):(("68747470"==f.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==S)&&(f=_e(f)),n+"["+S+"] "+f+"\n")}return n+"UNKNOWN("+c+") "+o(l,r)+"\n"},de.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0);return e.length-n.length-i.length==2*r},de.checkStrictDER=function(e,t,r,n,i){var o=de;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!le.lang.String.isHex(e))throw new Error("not hex string");r=e.length,i=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>n)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),l=s.length-2-o.getL(e,t).length;if(l!==2*a)throw new Error("V string length and L's value not the same:"+l+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var u=e.substr(t,2);if("02"===u){var c=o.getVidx(e,t);if("00"==e.substr(c,2)&&e.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var d=o.getVblen(e,t),f=0,h=o.getChildIdx(e,t),p=0;p<h.length;p++)f+=o.getTLV(e,h[p]).length,o.checkStrictDER(e,h[p],r,n,i);if(2*d!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*d+"!="+f)}},de.oidname=function(e){var t=le.asn1;le.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.lang&&le.lang||(le.lang={}),le.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=ue=function(t){return ye(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=ce=function(t){return e.from(ve(t),"base64").toString("utf8")}):(t.utf8tob64u=ue=function(e){return me(Pe(Le(e)))},t.b64utoutf8=ce=function(e){return decodeURIComponent(Oe(be(e)))}),le.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},le.lang.String.isHex=function(e){return Ue(e)},le.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},le.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ve(e),le.lang.String.isBase64(e))},le.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},le.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},le.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},le.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,r){return null==r&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};function He(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var o="0001",a="00"+n,s="",l=i-4-a.length,u=0;u<l;u+=2)s+="ff";return o+s+a},this.hashString=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new le.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ne||e instanceof le.crypto.DSA||e instanceof le.crypto.ECDSA}},le.crypto.Util.md5=function(e){return new le.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},le.crypto.Util.ripemd160=function(e){return new le.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},le.crypto.Util.SECURERANDOMGEN=new ee,le.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return le.crypto.Util.SECURERANDOMGEN.nextBytes(t),pe(t)},le.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new S(le.crypto.Util.getRandomHexOfNbytes(e),16)},le.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return le.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],pe(r)},le.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new S(le.crypto.Util.getRandomHexOfNbits(e),16)},le.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=le.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},le.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return le.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},le.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=le.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},le.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},le.crypto.MessageDigest.getHashLength=function(e){var t=le.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},le.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},le.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=le.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=le.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ee(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":h(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=we(e.utf8)),void 0!==e.rstr&&(t=Ee(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},le.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new le.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?We.getKey(e):We.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.prvKey=new le.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof le.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof le.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==le.crypto.ECDSA&&(this.pubKey=new le.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.ECDSA&&this.pubKey instanceof le.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==le.crypto.DSA&&this.pubKey instanceof le.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=le.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=We.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},le.crypto.Cipher=function(e){},le.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ne&&t.isPublic){var n=le.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},le.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ne&&t.isPrivate){var n=le.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},le.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},le.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECDSA=function(e){var t=Error,r=S,n=oe,i=le.crypto.ECDSA,o=le.crypto.ECParameterDB,a=i.getName,s=de,l=s.getVbyListEx,u=s.isASN1HEX,c=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new r(e.bitLength(),c).mod(e.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+n.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new r(t,16),o=this.ecparams.n,a=new r(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(o),l=this.ecparams.G.multiply(s).getX().toBigInteger().mod(o)}while(l.compareTo(r.ZERO)<=0);var u=s.modInverse(o).multiply(a.add(n.multiply(l))).mod(o);return i.biRSSigToASN1Sig(l,u)},this.sign=function(e,t){var n=t,i=this.ecparams.n,o=r.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(S.ZERO)<=0);var l=a.modInverse(i).multiply(o.add(n.multiply(s))).mod(i);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var a,s,l=i.parseSigHex(t);a=l.r,s=l.s;var u=n.decodeFromHex(this.ecparams.curve,o),c=new r(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(c,a,s,u)}catch(e){return!1}},this.verify=function(e,t,i){var o,a,s;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);o=l.r,a=l.s}else{if("object"!==(void 0===t?"undefined":h(t))||!t.r||!t.s)throw"Invalid value for signature";o=t.r,a=t.s}if(i instanceof oe)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=n.decodeFrom(this.ecparams.curve,i)}var u=r.fromByteArrayUnsigned(e);return this.verifyRaw(u,o,a,s)},this.verifyRaw=function(e,t,n,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(r.ONE)<0||t.compareTo(o)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(o)>=0)return!1;var s=n.modInverse(o),l=e.multiply(s).mod(o),u=t.multiply(s).mod(o);return a.multiply(l).add(i.multiply(u)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===u(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=l(e,0,["[0]",0],"06"),r=l(e,0,[1],"04");try{n=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var r,n,i;try{l(e,0,[1,0],"06"),r=l(e,0,[1,1],"06"),n=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var r,n;try{l(e,0,[0,0],"06"),r=l(e,0,[0,1],"06"),n=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===u(e))throw new t("not ASN.1 hex string");var n,i;try{n=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},le.crypto.ECDSA.parseSigHex=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new S(t.r,16),s:new S(t.s,16)}},le.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,o),s:n(e,a)}},le.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=le.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},le.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return le.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},le.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new S(e,16),n=new S(t,16);return le.crypto.ECDSA.biRSSigToASN1Sig(r,n)},le.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=le.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,i]}).getEncodedHex()},le.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==le&&le||(t.KJUR=le={}),void 0!==le.crypto&&le.crypto||(le.crypto={}),le.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new S(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,o,a,s,l,u,c,d,f,h,p){e[n]={};var g=r(o),y=r(a),v=r(s),m=r(l),b=r(u),w=new ae(g,y,v),_=w.decodePointHex("04"+c+d);e[n].name=n,e[n].keylen=i,e[n].curve=w,e[n].G=_,e[n].n=m,e[n].h=b,e[n].oid=h,e[n].info=p;for(var S=0;S<f.length;S++)t[f[S]]=n}},le.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),le.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),le.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),le.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),le.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),le.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),le.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),le.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),le.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var We=function(){var e=function(e,r,n){return t(y.AES,e,r,n)},t=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s={};s.key=o,s.iv=a,s.ciphertext=i;var l=e.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(l)},r=function(e,t,r){return n(y.AES,e,t,r)},n=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s=e.encrypt(i,o,{iv:a}),l=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(y.TripleDES,e,r,n)},eproc:function(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(y.DES,e,r,n)},eproc:function(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},o=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,r){for(var n=r.substring(0,16),o=y.enc.Hex.parse(n),a=y.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,l="",u=null;;){var c=y.algo.MD5.create();if(null!=u&&c.update(u),c.update(a),c.update(o),u=c.finalize(),(l+=y.enc.Hex.stringify(u)).length>=2*s)break}var d={};return d.keyhex=l.substr(0,2*i[e].keylen),d.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),d},s=function(e,t,r,n){var o=y.enc.Base64.parse(e),a=y.enc.Hex.stringify(o);return(0,i[t].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return a(e,t,r)},decryptKeyB64:function(e,t,r,n){return s(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=o(e),n=(r.type,r.cipher),i=r.ivsalt,l=r.data,u=a(n,t,i).keyhex;return s(l,n,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,o){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw new Error("KEYUTIL unsupported algorithm: "+n);void 0!==o&&null!=o||(o=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[n].ivlen).toUpperCase());var l=function(e,t,r,n){return(0,i[t].eproc)(e,r,n)}(t,n,a(n,r,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+o+"\r\n",s+="\r\n",(s+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var r=de,n=r.getChildIdx,i=r.getV,o={},a=n(t,0);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+a.length);o.ciphertext=i(t,a[1]);var s=n(t,a[0]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+s.length);if("2a864886f70d01050d"!=i(t,s[0]))throw new Error("this only supports pkcs5PBES2");var l=n(t,s[1]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+l.length);var u=n(t,l[1]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length);if("2a864886f70d0307"!=i(t,u[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=i(t,u[1]);var c=n(t,l[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=i(t,c[0]))throw new Error("this only supports pkcs5PBKDF2");var d=n(t,c[1]);if(d.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+d.length);o.pbkdf2Salt=i(t,d[0]);var f=i(t,d[1]);try{o.pbkdf2Iter=parseInt(f,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+f)}return o},getPBKDF2KeyHexFromParam:function(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,i=y.PBKDF2(t,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Ie(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=We.getPBKDF2KeyHexFromParam(n,t),o={};o.ciphertext=y.enc.Hex.parse(n.ciphertext);var a=y.enc.Hex.parse(i),s=y.enc.Hex.parse(n.encryptionSchemeIV),l=y.TripleDES.decrypt(o,a,{iv:s});return y.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=r(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var a=r(e,o[1]);if(2!=a.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=n(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=n(e,a[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ie(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new ne;else if("2a8648ce380401"==r.algoid)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw new Error("unsupported private key algorithm");t=new le.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new ne;else if("2a8648ce380401"===r)t=new le.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw new Error("unsupported PKCS#8 public key hex");t=new le.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=r(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=n(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=n(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null},o=r(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var a=o[0];if("30"!=e.substr(a,2))throw new Error("malformed PKCS8 public key(code:001)");var s=r(e,a);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=n(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=n(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=n(e,o[1]).substr(2),i}}}();function $e(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e}function Ve(e,t,r){for(var n="",i=0;n.length<t;)n+=Se(r(Ee(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Ke(e){for(var t in le.crypto.Util.DIGESTINFOHEAD){var r=le.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function Je(e){var t,r=de,n=r.getChildIdx,i=r.getV,o=r.getTLV,a=r.getVbyList,s=r.getVbyListEx,l=r.getTLVbyList,u=r.getTLVbyListEx,c=r.getIdxbyList,d=r.getIdxbyListEx,f=r.getVidx,h=r.getInt,p=r.oidname,g=r.hextooidstr,y=Ie;try{t=le.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=l(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=l(e,0,[0]),r=h(t,0);if(r<0||2<r)throw new Error("malformed version field");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=u(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return p(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return c(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return We.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=l(this.hex,0,[0],"30"),i=new le.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=c(s,0,[0,7,0],"30"),o=n(s,t)}else{s=Ie(e);var l=c(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,l))return void(this.aExtInfo=new Array);t=c(s,0,[0,3,0,1,0],"30"),o=n(s,t),this.hex=s}this.aExtInfo=new Array;for(var u=0;u<o.length;u++){var d={critical:!1},h=0;3===n(s,o[u]).length&&(d.critical=!0,h=1),d.oid=r.hextooidstr(a(s,o[u],[0],"06"));var p=c(s,o[u],[1+h]);d.vidx=f(s,p),this.aExtInfo.push(d)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=le.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return n.cA=!0,n.pathLen=s,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(Je.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var a=i(e,0);return n.kid={hex:a},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=n(e,0),l=0;l<s.length;l++){var u=e.substr(s[l],2);if("80"===u&&(a.kid={hex:i(e,s[l])}),"a1"===u){var c=o(e,s[l]),d=this.getGeneralNames(c);a.issuer=d[0].dn}"82"===u&&(a.sn={hex:i(e,s[l])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=n(e,0),l=0;l<s.length;l++)a.array.push(p(i(e,s[l])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=o(this.hex,e.vidx);if(""===r)return t;for(var a=n(r,0),s=0;s<a.length;s++)t.push(p(i(r,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&r.push(a)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=i(e,0),n=Se(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"86"==t?{uri:n}:"87"==t?{ip:De(r)}:"a4"==t?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,l=o(this.hex,a.vidx),u=n(l,0),c=0;c<u.length;c++)r=l.substr(u[c],2),e=i(l,u[c]),"81"===r&&(t=_e(e),s.push(["MAIL",t])),"82"===r&&(t=_e(e),s.push(["DNS",t])),"84"===r&&(t=Je.hex2dn(e,0),s.push(["DN",t])),"86"===r&&(t=_e(e),s.push(["URI",t])),"87"===r&&(t=De(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var l=o(e,a[s]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),i=0;i<r.length;i++)try{var o=_e(a(this.hex,r[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),i=0;i<r.length;i++){var o=a(this.hex,r[i],[0],"06"),s=a(this.hex,r[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(_e(s)),"2b06010505073002"===o&&t.caissuer.push(_e(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var l=n(e,0),u=0;u<l.length;u++){var c=s(e,l[u],[0],"06"),d=_e(a(e,l[u],[1],"86"));if("2b06010505073001"==c)i.array.push({ocsp:d});else{if("2b06010505073002"!=c)throw new Error("unknown method: "+c);i.array.push({caissuer:d})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var l=o(e,a[s]),u=this.getPolicyInformation(l);i.array.push(u)}return i},this.getPolicyInformation=function(e){var t={},r=a(e,0,[0],"06");t.policyoid=p(r);var i=d(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=n(e,i),l=0;l<s.length;l++){var u=o(e,s[l]),c=this.getPolicyQualifierInfo(u);t.array.push(c)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=a(e,0,[0],"06");if("2b06010505070201"===r){var n=s(e,0,[1],"16");t.cps=Se(n)}else if("2b06010505070202"===r){var i=l(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Se(i(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:i(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(i(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=i(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=n(e,0);if(a.length>1){var s=o(e,a[1]),l=this.getGeneralName(s);null!=l.uri&&(i.uri=l.uri)}if(a.length>2){var u=o(e,a[2]);"0101ff"==u&&(i.reqauth=!0),"010100"==u&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++)r.push(i[o]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,l=a.value,u=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=u)return"mixed";if(le.lang.String.isMail(l))continue;return"mixed"}if("C"==u){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getRDN(o(e,r[i])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getAttrTypeAndValue(o(e,r[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),i=a(e,r[0],[],"06"),o=a(e,r[1],[]),s=le.asn1.ASN1Util.oidHexToInt(i);return t.type=le.asn1.x509.OID.oid2atype(s),t.ds=this.HEX2STAG[e.substr(r[1],2)],"bmp"!=t.ds?t.value=_e(o):t.value=je(o),t},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{c(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=ke(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=d(this.hex,0,[0,"[3]"])&&(e=u(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=g(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==l(e,0,[1])&&(i=!0);var o=l(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==r?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==r?s=this.getExtKeyUsage(o,i):"2.5.29.17"==r?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==r?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==r?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==r?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==r?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==r?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==r?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==r?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==r?s=this.getExtCRLNumber(o,i):"2.5.29.21"==r?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==r?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==r?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==r&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var u={extname:r,extn:o};return i&&(u.critical=!0),u},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var o=n[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.getInfo=function(){var e,t,r,n=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(t){for(var r="",n=t.array,i=0;i<n.length;i++){var o=n[i];try{void 0!==o.dpname.full[0].uri&&(r+="    "+o.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==o.dname.full[0].dn.hex&&(r+="    "+Je.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(e){}}return r},a=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var l=r[s],u=le.asn1.x509.OID.oid2name(l.oid);""===u&&(u=l.oid);var c="";if(!0===l.critical&&(c="CRITICAL"),e+="  "+u+" "+c+":\n","basicConstraints"===u){var d=this.getExtBasicConstraints();void 0===d.cA?e+="    {}\n":(e+="    cA=true",void 0!==d.pathLen&&(e+=", pathLen="+d.pathLen),e+="\n")}else if("keyUsage"===u)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===u)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===u){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(e+="    kid="+f.kid.hex+"\n")}else"extKeyUsage"===u?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===u?e+="    "+n(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===u?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===u?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===u&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):le.lang.String.isHex(e)&&this.readCertHex(e))}We.getKey=function(e,t,r){var n,i=(v=de).getChildIdx,o=(v.getV,v.getVbyList),a=le.crypto,s=a.ECDSA,l=a.DSA,u=ne,c=Ie,d=We;if(void 0!==u&&e instanceof u)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new u).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new l).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(be(e.n),be(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new u).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new u).setPrivate(be(e.n),be(e.e),be(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=(I=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+be(e.x)).slice(-f)+("0000000000"+be(e.y)).slice(-f);return I.setPublicKeyHex(h),I}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){f=(I=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+be(e.x)).slice(-f)+("0000000000"+be(e.y)).slice(-f);var p=("0000000000"+be(e.d)).slice(-f);return I.setPublicKeyHex(h),I.setPrivateKeyHex(p),I}if("pkcs5prv"===r){var g,y=e,v=de;if(9===(g=i(y,0)).length)(C=new u).readPKCS5PrvKeyHex(y);else if(6===g.length)(C=new l).readPKCS5PrvKeyHex(y);else{if(!(g.length>2&&"04"===y.substr(g[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(C=new s).readPKCS5PrvKeyHex(y)}return C}if("pkcs8prv"===r)return d.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return d._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return Je.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Je.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Ie(e,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=c(e,"RSA PRIVATE KEY");return d.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=o(n=c(e,"DSA PRIVATE KEY"),0,[1],"02"),_=o(n,0,[2],"02"),E=o(n,0,[3],"02"),A=o(n,0,[4],"02"),x=o(n,0,[5],"02");return(C=new l).setPrivate(new S(w,16),new S(_,16),new S(E,16),new S(A,16),new S(x,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=c(e,"EC PRIVATE KEY"),d.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return d.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var R=d.getDecryptedKeyHex(e,t),k=new ne;return k.readPKCS5PrvKeyHex(R),k}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var I,C=o(n=d.getDecryptedKeyHex(e,t),0,[1],"04"),T=o(n,0,[2,0],"06"),P=o(n,0,[3,0],"03").substr(2);if(void 0===le.crypto.OID.oidhex2name[T])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+T);return(I=new s({curve:le.crypto.OID.oidhex2name[T]})).setPublicKeyHex(P),I.setPrivateKeyHex(C),I.isPublic=!1,I}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=o(n=d.getDecryptedKeyHex(e,t),0,[1],"02"),_=o(n,0,[2],"02"),E=o(n,0,[3],"02"),A=o(n,0,[4],"02"),x=o(n,0,[5],"02"),(C=new l).setPrivate(new S(w,16),new S(_,16),new S(E,16),new S(A,16),new S(x,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return d.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},We.generateKeypair=function(e,t){if("RSA"==e){var r=t;(a=new ne).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new ne,i=a.n.toString(16),o=a.e.toString(16);return n.setPublic(i,o),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==e){var a,s,l=t,u=new le.crypto.ECDSA({curve:l}).generateKeyPairHex();return(a=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new le.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw new Error("unknown algorithm: "+e)},We.getPEM=function(e,t,r,n,i,o){var a=le,s=a.asn1,l=s.DERObjectIdentifier,u=s.DERInteger,c=s.ASN1Util.newObject,d=s.x509.SubjectPublicKeyInfo,f=a.crypto,h=f.DSA,p=f.ECDSA,g=ne;function v(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==h&&e instanceof h||void 0!==p&&e instanceof p)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return ke(E=new d(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===r||null==r)&&1==e.isPrivate)return ke(E=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate){var w=new l({name:e.curveName}).getEncodedHex(),_=m(e).getEncodedHex(),S="";return(S+=ke(w,"EC PARAMETERS"))+ke(_,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===r||null==r)&&1==e.isPrivate)return ke(E=b(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==r&&null!=r&&1==e.isPrivate){var E=v(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",E,r,n,o)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate)return E=m(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",E,r,n,o);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==r&&null!=r&&1==e.isPrivate)return E=b(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",E,r,n,o);var A=function(e,t){var r=x(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},x=function(e,t){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(t,r,{keySize:6,iterations:100}),o=y.enc.Hex.parse(e),a=y.TripleDES.encrypt(o,i,{iv:n})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=y.enc.Hex.stringify(r),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=y.enc.Hex.stringify(n),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var R=v(e).getEncodedHex();return E=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:R}}]}).getEncodedHex(),void 0===r||null==r?ke(E,"PRIVATE KEY"):ke(_=A(E,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return R=new c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),E=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:R}}]}).getEncodedHex(),void 0===r||null==r?ke(E,"PRIVATE KEY"):ke(_=A(E,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return R=new u({bigint:e.x}).getEncodedHex(),E=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:R}}]}).getEncodedHex(),void 0===r||null==r?ke(E,"PRIVATE KEY"):ke(_=A(E,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},We.getKeyFromCSRPEM=function(e){var t=Ie(e,"CERTIFICATE REQUEST");return We.getKeyFromCSRHex(t)},We.getKeyFromCSRHex=function(e){var t=We.parseCSRHex(e);return We.getKey(t.p8pubkeyhex,null,"pkcs8pub")},We.parseCSRHex=function(e){var t=de,r=t.getChildIdx,n=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var a=r(o,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(a[0],2))throw new Error("malformed CSR(code:003)");var s=r(o,a[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=n(o,s[2]),i},We.getKeyID=function(e){var t=We,r=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Ie(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),o=r.getV(n,i).substring(2);return le.crypto.Util.hashHex(o,"sha1")},We.getJWKFromKey=function(e){var t={};if(e instanceof ne&&e.isPrivate)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t.d=me(e.d.toString(16)),t.p=me(e.p.toString(16)),t.q=me(e.q.toString(16)),t.dp=me(e.dmp1.toString(16)),t.dq=me(e.dmq1.toString(16)),t.qi=me(e.coeff.toString(16)),t;if(e instanceof ne&&e.isPublic)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t;if(e instanceof le.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw new Error("unsupported curve name for JWT: "+n);var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=me(r.x),t.y=me(r.y),t.d=me(e.prvKeyHex),t}if(e instanceof le.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw new Error("unsupported curve name for JWT: "+n);return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=me(r.x),t.y=me(r.y),t}throw new Error("not supported key object")},ne.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ne.getHexValueArrayOfChildrenFromHex=function(e){var t,r=de.getV,n=r(e,(t=ne.getPosArrayOfChildrenFromHex(e))[0]),i=r(e,t[1]),o=r(e,t[2]),a=r(e,t[3]),s=r(e,t[4]),l=r(e,t[5]),u=r(e,t[6]),c=r(e,t[7]),d=r(e,t[8]);return(t=new Array).push(n,i,o,a,s,l,u,c,d),t},ne.prototype.readPrivateKeyFromPEMString=function(e){var t=Ie(e),r=ne.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ne.prototype.readPKCS5PrvKeyHex=function(e){var t=ne.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ne.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,o,a,s,l,u=de,c=u.getVbyListEx;if(!1===u.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),r=c(e,0,[2,0,2],"02"),n=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),o=c(e,0,[2,0,5],"02"),a=c(e,0,[2,0,6],"02"),s=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,o,a,s,l)},ne.prototype.readPKCS5PubKeyHex=function(e){var t=de,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),o=r(e,n[1]);this.setPublic(i,o)},ne.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ne.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new Je).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)},new RegExp("[^0-9a-f]","gi"),ne.prototype.sign=function(e,t){var r=function(e){return le.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},ne.prototype.signWithMessageHash=function(e,t){var r=te(le.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return $e(this.doPrivate(r).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(e,t,r){var n=function(e){return le.crypto.Util.hashHex(e,t)}(Ee(e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,t,r)},ne.prototype.signWithMessageHashPSS=function(e,t,r){var n,i=Se(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),l=function(e){return le.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=o;else if(-2===r)r=s-o-2;else if(r<-2)throw new Error("invalid salt length");if(s<o+r+2)throw new Error("data too long");var u="";r>0&&(u=new Array(r),(new ee).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=Se(l(Ee("\0\0\0\0\0\0\0\0"+i+u))),d=[];for(n=0;n<s-r-o-2;n+=1)d[n]=0;var f=String.fromCharCode.apply(String,d)+"\x01"+u,h=Ve(c,f.length,l),p=[];for(n=0;n<f.length;n+=1)p[n]=f.charCodeAt(n)^h.charCodeAt(n);var g=65280>>8*s-a&255;for(p[0]&=~g,n=0;n<o;n++)p.push(c.charCodeAt(n));return p.push(188),$e(this.doPrivate(new S(p)).toString(16),this.n.bitLength())},ne.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var r=te(t,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var i=this.doPublic(r).toString(16);if(i.length+3!=n/4)return!1;var o=Ke(i.replace(/^1f+00/,""));if(0==o.length)return!1;var a=o[0];return o[1]==function(e){return le.crypto.Util.hashString(e,a)}(e)},ne.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=te(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ke(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},ne.prototype.verifyPSS=function(e,t,r,n){var i=function(e){return le.crypto.Util.hashHex(e,r)}(Ee(e));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,t,r,n)},ne.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new S(t,16),a=function(e){return le.crypto.Util.hashHex(e,r)},s=Se(e),l=s.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===n||void 0===n)n=l;else if(-2===n)n=c-l-2;else if(n<-2)throw new Error("invalid salt length");if(c<l+n+2)throw new Error("data too long");var d=this.doPublic(o).toByteArray();for(i=0;i<d.length;i+=1)d[i]&=255;for(;d.length<c;)d.unshift(0);if(188!==d[c-1])throw new Error("encoded message does not end in 0xbc");var f=(d=String.fromCharCode.apply(String,d)).substr(0,c-l-1),h=d.substr(f.length,l),p=65280>>8*c-u&255;if(0!=(f.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var g=Ve(h,f.length,a),y=[];for(i=0;i<f.length;i+=1)y[i]=f.charCodeAt(i)^g.charCodeAt(i);y[0]&=~p;var v=c-l-n-2;for(i=0;i<v;i+=1)if(0!==y[i])throw new Error("leftmost octets not zero");if(1!==y[v])throw new Error("0x01 marker not found");return h===Se(a(Ee("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,y.slice(-n)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,Je.hex2dn=function(e,t){void 0===t&&(t=0);var r=new Je;return de.getTLV(e,t),r.getX500Name(e).str},Je.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=de.getChildIdx(e,t),i=0;i<n.length;i++)r.push(Je.hex2attrTypeValue(e,n[i]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},Je.hex2attrTypeValue=function(e,t){var r=de,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=n(e,i[0]),a=le.asn1.ASN1Util.oidHexToInt(o);return le.asn1.x509.OID.oid2atype(a)+"="+Se(n(e,i[1]))},Je.getPublicKeyFromCertHex=function(e){var t=new Je;return t.readCertHex(e),t.getPublicKey()},Je.getPublicKeyFromCertPEM=function(e){var t=new Je;return t.readCertPEM(e),t.getPublicKey()},Je.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=de.getVbyList,i={algparam:null};return(t=new Je).readCertPEM(e),r=t.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},Je.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==le&&le||(t.KJUR=le={}),void 0!==le.jws&&le.jws||(le.jws={}),le.jws.JWS=function(){var e=le.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],o=n[2],a=n[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var l=be(a),u=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=ce(i),d=ce(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=d,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},le.jws.JWS.sign=function(e,t,r,n,i){var o,a,s,l=le,u=l.jws.JWS,c=u.readSafeJSONString,d=u.isSafeJSONString,f=l.crypto,p=(f.ECDSA,f.Mac),g=f.Signature,y=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":h(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":h(t))&&(a=t,o=y.stringify(a)),"string"==typeof t){if(!d(o=t))throw"JWS Head is not safe JSON string: "+o;a=c(o)}if(s=r,"object"==(void 0===r?"undefined":h(r))&&(s=y.stringify(r)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,o=y.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var v=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=u.jwsalg2sigalg[e];var m=ue(o)+"."+ue(s),b="";if("Hmac"==v.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var w=new p({alg:v,prov:"cryptojs",pass:n});w.updateString(m),b=w.doFinal()}else if(-1!=v.indexOf("withECDSA")){(S=new g({alg:v})).init(n,i),S.updateString(m);var _=S.sign();b=le.crypto.ECDSA.asn1SigToConcatSig(_)}else{var S;"none"!=v&&((S=new g({alg:v})).init(n,i),S.updateString(m),b=S.sign())}return m+"."+me(b)},le.jws.JWS.verify=function(e,t,r){var n,i=le,o=i.jws.JWS,a=o.readSafeJSONString,s=i.crypto,l=s.ECDSA,u=s.Mac,c=s.Signature;void 0!==h(ne)&&(n=ne);var d=e.split(".");if(3!==d.length)return!1;var f,p=d[0]+"."+d[1],g=be(d[2]),y=a(ce(d[0])),v=null;if(void 0===y.alg)throw"algorithm not specified in header";if(f=(v=y.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=We.getKey(t)),!("RS"!=f&&"PS"!=f||t instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==f&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===o.jwsalg2sigalg[y.alg])throw"unsupported alg name: "+v;if("none"==(m=o.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var b=new u({alg:m,pass:t});return b.updateString(p),g==b.doFinal()}if(-1!=m.indexOf("withECDSA")){var w,_=null;try{_=l.concatSigToASN1Sig(g)}catch(e){return!1}return(w=new c({alg:m})).init(t),w.updateString(p),w.verify(_)}return(w=new c({alg:m})).init(t),w.updateString(p),w.verify(g)},le.jws.JWS.parse=function(e){var t,r,n,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],r=i[1],3==i.length&&(n=i[2]),o.headerObj=le.jws.JWS.readSafeJSONString(ce(t)),o.payloadObj=le.jws.JWS.readSafeJSONString(ce(r)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=ce(r):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==n&&(o.sigHex=be(n)),o},le.jws.JWS.verifyJWT=function(e,t,r){var n=le.jws,i=n.JWS,o=i.readSafeJSONString,a=i.inArray,s=i.includedArray,l=e.split("."),u=l[0],c=l[1],d=(be(l[2]),o(ce(u))),f=o(ce(c));if(void 0===d.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(d.alg,r.alg))return!1;if(void 0!==f.iss&&"object"===h(r.iss)&&!a(f.iss,r.iss))return!1;if(void 0!==f.sub&&"object"===h(r.sub)&&!a(f.sub,r.sub))return!1;if(void 0!==f.aud&&"object"===h(r.aud))if("string"==typeof f.aud){if(!a(f.aud,r.aud))return!1}else if("object"==h(f.aud)&&!s(f.aud,r.aud))return!1;var p=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+r.gracePeriod<p)&&!(void 0!==f.nbf&&"number"==typeof f.nbf&&p<f.nbf-r.gracePeriod)&&!(void 0!==f.iat&&"number"==typeof f.iat&&p<f.iat-r.gracePeriod)&&(void 0===f.jti||void 0===r.jti||f.jti===r.jti)&&!!i.verify(e,t,r.alg)},le.jws.JWS.includedArray=function(e,t){var r=le.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":h(e)))return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t))return!1;return!0},le.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":h(t)))return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},le.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},le.jws.JWS.isSafeJSONString=function(e,t,r){var n=null;try{return"object"!=(void 0===(n=se(e))?"undefined":h(n))||n.constructor===Array?0:(t&&(t[r]=n),1)}catch(e){return 0}},le.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=se(e))?"undefined":h(t))||t.constructor===Array?null:t}catch(e){return null}},le.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},le.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=Ee(t);return me(le.crypto.Util.hashHex(r,"sha256"))},le.jws.IntDate={},le.jws.IntDate.get=function(e){var t=le.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},le.jws.IntDate.getZulu=function(e){return Te(e)},le.jws.IntDate.getNow=function(){return~~(new Date/1e3)},le.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},le.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ee,t.rng_seed_time=G,t.BigInteger=S,t.RSAKey=ne;var ze=le.crypto.EDSA;t.EDSA=ze;var Ge=le.crypto.DSA;t.DSA=Ge;var qe=le.crypto.Signature;t.Signature=qe;var Ye=le.crypto.MessageDigest;t.MessageDigest=Ye;var Qe=le.crypto.Mac;t.Mac=Qe;var Xe=le.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=We,t.ASN1HEX=de,t.X509=Je,t.CryptoJS=y,t.b64tohex=w,t.b64toBA=_,t.stoBA=fe,t.BAtos=he,t.BAtohex=pe,t.stohex=ge,t.stob64=function(e){return b(ge(e))},t.stob64u=function(e){return ye(b(ge(e)))},t.b64utos=function(e){return he(_(ve(e)))},t.b64tob64u=ye,t.b64utob64=ve,t.hex2b64=b,t.hextob64u=me,t.b64utohex=be,t.utf8tob64u=ue,t.b64utoutf8=ce,t.utf8tob64=function(e){return b(Pe(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Oe(w(e)))},t.utf8tohex=we,t.hextoutf8=_e,t.hextorstr=Se,t.rstrtohex=Ee,t.hextob64=Ae,t.hextob64nl=xe,t.b64nltohex=Re,t.hextopem=ke,t.pemtohex=Ie,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=Ce,t.zulutosec=Te,t.zulutodate=function(e){return new Date(Ce(e))},t.datetozulu=function(e,t,r){var n,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var o=e.getUTCMilliseconds();0!==o&&(n+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Pe,t.hextouricmp=Oe,t.ipv6tohex=Ne,t.hextoipv6=Fe,t.hextoip=De,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ne(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.KJUR=le;var Ze=le.crypto;t.crypto=Ze;var et=le.asn1;t.asn1=et;var tt=le.jws;t.jws=tt;var rt=le.lang;t.lang=rt}).call(this,r(28).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(30),i=r(31),o=r(32);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return $(H(t,e.length-r),e,r,n)}function _(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return $(W(t),e,r,n)}function A(e,t,r,n){return $(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return u(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=l.isBuffer(e)?e:H(new l(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(29))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),c=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,r=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,l=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(r){n.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(r);return{header:i.headerObj,payload:i.payloadObj}}catch(e){n.Log.error(e)}},e.validateJwt=function(t,o,a,l,u,c,d){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=r.getKey(o);else{if(!o.x5c||!o.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var f=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(f)}else{if("EC"!==o.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=r.getKey(o)}return e._validateJwt(t,o,a,l,u,c,d)}catch(e){return n.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,r,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var l=e.parseJwt(t).payload;if(!l.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(l.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",l.iss),Promise.reject(new Error("Invalid issuer in token: "+l.iss));if(!l.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(l.aud===i||Array.isArray(l.aud)&&l.aud.indexOf(i)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",l.aud),Promise.reject(new Error("Invalid audience in token: "+l.aud));if(l.azp&&l.azp!==i)return n.Log.error("JoseUtil._validateJwt: Invalid azp in token",l.azp),Promise.reject(new Error("Invalid azp in token: "+l.azp));if(!s){var u=a+o,c=a-o;if(!l.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<l.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",l.iat),Promise.reject(new Error("iat is in the future: "+l.iat));if(l.nbf&&u<l.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",l.nbf),Promise.reject(new Error("nbf is in the future: "+l.nbf));if(!l.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(l.exp<c)return n.Log.error("JoseUtil._validateJwt: exp is in the past",l.exp),Promise.reject(new Error("exp is in the past:"+l.exp))}return Promise.resolve(l)},e._validateJwt=function(r,i,o,a,s,u,c){return e.validateJwtAttributes(r,o,a,s,u,c).then((function(e){try{return t.JWS.verify(r,i,l)?e:(n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return n.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,r){try{return o.Util.hashString(t,r)}catch(e){n.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){n.Log.error(e)}},e}()};var n=r(0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3);t.SigninResponse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=i.UrlUtility.parseUrlFragment(t,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var n=r(0),i=r(3),o=r(9);t.SignoutRequest=function e(t){var r=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,l=t.data,u=t.extraQueryParams,c=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var d in a&&(r=i.UrlUtility.addQueryParam(r,"id_token_hint",a)),s&&(r=i.UrlUtility.addQueryParam(r,"post_logout_redirect_uri",s),l&&(this.state=new o.State({data:l,request_type:c}),r=i.UrlUtility.addQueryParam(r,"state",this.state.id))),u)r=i.UrlUtility.addQueryParam(r,d,u[d]);this.url=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var n=r(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.UrlUtility.parseUrlFragment(t,"?");this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.state=r.state}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},n(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(10),a=r(39),s=r(15),l=r(45),u=r(47),c=r(18),d=r(8),f=r(20),h=r(11),p=r(4);t.UserManager=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.TokenRevocationClient,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),r instanceof a.UserManagerSettings||(r=new a.UserManagerSettings(r));var y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return y._events=new l.UserManagerEvents(r),y._silentRenewService=new n(y),y.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),y.startSilentRenew()),y.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),y._sessionMonitor=new o(y)),y._tokenRevocationClient=new s(y._settings),y._tokenClient=new d(y._settings),y._joseUtil=g,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(r){return r&&r.refresh_token?(t.refresh_token=r.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&r&&r.id_token,r&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",r.profile.sub),t.current_sub=r.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),r.id_token=t.id_token||r.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then((function(){return e._events.load(r),r}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){return r.settings.getEpochTime().then((function(o){return r._joseUtil.validateJwtAttributes(t,n,r._settings.client_id,r._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(r){var n=r.state;return r.response,"si:r"===n.request_type?t.signinRedirectCallback(e):"si:p"===n.request_type?t.signinPopupCallback(e):"si:s"===n.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var r=this;return this.readSignoutResponseState(e).then((function(n){var i=n.state,o=n.response;return i?"so:r"===i.request_type?r.signoutRedirectCallback(e):"so:p"===i.request_type?r.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var r=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(t.redirect_uri=r,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,n).then((function(t){return r._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(n).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),n.url=e.url,n.id=e.state.id,t.navigate(n)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var n=new s.User(e);if(r.current_sub){if(r.current_sub!==n.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",n.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(n).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(n),n}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var r="query"===this._settings.response_mode||!this._settings.response_mode&&d.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,r)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,r).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,n).then((function(e){return r._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(r).then((function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)}))}))}))})).catch((function(e){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(r){if(r)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var r=this;if(e){var n=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(n,t).then((function(e){return r._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},n(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(r(0),r(5)),o=r(40),a=r(41),s=r(43),l=r(6),u=r(1),c=r(8);t.UserManagerSettings=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,d=r.popupWindowFeatures,f=r.popupWindowTarget,h=r.silent_redirect_uri,p=r.silentRequestTimeout,g=r.automaticSilentRenew,y=void 0!==g&&g,v=r.validateSubOnSilentRenew,m=void 0!==v&&v,b=r.includeIdTokenInSilentRenew,w=void 0===b||b,_=r.monitorSession,S=void 0===_||_,E=r.monitorAnonymousSession,A=void 0!==E&&E,x=r.checkSessionInterval,R=void 0===x?2e3:x,k=r.stopCheckSessionOnError,I=void 0===k||k,C=r.query_status_response_type,T=r.revokeAccessTokenOnSignout,P=void 0!==T&&T,O=r.accessTokenExpiringNotificationTime,N=void 0===O?60:O,F=r.redirectNavigator,D=void 0===F?new o.RedirectNavigator:F,j=r.popupNavigator,L=void 0===j?new a.PopupNavigator:j,U=r.iframeNavigator,M=void 0===U?new s.IFrameNavigator:U,B=r.userStore,H=void 0===B?new l.WebStorageStateStore({store:u.Global.sessionStorage}):B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var W=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return W._popup_redirect_uri=n,W._popup_post_logout_redirect_uri=i,W._popupWindowFeatures=d,W._popupWindowTarget=f,W._silent_redirect_uri=h,W._silentRequestTimeout=p,W._automaticSilentRenew=y,W._validateSubOnSilentRenew=m,W._includeIdTokenInSilentRenew=w,W._accessTokenExpiringNotificationTime=N,W._monitorSession=S,W._monitorAnonymousSession=A,W._checkSessionInterval=R,W._stopCheckSessionOnError=I,C?W._query_status_response_type=C:arguments[0]&&arguments[0].response_type?W._query_status_response_type=c.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=P,W._redirectNavigator=D,W._popupNavigator=L,W._iframeNavigator=M,W._userStore=H,W}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},n(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var n=r(0),i=r(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,r,o){n.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,r,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(3);t.PopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t}));var n=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",n,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,r){if(window.opener){if(e=e||window.location.href){var n=o.UrlUtility.parseUrlFragment(e,r);if(n.state){var a="popupCallback_"+n.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var n=r(0),i=r(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){n.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.IFrameWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},n(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var n=r(0),i=r(16),o=r(17);t.UserManagerEvents=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return n._userLoaded=new o.Event("User loaded"),n._userUnloaded=new o.Event("User unloaded"),n._silentRenewError=new o.Event("Silent renew error"),n._userSignedIn=new o.Event("User signed in"),n._userSignedOut=new o.Event("User signed out"),n._userSessionChanged=new o.Event("User session changed"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),r&&this._userLoaded.raise(t)},t.prototype.unload=function(){n.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){n.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){n.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){n.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){n.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(1),a=r(17);t.Timer=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return a._timer=n,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var r=5;e<r&&(r=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},n(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var n=r(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){n.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){n.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){n.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var n=r(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var n=r(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.6"}])},e.exports=t()},6900:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*g}},6915:e=>{"use strict";var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,o=/[;,"]/,a=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,l=1,u=2,c=4;function d(e){return e.replace(r,"")}function f(e){return n.test(e)}function h(e,t){for(;f(e[t]);)t++;return t}function p(e){return a.test(e)||!s.test(e)}class g{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)"string"===typeof this.refs[n].rel&&this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)"string"===typeof this.refs[n][e]&&this.refs[n][e].toLowerCase()===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some((t=>{return r=t,n=e,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>e in n&&r[e]===n[e]));var r,n}))||this.refs.push(e),this}has(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var r=0;r<this.refs.length;r++)if("string"===typeof this.refs[r][e]&&this.refs[r][e].toLowerCase()===t)return!0;return!1}parse(e,t){e=d(e=(t=t||0)?e.slice(t):e).replace(i,"");for(var r=l,n=e.length,a=(t=0,null);t<n;)if(r===l){if(f(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=a&&(null!=a.rel?this.refs.push(...g.expandRelations(a)):this.refs.push(a)),-1===(y=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);a={uri:e.slice(t+1,y)},t=y,r=u,t++}else if(r===u){if(f(e[t])){t++;continue}if(";"===e[t])r=c,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=l,t++}}else{if(r!==c)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||f(e[t])){t++;continue}-1===(y=e.indexOf("=",t))&&(y=e.indexOf(";",t)),-1===y&&(y=e.length);var s=d(e.slice(t,y)).toLowerCase(),p="";if('"'===e[t=h(e,t=y+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,p+=e[t],t++}else{for(var y=t+1;!o.test(e[y])&&y<n;)y++;p=e.slice(t,y),t=y}switch(a[s]&&g.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?a[s]=g.parseExtendedValue(p):(p="type"===s?p.toLowerCase():p,null!=a[s]?Array.isArray(a[s])?a[s].push(p):a[s]=[a[s],p]:a[s]=p)),e[t]){case",":r=l;break;case";":r=c}t++}return null!=a&&(null!=a.rel?this.refs.push(...g.expandRelations(a)):this.refs.push(a)),a=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+g.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}g.isCompatibleEncoding=function(e){return t.test(e)},g.parse=function(e,t){return(new g).parse(e,t)},g.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},g.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},g.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},g.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},g.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:g.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:g.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},g.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(Buffer.isBuffer(t.value)&&g.isCompatibleEncoding(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},g.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>g.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!==typeof t?g.formatExtendedAttribute(e,t):(g.isTokenAttr(e)?t=p(t)?'"'+g.escapeQuotes(t)+'"':g.escapeQuotes(t):p(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=g},6984:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(2930)),i=o(r(5363));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},7004:(e,t,r)=>{"use strict";var n=r(8853),i=r(5043),o=r(7950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function k(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case y:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:k(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return k(e(t))}catch(r){}}return null}var I,C,T=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign;function O(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",C=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+I+e+C}var N=!1;function F(e,t){if(!e||N)return"";N=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(o){n=o}e.call(r.prototype)}}else{try{throw Error()}catch(a){n=a}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(s){if(s&&n&&"string"===typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),u=s.split("\n");for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===u.length)for(n=l.length-1,i=u.length-1;1<=n&&0<=i&&l[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==u[i]){if(1!==n||1!==i)do{if(n--,0>--i||l[n]!==u[i]){var c="\n"+l[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=n&&0<=i);break}}}finally{N=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?O(r):""}function D(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function j(e){try{var t="";do{t+=D(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function L(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function M(e){if(L(e)!==e)throw Error(a(188))}function B(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=B(e)))return t;e=e.sibling}return null}var H=Array.isArray,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},V=[],K=-1;function J(e){return{current:e}}function z(e){0>K||(e.current=V[K],V[K]=null,K--)}function G(e,t){K++,V[K]=e.current,e.current=t}var q=J(null),Y=J(null),Q=J(null),X=J(null);function Z(e,t){switch(G(Q,t),G(Y,e),G(q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yc(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Qc(e=Yc(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(q),G(q,t)}function ee(){z(q),z(Y),z(Q)}function te(e){null!==e.memoizedState&&G(X,e);var t=q.current,r=Qc(t,e.type);t!==r&&(G(Y,e),G(q,r))}function re(e){Y.current===e&&(z(q),z(Y)),X.current===e&&(z(X),jd._currentValue=$)}var ne=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,oe=n.unstable_cancelCallback,ae=n.unstable_shouldYield,se=n.unstable_requestPaint,le=n.unstable_now,ue=n.unstable_getCurrentPriorityLevel,ce=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,fe=n.unstable_NormalPriority,he=n.unstable_LowPriority,pe=n.unstable_IdlePriority,ge=n.log,ye=n.unstable_setDisableYieldValue,ve=null,me=null;function be(e){if("function"===typeof ge&&ye(e),me&&"function"===typeof me.setStrictMode)try{me.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/Se|0)|0},_e=Math.log,Se=Math.LN2;var Ee=128,Ae=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Re(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?n=xe(r):0!==(o&=s)?n=xe(o):e||0!==(a=s&~a)&&(n=xe(a)):0!==(s=r&~i)?n=xe(s):0!==o?n=xe(o):e||0!==(a=r&~a)&&(n=xe(a)),0===n?0:0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:n}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Te(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function Pe(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-we(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194218&r}function Fe(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-we(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=W.p;return 0!==e?e:void 0===(e=window.event)?32:Qd(e.type)}var Le=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Le,Me="__reactProps$"+Le,Be="__reactContainer$"+Le,He="__reactEvents$"+Le,We="__reactListeners$"+Le,$e="__reactHandles$"+Le,Ve="__reactResources$"+Le,Ke="__reactMarker$"+Le;function Je(e){delete e[Ue],delete e[Me],delete e[He],delete e[We],delete e[$e]}function ze(e){var t=e[Ue];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Be]||r[Ue]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ld(e);null!==e;){if(r=e[Ue])return r;e=ld(e)}return t}r=(e=r).parentNode}return null}function Ge(e){if(e=e[Ue]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Ke]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function at(e,t,r){if(i=t,ne.call(ot,i)||!ne.call(it,i)&&(nt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function st(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function lt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ct(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function yt(e,t,r,n,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?mt(e,a,ut(t)):null!=r?mt(e,a,ut(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function vt(e,t,r,n,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=r){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;r=null!=r?""+ut(r):"",t=null!=t?""+ut(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:i)&&"symbol"!==typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function mt(e,t,r){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ut(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ut(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(a(92));if(H(n)){if(1<n.length)throw Error(a(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ut(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function St(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||Et.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function xt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&At(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&At(e,o,t[o])}function Rt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Nt=null;function Ft(e){var t=Ge(e);if(t&&(e=t.stateNode)){var r=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[Me]||null;if(!i)throw Error(a(90));yt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ft(n)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Dt=!1;function jt(e,t,r){if(Dt)return e(t,r);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ot||null!==Nt)&&(Uu(),Ot&&(t=Ot,e=Nt,Nt=Ot=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Lt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Me]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ut=!1;if(rt)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch(Sf){Ut=!1}var Bt=null,Ht=null,Wt=null;function $t(){if(Wt)return Wt;var e,t,r=Ht,n=r.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function zt(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Gt,qt,Yt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=zt(Qt),Zt=P({},Qt,{view:0,detail:0}),er=zt(Zt),tr=P({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,qt=e.screenY-Yt.screenY):qt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:qt}}),rr=zt(tr),nr=zt(P({},tr,{dataTransfer:0})),ir=zt(P({},Zt,{relatedTarget:0})),or=zt(P({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ar=zt(P({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sr=zt(P({},Qt,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=cr[e])&&!!t[e]}function fr(){return dr}var hr=zt(P({},Zt,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=zt(P({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=zt(P({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=zt(P({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=zt(P({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),mr=zt(P({},Qt,{newState:0,oldState:0})),br=[9,13,27,32],wr=rt&&"CompositionEvent"in window,_r=null;rt&&"documentMode"in document&&(_r=document.documentMode);var Sr=rt&&"TextEvent"in window&&!_r,Er=rt&&(!wr||_r&&8<_r&&11>=_r),Ar=String.fromCharCode(32),xr=!1;function Rr(e,t){switch(e){case"keyup":return-1!==br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ir=!1;var Cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Cr[e.type]:"textarea"===t}function Pr(e,t,r,n){Ot?Nt?Nt.push(n):Nt=[n]:Ot=n,0<(t=jc(t,"onChange")).length&&(r=new Xt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Or=null,Nr=null;function Fr(e){Ic(e,0)}function Dr(e){if(ft(qe(e)))return e}function jr(e,t){if("change"===e)return t}var Lr=!1;if(rt){var Ur;if(rt){var Mr="oninput"in document;if(!Mr){var Br=document.createElement("div");Br.setAttribute("oninput","return;"),Mr="function"===typeof Br.oninput}Ur=Mr}else Ur=!1;Lr=Ur&&(!document.documentMode||9<document.documentMode)}function Hr(){Or&&(Or.detachEvent("onpropertychange",Wr),Nr=Or=null)}function Wr(e){if("value"===e.propertyName&&Dr(Nr)){var t=[];Pr(t,Nr,e,Pt(e)),jt(Fr,t)}}function $r(e,t,r){"focusin"===e?(Hr(),Nr=r,(Or=t).attachEvent("onpropertychange",Wr)):"focusout"===e&&Hr()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dr(Nr)}function Kr(e,t){if("click"===e)return Dr(t)}function Jr(e,t){if("input"===e||"change"===e)return Dr(t)}var zr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Gr(e,t){if(zr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ne.call(t,i)||!zr(e[i],t[i]))return!1}return!0}function qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var r,n=qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qr(n)}}function Qr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Xr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ht((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function en(e,t){var r=Xr(t);t=e.focusedElem;var n=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&Qr(t.ownerDocument.documentElement,t)){if(null!==n&&Zr(t))if(e=n.start,void 0===(r=n.end)&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if((r=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){r=r.getSelection();var i=t.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!r.extend&&o>n&&(i=n,n=o,o=i),i=Yr(t,o);var a=Yr(t,n);i&&a&&(1!==r.rangeCount||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),r.removeAllRanges(),o>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}for(e=[],r=t;r=r.parentNode;)1===r.nodeType&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(r=e[t]).element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tn=rt&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,on=null,an=!1;function sn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;an||null==rn||rn!==ht(n)||("selectionStart"in(n=rn)&&Zr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Gr(on,n)||(on=n,0<(n=jc(nn,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var un={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},cn={},dn={};function fn(e){if(cn[e])return cn[e];if(!un[e])return e;var t,r=un[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return cn[e]=r[t];return e}rt&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);var hn=fn("animationend"),pn=fn("animationiteration"),gn=fn("animationstart"),yn=fn("transitionrun"),vn=fn("transitionstart"),mn=fn("transitioncancel"),bn=fn("transitionend"),wn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sn(e,t){wn.set(e,t),et(t,[e])}var En=[],An=0,xn=0;function Rn(){for(var e=An,t=xn=An=0;t<e;){var r=En[t];En[t++]=null;var n=En[t];En[t++]=null;var i=En[t];En[t++]=null;var o=En[t];if(En[t++]=null,null!==n&&null!==i){var a=n.pending;null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i}0!==o&&Tn(r,i,o)}}function kn(e,t,r,n){En[An++]=e,En[An++]=t,En[An++]=r,En[An++]=n,xn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function In(e,t,r,n){return kn(e,t,r,n),Pn(e)}function Cn(e,t){return kn(e,null,null,t),Pn(e)}function Tn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,o=e.return;null!==o;)o.childLanes|=r,null!==(n=o.alternate)&&(n.childLanes|=r),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-we(r),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|r)}function Pn(e){if(50<Iu)throw Iu=0,Cu=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var On={},Nn=new WeakMap;function Fn(e,t){if("object"===typeof e&&null!==e){var r=Nn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:j(t)},Nn.set(e,t),t)}return{value:e,source:t,stack:j(t)}}var Dn=[],jn=0,Ln=null,Un=0,Mn=[],Bn=0,Hn=null,Wn=1,$n="";function Vn(e,t){Dn[jn++]=Un,Dn[jn++]=Ln,Ln=e,Un=t}function Kn(e,t,r){Mn[Bn++]=Wn,Mn[Bn++]=$n,Mn[Bn++]=Hn,Hn=e;var n=Wn;e=$n;var i=32-we(n)-1;n&=~(1<<i),r+=1;var o=32-we(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wn=1<<32-we(t)+i|r<<i|n,$n=o+e}else Wn=1<<o|r<<i|n,$n=e}function Jn(e){null!==e.return&&(Vn(e,1),Kn(e,1,0))}function zn(e){for(;e===Ln;)Ln=Dn[--jn],Dn[jn]=null,Un=Dn[--jn],Dn[jn]=null;for(;e===Hn;)Hn=Mn[--Bn],Mn[Bn]=null,$n=Mn[--Bn],Mn[Bn]=null,Wn=Mn[--Bn],Mn[Bn]=null}var Gn=null,qn=null,Yn=!1,Qn=null,Xn=!1,Zn=Error(a(519));function ei(e){throw oi(Fn(Error(a(418,"")),e)),Zn}function ti(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Ue]=e,t[Me]=n,r){case"dialog":Cc("cancel",t),Cc("close",t);break;case"iframe":case"object":case"embed":Cc("load",t);break;case"video":case"audio":for(r=0;r<Rc.length;r++)Cc(Rc[r],t);break;case"source":Cc("error",t);break;case"img":case"image":case"link":Cc("error",t),Cc("load",t);break;case"details":Cc("toggle",t);break;case"input":Cc("invalid",t),vt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Cc("invalid",t);break;case"textarea":Cc("invalid",t),_t(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Wc(t.textContent,r)?(null!=n.popover&&(Cc("beforetoggle",t),Cc("toggle",t)),null!=n.onScroll&&Cc("scroll",t),null!=n.onScrollEnd&&Cc("scrollend",t),null!=n.onClick&&(t.onclick=$c),t=!0):t=!1,t||ei(e)}function ri(e){for(Gn=e.return;Gn;)switch(Gn.tag){case 3:case 27:return void(Xn=!0);case 5:case 13:return void(Xn=!1);default:Gn=Gn.return}}function ni(e){if(e!==Gn)return!1;if(!Yn)return ri(e),Yn=!0,!1;var t,r=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xc(e.type,e.memoizedProps)),t=!t),t&&(r=!0),r&&qn&&ei(e),ri(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){qn=sd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}qn=null}}else qn=Gn?sd(e.stateNode.nextSibling):null;return!0}function ii(){qn=Gn=null,Yn=!1}function oi(e){null===Qn?Qn=[e]:Qn.push(e)}var ai=Error(a(460)),si=Error(a(474)),li={then:function(){}};function ui(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ci(){}function di(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(ci,ci),t=r),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ci,ci);else{if(null!==(e=tu)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw fi=t,ai}}var fi=null;function hi(){if(null===fi)throw Error(a(459));var e=fi;return fi=null,e}var pi=null,gi=0;function yi(e){var t=gi;return gi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function mi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=33554434,r):n:(t.flags|=33554434,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Wl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r,n){var o=r.type;return o===d?p(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&bi(o)===t.type)?(vi(t=i(t,r.props),r),t.return=e,t):(vi(t=Ml(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function h(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$l(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function p(e,t,r,n,o){return null===t||7!==t.tag?((t=Bl(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function g(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return vi(r=Ml(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case c:return(t=$l(t,e.mode,r)).return=e,t;case _:return g(e,t=(0,t._init)(t._payload),r)}if(H(t)||x(t))return(t=Bl(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return g(e,yi(t),r);if(t.$$typeof===y)return g(e,Rs(e,t),r);mi(e,t)}return null}function v(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return r.key===i?f(e,t,r,n):null;case c:return r.key===i?h(e,t,r,n):null;case _:return v(e,t,r=(i=r._init)(r._payload),n)}if(H(r)||x(r))return null!==i?null:p(e,t,r,n,null);if("function"===typeof r.then)return v(e,t,yi(r),n);if(r.$$typeof===y)return v(e,t,Rs(e,r),n);mi(e,r)}return null}function m(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return f(t,e=e.get(null===n.key?r:n.key)||null,n,i);case c:return h(t,e=e.get(null===n.key?r:n.key)||null,n,i);case _:return m(e,t,r,n=(0,n._init)(n._payload),i)}if(H(n)||x(n))return p(t,e=e.get(r)||null,n,i,null);if("function"===typeof n.then)return m(e,t,r,yi(n),i);if(n.$$typeof===y)return m(e,t,r,Rs(t,n),i);mi(t,n)}return null}function b(l,f,h,p){if("object"===typeof h&&null!==h&&h.type===d&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case u:e:{for(var w=h.key;null!==f;){if(f.key===w){if((w=h.type)===d){if(7===f.tag){r(l,f.sibling),(p=i(f,h.props.children)).return=l,l=p;break e}}else if(f.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===_&&bi(w)===f.type){r(l,f.sibling),vi(p=i(f,h.props),h),p.return=l,l=p;break e}r(l,f);break}t(l,f),f=f.sibling}h.type===d?((p=Bl(h.props.children,l.mode,p,h.key)).return=l,l=p):(vi(p=Ml(h.type,h.key,h.props,null,l.mode,p),h),p.return=l,l=p)}return s(l);case c:e:{for(w=h.key;null!==f;){if(f.key===w){if(4===f.tag&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){r(l,f.sibling),(p=i(f,h.children||[])).return=l,l=p;break e}r(l,f);break}t(l,f),f=f.sibling}(p=$l(h,l.mode,p)).return=l,l=p}return s(l);case _:return b(l,f,h=(w=h._init)(h._payload),p)}if(H(h))return function(i,a,s,l){for(var u=null,c=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=v(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return r(i,d),Yn&&Vn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=g(i,s[f],l))&&(a=o(d,a,f),null===c?u=d:c.sibling=d,c=d);return Yn&&Vn(i,f),u}for(d=n(d);f<s.length;f++)null!==(h=m(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=o(h,a,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),Yn&&Vn(i,f),u}(l,f,h,p);if(x(h)){if("function"!==typeof(w=x(h)))throw Error(a(150));return function(i,s,l,u){if(null==l)throw Error(a(151));for(var c=null,d=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=v(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return r(i,f),Yn&&Vn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=g(i,y.value,u))&&(s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return Yn&&Vn(i,h),c}for(f=n(f);!y.done;h++,y=l.next())null!==(y=m(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Yn&&Vn(i,h),c}(l,f,h=w.call(h),p)}if("function"===typeof h.then)return b(l,f,yi(h),p);if(h.$$typeof===y)return b(l,f,Rs(l,h),p);mi(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==f&&6===f.tag?(r(l,f.sibling),(p=i(f,h)).return=l,l=p):(r(l,f),(p=Wl(h,l.mode,p)).return=l,l=p),s(l)):r(l,f)}return function(e,t,r,n){try{gi=0;var i=b(e,t,r,n);return pi=null,i}catch(a){if(a===ai)throw a;var o=Dl(29,a,null,e.mode);return o.lanes=n,o.return=e,o}}}var _i=wi(!0),Si=wi(!1),Ei=J(null),Ai=J(0);function xi(e,t){G(Ai,e=uu),G(Ei,t),uu=e|t.baseLanes}function Ri(){G(Ai,uu),G(Ei,Ei.current)}function ki(){uu=Ai.current,z(Ei),z(Ai)}var Ii=J(null),Ci=null;function Ti(e){var t=e.alternate;G(Fi,1&Fi.current),G(Ii,e),null===Ci&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(Ci=e)}function Pi(e){if(22===e.tag){if(G(Fi,Fi.current),G(Ii,e),null===Ci){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ci=e)}}else Oi()}function Oi(){G(Fi,Fi.current),G(Ii,Ii.current)}function Ni(e){z(Ii),Ci===e&&(Ci=null),z(Fi)}var Fi=J(0);function Di(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Li=n.unstable_scheduleCallback,Ui=n.unstable_NormalPriority,Mi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bi(){return{controller:new ji,data:new Map,refCount:0}}function Hi(e){e.refCount--,0===e.refCount&&Li(Ui,(function(){e.controller.abort()}))}var Wi=null,$i=0,Vi=0,Ki=null;function Ji(){if(0===--$i&&null!==Wi){null!==Ki&&(Ki.status="fulfilled");var e=Wi;Wi=null,Vi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=T.S;T.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wi){var r=Wi=[];$i=0,Vi=_c(),Ki={status:"pending",value:void 0,then:function(e){r.push(e)}}}$i++,t.then(Ji,Ji)}(0,t),null!==zi&&zi(e,t)};var Gi=J(null);function qi(){var e=Gi.current;return null!==e?e:tu.pooledCache}function Yi(e,t){G(Gi,null===t?Gi.current:t.pool)}function Qi(){var e=qi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Xi=0,Zi=null,eo=null,to=null,ro=!1,no=!1,io=!1,oo=0,ao=0,so=null,lo=0;function uo(){throw Error(a(321))}function co(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zr(e[r],t[r]))return!1;return!0}function fo(e,t,r,n,i,o){return Xi=o,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?Ra:ka,io=!1,o=r(n,i),io=!1,no&&(o=po(t,r,n,i)),ho(e),o}function ho(e){T.H=xa;var t=null!==eo&&null!==eo.next;if(Xi=0,to=eo=Zi=null,ro=!1,ao=0,so=null,t)throw Error(a(300));null===e||Va||null!==(e=e.dependencies)&&Es(e)&&(Va=!0)}function po(e,t,r,n){Zi=e;var i=0;do{if(no&&(so=null),ao=0,no=!1,25<=i)throw Error(a(301));if(i+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}T.H=Ia,o=t(r,n)}while(no);return o}function go(){var e=T.H,t=e.useState()[0];return t="function"===typeof t.then?_o(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Zi.flags|=1024),t}function yo(){var e=0!==oo;return oo=0,e}function vo(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function mo(e){if(ro){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ro=!1}Xi=0,to=eo=Zi=null,no=!1,ao=oo=0,so=null}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zi.memoizedState=to=e:to=to.next=e,to}function wo(){if(null===eo){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zi.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zi.memoizedState=to=e:to=to.next=e}return to}function _o(e){var t=ao;return ao+=1,null===so&&(so=[]),e=di(so,e,t),t=Zi,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?Ra:ka),e}function So(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return _o(e);if(e.$$typeof===y)return xs(e)}throw Error(a(438,String(e)))}function Eo(e){var t=null,r=Zi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Zi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=E;return t.index++,r}function Ao(e,t){return"function"===typeof t?t(e):t}function xo(e){return Ro(wo(),eo,e)}function Ro(e,t,r){var n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=r;var i=e.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,u=null,c=t=i.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(nu&f)===f:(Xi&f)===f){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Vi&&(d=!0);else{if((Xi&h)===h){c=c.next,h===Vi&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=o):u=u.next=f,Zi.lanes|=h,du|=h}f=c.action,io&&r(o,f),o=c.hasEagerState?c.eagerState:r(o,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=o):u=u.next=h,Zi.lanes|=f,du|=f;c=c.next}while(null!==c&&c!==t);if(null===u?s=o:u.next=l,!zr(o,e.memoizedState)&&(Va=!0,d&&null!==(r=Ki)))throw r;e.memoizedState=o,e.baseState=s,e.baseQueue=u,n.lastRenderedState=o}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ko(e){var t=wo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);zr(o,t.memoizedState)||(Va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Io(e,t,r){var n=Zi,i=wo(),o=Yn;if(o){if(void 0===r)throw Error(a(407));r=r()}else r=t();var s=!zr((eo||i).memoizedState,r);if(s&&(i.memoizedState=r,Va=!0),i=i.queue,Zo(Po.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==to&&1&to.memoizedState.tag){if(n.flags|=2048,Go(9,To.bind(null,n,i,r,t),{destroy:void 0},null),null===tu)throw Error(a(349));o||0!==(60&Xi)||Co(n,t,r)}return r}function Co(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function To(e,t,r,n){t.value=r,t.getSnapshot=n,Oo(t)&&No(e)}function Po(e,t,r){return r((function(){Oo(t)&&No(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zr(e,r)}catch(n){return!0}}function No(e){var t=Cn(e,2);null!==t&&Ou(t,e,2)}function Fo(e){var t=bo();if("function"===typeof e){var r=e;if(e=r(),io){be(!0);try{r()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t}function Do(e,t,r,n){return e.baseState=r,Ro(e,eo,"function"===typeof n?n:Ao)}function jo(e,t,r,n,i){if(Sa(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==T.T?r(!0):o.isTransition=!1,n(o),null===(r=t.pending)?(o.next=t.pending=o,Lo(t,o)):(o.next=r.next,t.pending=r.next=o)}}function Lo(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=T.T,a={};T.T=a;try{var s=r(i,n),l=T.S;null!==l&&l(a,s),Uo(e,t,s)}catch(u){Bo(e,t,u)}finally{T.T=o}}else try{Uo(e,t,o=r(i,n))}catch(c){Bo(e,t,c)}}function Uo(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){Mo(e,t,r)}),(function(r){return Bo(e,t,r)})):Mo(e,t,r)}function Mo(e,t,r){t.status="fulfilled",t.value=r,Ho(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Lo(e,r)))}function Bo(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Ho(t),t=t.next}while(t!==n)}e.action=null}function Ho(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wo(e,t){return t}function $o(e,t){if(Yn){var r=tu.formState;if(null!==r){e:{var n=Zi;if(Yn){if(qn){t:{for(var i=qn,o=Xn;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=sd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){qn=sd(i.nextSibling),n="F!"===i.data;break e}}ei(n)}n=!1}n&&(t=r[0])}}return(r=bo()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:t},r.queue=n,r=ba.bind(null,Zi,n),n.dispatch=r,n=Fo(!1),o=_a.bind(null,Zi,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=bo()).queue=i,r=jo.bind(null,Zi,i,o,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function Vo(e){return Ko(wo(),eo,e)}function Ko(e,t,r){t=Ro(e,t,Wo)[0],e=xo(Ao)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?_o(t):t;var n=wo(),i=n.queue,o=i.dispatch;return r!==n.memoizedState&&(Zi.flags|=2048,Go(9,Jo.bind(null,i,r),{destroy:void 0},null)),[t,o,e]}function Jo(e,t){e.action=t}function zo(e){var t=wo(),r=eo;if(null!==r)return Ko(t,r,e);wo(),t=t.memoizedState;var n=(r=wo()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Go(e,t,r,n){return e={tag:e,create:t,inst:r,deps:n,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function qo(){return wo().memoizedState}function Yo(e,t,r,n){var i=bo();Zi.flags|=e,i.memoizedState=Go(1|t,r,{destroy:void 0},void 0===n?null:n)}function Qo(e,t,r,n){var i=wo();n=void 0===n?null:n;var o=i.memoizedState.inst;null!==eo&&null!==n&&co(n,eo.memoizedState.deps)?i.memoizedState=Go(t,r,o,n):(Zi.flags|=e,i.memoizedState=Go(1|t,r,o,n))}function Xo(e,t){Yo(8390656,8,e,t)}function Zo(e,t){Qo(2048,8,e,t)}function ea(e,t){return Qo(4,2,e,t)}function ta(e,t){return Qo(4,4,e,t)}function ra(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Qo(4,4,ra.bind(null,t,e),r)}function ia(){}function oa(e,t){var r=wo();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&co(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aa(e,t){var r=wo();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&co(t,n[1]))return n[0];if(n=e(),io){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n}function sa(e,t,r){return void 0===r||0!==(1073741824&Xi)?e.memoizedState=t:(e.memoizedState=r,e=Pu(),Zi.lanes|=e,du|=e,r)}function la(e,t,r,n){return zr(r,t)?r:null!==Ei.current?(e=sa(e,r,n),zr(e,t)||(Va=!0),e):0===(42&Xi)?(Va=!0,e.memoizedState=r):(e=Pu(),Zi.lanes|=e,du|=e,t)}function ua(e,t,r,n,i){var o=W.p;W.p=0!==o&&8>o?o:8;var a=T.T,s={};T.T=s,_a(e,!1,t,r);try{var l=i(),u=T.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),n}(l,n),Tu());else wa(e,t,n,Tu())}catch(c){wa(e,t,{then:function(){},status:"rejected",reason:c},Tu())}finally{W.p=o,T.T=a}}function ca(){}function da(e,t,r,n){if(5!==e.tag)throw Error(a(476));var i=fa(e).queue;ua(e,i,t,$,null===r?ca:function(){return ha(e),r(n)})}function fa(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:$},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){wa(e,fa(e).next.queue,{},Tu())}function pa(){return xs(jd)}function ga(){return wo().memoizedState}function ya(){return wo().memoizedState}function va(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Tu(),n=Os(t,e=Ps(r),r);return null!==n&&(Ou(n,t,r),Ns(n,t,r)),t={cache:Bi()},void(e.payload=t)}t=t.return}}function ma(e,t,r){var n=Tu();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Sa(e)?Ea(t,r):null!==(r=In(e,t,r,n))&&(Ou(r,e,n),Aa(r,t,n))}function ba(e,t,r){wa(e,t,r,Tu())}function wa(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sa(e))Ea(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,zr(s,a))return kn(e,t,i,0),null===tu&&Rn(),!1}catch(l){}if(null!==(r=In(e,t,i,n)))return Ou(r,e,n),Aa(r,t,n),!0}return!1}function _a(e,t,r,n){if(n={lane:2,revertLane:_c(),action:n,hasEagerState:!1,eagerState:null,next:null},Sa(e)){if(t)throw Error(a(479))}else null!==(t=In(e,r,n,2))&&Ou(t,e,2)}function Sa(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function Ea(e,t){no=ro=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Aa(e,t,r){if(0!==(4194176&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Fe(e,r)}}var xa={readContext:xs,use:So,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useLayoutEffect:uo,useInsertionEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useSyncExternalStore:uo,useId:uo};xa.useCacheRefresh=uo,xa.useMemoCache=uo,xa.useHostTransitionStatus=uo,xa.useFormState=uo,xa.useActionState=uo,xa.useOptimistic=uo;var Ra={readContext:xs,use:So,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:Xo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Yo(4194308,4,ra.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){Yo(4,2,e,t)},useMemo:function(e,t){var r=bo();t=void 0===t?null:t;var n=e();if(io){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=bo();if(void 0!==r){var i=r(t);if(io){be(!0);try{r(t)}finally{be(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=ma.bind(null,Zi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:function(e){var t=(e=Fo(e)).queue,r=ba.bind(null,Zi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ia,useDeferredValue:function(e,t){return sa(bo(),e,t)},useTransition:function(){var e=Fo(!1);return e=ua.bind(null,Zi,e.queue,!0,!1),bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Zi,i=bo();if(Yn){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===tu)throw Error(a(349));0!==(60&nu)||Co(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Xo(Po.bind(null,n,o,e),[e]),n.flags|=2048,Go(9,To.bind(null,n,o,r,t),{destroy:void 0},null),r},useId:function(){var e=bo(),t=tu.identifierPrefix;if(Yn){var r=$n;t=":"+t+"R"+(r=(Wn&~(1<<32-we(Wn)-1)).toString(32)+r),0<(r=oo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=lo++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bo().memoizedState=va.bind(null,Zi)}};Ra.useMemoCache=Eo,Ra.useHostTransitionStatus=pa,Ra.useFormState=$o,Ra.useActionState=$o,Ra.useOptimistic=function(e){var t=bo();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=_a.bind(null,Zi,!0,r),r.dispatch=t,[e,t]};var ka={readContext:xs,use:So,useCallback:oa,useContext:xs,useEffect:Zo,useImperativeHandle:na,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:xo,useRef:qo,useState:function(){return xo(Ao)},useDebugValue:ia,useDeferredValue:function(e,t){return la(wo(),eo.memoizedState,e,t)},useTransition:function(){var e=xo(Ao)[0],t=wo().memoizedState;return["boolean"===typeof e?e:_o(e),t]},useSyncExternalStore:Io,useId:ga};ka.useCacheRefresh=ya,ka.useMemoCache=Eo,ka.useHostTransitionStatus=pa,ka.useFormState=Vo,ka.useActionState=Vo,ka.useOptimistic=function(e,t){return Do(wo(),0,e,t)};var Ia={readContext:xs,use:So,useCallback:oa,useContext:xs,useEffect:Zo,useImperativeHandle:na,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:ko,useRef:qo,useState:function(){return ko(Ao)},useDebugValue:ia,useDeferredValue:function(e,t){var r=wo();return null===eo?sa(r,e,t):la(r,eo.memoizedState,e,t)},useTransition:function(){var e=ko(Ao)[0],t=wo().memoizedState;return["boolean"===typeof e?e:_o(e),t]},useSyncExternalStore:Io,useId:ga};function Ca(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:P({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}Ia.useCacheRefresh=ya,Ia.useMemoCache=Eo,Ia.useHostTransitionStatus=pa,Ia.useFormState=zo,Ia.useActionState=zo,Ia.useOptimistic=function(e,t){var r=wo();return null!==eo?Do(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])};var Ta={isMounted:function(e){return!!(e=e._reactInternals)&&L(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tu(),i=Ps(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Os(e,i,n))&&(Ou(t,e,n),Ns(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tu(),i=Ps(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Os(e,i,n))&&(Ou(t,e,n),Ns(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tu(),n=Ps(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Os(e,n,r))&&(Ou(t,e,r),Ns(t,e,r))}};function Pa(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(r,n)||!Gr(i,o))}function Oa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ta.enqueueReplaceState(t,t.state,null)}function Na(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=P({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}var Fa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Da(e){Fa(e)}function ja(e){console.error(e)}function La(e){Fa(e)}function Ua(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function Ma(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function Ba(e,t,r){return(r=Ps(r)).tag=3,r.payload={element:null},r.callback=function(){Ua(e,t)},r}function Ha(e){return(e=Ps(e)).tag=3,e}function Wa(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"===typeof i){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){Ma(t,r,n)}}var a=r.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ma(t,r,n),"function"!==typeof i&&(null===Su?Su=new Set([this]):Su.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var $a=Error(a(461)),Va=!1;function Ka(e,t,r,n){t.child=null===e?Si(t,null,r,n):_i(t,e.child,r,n)}function Ja(e,t,r,n,i){r=r.render;var o=t.ref;if("ref"in n){var a={};for(var s in n)"ref"!==s&&(a[s]=n[s])}else a=n;return As(t),n=fo(e,t,r,a,o,i),s=yo(),null===e||Va?(Yn&&s&&Jn(t),t.flags|=1,Ka(e,t,n,i),t.child):(vo(e,t,i),fs(e,t,i))}function za(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||jl(o)||void 0!==o.defaultProps||null!==r.compare?((e=Ml(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ga(e,t,o,n,i))}if(o=e.child,!hs(e,i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:Gr)(a,n)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,(e=Ll(o,n)).ref=t.ref,e.return=t,t.child=e}function Ga(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(Gr(o,n)&&e.ref===t.ref){if(Va=!1,t.pendingProps=n=o,!hs(e,i))return t.lanes=e.lanes,fs(e,t,i);0!==(131072&e.flags)&&(Va=!0)}}return Xa(e,t,r,n,i)}function qa(e,t,r){var n=t.pendingProps,i=n.children,o=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Qa(e,t),"hidden"===n.mode||o){if(0!==(128&t.flags)){if(n=null!==a?a.baseLanes|r:r,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~n}else t.childLanes=0,t.child=null;return Ya(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Ya(e,t,null!==a?a.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?xi(t,a):Ri(),Pi(t)}else null!==a?(Yi(0,a.cachePool),xi(t,a),Oi(),t.memoizedState=null):(null!==e&&Yi(0,null),Ri(),Oi());return Ka(e,t,i,r),t.child}function Ya(e,t,r,n){var i=qi();return i=null===i?null:{parent:Mi._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&Yi(0,null),Ri(),Pi(t),null!==e&&Ss(e,t,n,!0),null}function Qa(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(a(284));null!==e&&e.ref===r||(t.flags|=2097664)}}function Xa(e,t,r,n,i){return As(t),r=fo(e,t,r,n,void 0,i),n=yo(),null===e||Va?(Yn&&n&&Jn(t),t.flags|=1,Ka(e,t,r,i),t.child):(vo(e,t,i),fs(e,t,i))}function Za(e,t,r,n,i,o){return As(t),t.updateQueue=null,r=po(t,n,r,i),ho(e),n=yo(),null===e||Va?(Yn&&n&&Jn(t),t.flags|=1,Ka(e,t,r,o),t.child):(vo(e,t,o),fs(e,t,o))}function es(e,t,r,n,i){if(As(t),null===t.stateNode){var o=On,a=r.contextType;"object"===typeof a&&null!==a&&(o=xs(a)),o=new r(n,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ta,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=n,o.state=t.memoizedState,o.refs={},Cs(t),a=r.contextType,o.context="object"===typeof a&&null!==a?xs(a):On,o.state=t.memoizedState,"function"===typeof(a=r.getDerivedStateFromProps)&&(Ca(t,r,a,n),o.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Ta.enqueueReplaceState(o,o.state,null),Ls(t,n,o,i),js(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Na(r,s);o.props=l;var u=o.context,c=r.contextType;a=On,"object"===typeof c&&null!==c&&(a=xs(c));var d=r.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||u!==a)&&Oa(t,o,n,a),Is=!1;var f=t.memoizedState;o.state=f,Ls(t,n,o,i),js(),u=t.memoizedState,s||f!==u||Is?("function"===typeof d&&(Ca(t,r,d,n),u=t.memoizedState),(l=Is||Pa(t,r,l,n,f,u,a))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=a,n=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ts(e,t),c=Na(r,a=t.memoizedProps),o.props=c,d=t.pendingProps,f=o.context,u=r.contextType,l=On,"object"===typeof u&&null!==u&&(l=xs(u)),(u="function"===typeof(s=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||f!==l)&&Oa(t,o,n,l),Is=!1,f=t.memoizedState,o.state=f,Ls(t,n,o,i),js();var h=t.memoizedState;a!==d||f!==h||Is||null!==e&&null!==e.dependencies&&Es(e.dependencies)?("function"===typeof s&&(Ca(t,r,s,n),h=t.memoizedState),(c=Is||Pa(t,r,c,n,f,h,l)||null!==e&&null!==e.dependencies&&Es(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Qa(e,t),n=0!==(128&t.flags),o||n?(o=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&n?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,r,i)):Ka(e,t,r,i),t.memoizedState=o.state,e=t.child):e=fs(e,t,i),e}function ts(e,t,r,n){return ii(),t.flags|=256,Ka(e,t,r,n),t.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function ns(e){return{baseLanes:e,cachePool:Qi()}}function is(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=pu),e}function os(e,t,r){var n,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Fi.current)),n&&(o=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(Yn){if(o?Ti(t):Oi(),Yn){var l,u=qn;if(l=u){e:{for(l=u,u=Xn;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=sd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Hn?{id:Wn,overflow:$n}:null,retryLane:536870912},(l=Dl(18,null,null,0)).stateNode=u,l.return=t,t.child=l,Gn=t,qn=null,l=!0):l=!1}l||ei(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return"$!"===u.data?t.lanes=16:t.lanes=536870912,null;Ni(t)}return u=i.children,i=i.fallback,o?(Oi(),u=ss({mode:"hidden",children:u},o=t.mode),i=Bl(i,o,r,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(o=t.child).memoizedState=ns(r),o.childLanes=is(e,n,r),t.memoizedState=rs,i):(Ti(t),as(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(Ti(t),t.flags&=-257,t=ls(e,t,r)):null!==t.memoizedState?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),o=i.fallback,u=t.mode,i=ss({mode:"visible",children:i.children},u),(o=Bl(o,u,r,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,_i(t,e.child,null,r),(i=t.child).memoizedState=ns(r),i.childLanes=is(e,n,r),t.memoizedState=rs,t=o);else if(Ti(t),"$!"===u.data){if(n=u.nextSibling&&u.nextSibling.dataset)var c=n.dgst;n=c,(i=Error(a(419))).stack="",i.digest=n,oi({value:i,source:null,stack:null}),t=ls(e,t,r)}else if(Va||Ss(e,t,r,!1),n=0!==(r&e.childLanes),Va||n){if(null!==(n=tu)){if(0!==(42&(i=r&-r)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(n.suspendedLanes|r))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Cn(e,i),Ou(n,e,i),$a}"$?"===u.data||Vu(),t=ls(e,t,r)}else"$?"===u.data?(t.flags|=128,t.child=e.child,t=sc.bind(null,e),u._reactRetry=t,t=null):(e=l.treeContext,qn=sd(u.nextSibling),Gn=t,Yn=!0,Qn=null,Xn=!1,null!==e&&(Mn[Bn++]=Wn,Mn[Bn++]=$n,Mn[Bn++]=Hn,Wn=e.id,$n=e.overflow,Hn=t),(t=as(t,i.children)).flags|=4096);return t}return o?(Oi(),o=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Ll(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==c?o=Ll(c,o):(o=Bl(o,u,r,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(u=e.child.memoizedState)?u=ns(r):(null!==(l=u.cachePool)?(c=Mi._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Qi(),u={baseLanes:u.baseLanes|r,cachePool:l}),o.memoizedState=u,o.childLanes=is(e,n,r),t.memoizedState=rs,i):(Ti(t),e=(r=e.child).sibling,(r=Ll(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Hl(e,t,0,null)}function ls(e,t,r){return _i(t,e.child,null,r),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function us(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ws(e.return,t,r)}function cs(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function ds(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ka(e,t,n.children,r),0!==(2&(n=Fi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&us(e,r,t);else if(19===e.tag)us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(G(Fi,n),i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Di(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),cs(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Di(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}cs(t,!0,r,null,o);break;case"together":cs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),du|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ss(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Ll(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ll(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function hs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Es(e))}function ps(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Va=!0;else{if(!hs(e,r)&&0===(128&t.flags))return Va=!1,function(e,t,r){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ms(t,Mi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ms(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Ti(t),t.flags|=128,null):0!==(r&t.child.childLanes)?os(e,t,r):(Ti(t),null!==(e=fs(e,t,r))?e.sibling:null);Ti(t);break;case 19:var i=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Ss(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return ds(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Fi,Fi.current),n)break;return null;case 22:case 23:return t.lanes=0,qa(e,t,r);case 24:ms(t,Mi,e.memoizedState.cache)}return fs(e,t,r)}(e,t,r);Va=0!==(131072&e.flags)}else Va=!1,Yn&&0!==(1048576&t.flags)&&Kn(t,Un,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((i=n.$$typeof)===v){t.tag=11,t=Ja(null,t,n,e,r);break e}if(i===w){t.tag=14,t=za(null,t,n,e,r);break e}}throw t=k(n)||n,Error(a(306,t,""))}jl(n)?(e=Na(n,e),t.tag=1,t=es(null,t,n,e,r)):(t.tag=0,t=Xa(null,t,n,e,r))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,r);case 1:return es(e,t,n=t.type,i=Na(n,t.pendingProps),r);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var o=t.pendingProps;n=(i=t.memoizedState).element,Ts(e,t),Ls(t,o,null,r);var s=t.memoizedState;if(o=s.cache,ms(t,Mi,o),o!==i.cache&&_s(t,[Mi],r,!0),js(),o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ts(e,t,o,r);break e}if(o!==n){oi(n=Fn(Error(a(424)),t)),t=ts(e,t,o,r);break e}for(qn=sd(t.stateNode.containerInfo.firstChild),Gn=t,Yn=!0,Qn=null,Xn=!0,r=Si(t,null,o,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ii(),o===n){t=fs(e,t,r);break e}Ka(e,t,o,r)}t=t.child}return t;case 26:return Qa(e,t),null===e?(r=yd(t.type,null,t.pendingProps,null))?t.memoizedState=r:Yn||(r=t.type,e=t.pendingProps,(n=qc(Q.current).createElement(r))[Ue]=t,n[Me]=e,Jc(n,r,e),Qe(n),t.stateNode=n):t.memoizedState=yd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yn&&(n=t.stateNode=ud(t.type,t.pendingProps,Q.current),Gn=t,Xn=!0,qn=sd(n.firstChild)),n=t.pendingProps.children,null!==e||Yn?Ka(e,t,n,r):t.child=_i(t,null,n,r),Qa(e,t),t.child;case 5:return null===e&&Yn&&((i=n=qn)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=sd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,Xn))?(t.stateNode=n,Gn=t,qn=sd(n.firstChild),Xn=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,n=o.children,Xc(i,o)?n=null:null!==s&&Xc(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=fo(e,t,go,null,null,r),jd._currentValue=i),Qa(e,t),Ka(e,t,n,r),t.child;case 6:return null===e&&Yn&&((e=r=qn)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(r,t.pendingProps,Xn))?(t.stateNode=r,Gn=t,qn=null,e=!0):e=!1),e||ei(t)),null;case 13:return os(e,t,r);case 4:return Z(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=_i(t,null,n,r):Ka(e,t,n,r),t.child;case 11:return Ja(e,t,t.type,t.pendingProps,r);case 7:return Ka(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ka(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ms(t,t.type,n.value),Ka(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,As(t),n=n(i=xs(i)),t.flags|=1,Ka(e,t,n,r),t.child;case 14:return za(e,t,t.type,t.pendingProps,r);case 15:return Ga(e,t,t.type,t.pendingProps,r);case 19:return ds(e,t,r);case 22:return qa(e,t,r);case 24:return As(t),n=xs(Mi),null===e?(null===(i=qi())&&(i=tu,o=Bi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=r),i=o),t.memoizedState={parent:n,cache:i},Cs(t),ms(t,Mi,i)):(0!==(e.lanes&r)&&(Ts(e,t),Ls(t,null,null,r),js()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ms(t,Mi,n)):(n=o.cache,ms(t,Mi,n),n!==i.cache&&_s(t,[Mi],r,!0))),Ka(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var gs=J(null),ys=null,vs=null;function ms(e,t,r){G(gs,t._currentValue),t._currentValue=r}function bs(e){e._currentValue=gs.current,z(gs)}function ws(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _s(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),ws(o.return,r,e),n||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(o=s.alternate)&&(o.lanes|=r),ws(s,r,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ss(e,t,r,n){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;zr(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(jd):e=[jd])}i=i.return}null!==e&&_s(t,e,r,n),t.flags|=262144}function Es(e){for(e=e.firstContext;null!==e;){if(!zr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){ys=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xs(e){return ks(ys,e)}function Rs(e,t){return null===ys&&As(e),ks(e,t)}function ks(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return r}var Is=!1;function Cs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ts(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&eu)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Pn(e),Tn(e,null,r),t}return kn(e,n,t,r),Pn(e)}function Ns(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Fe(e,r)}}function Fs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Ds=!1;function js(){if(Ds){if(null!==Ki)throw Ki}}function Ls(e,t,r,n){Ds=!1;var i=e.updateQueue;Is=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=-536870913&s.lane,h=f!==s.lane;if(h?(nu&f)===f:(n&f)===f){0!==f&&f===Vi&&(Ds=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;f=t;var y=r;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(y,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(y,d,f):p)||void 0===f)break e;d=P({},d,f);break e;case 2:Is=!0}}null!==(f=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===o&&(i.shared.lanes=0),du|=a,e.lanes=a,e.memoizedState=d}}function Us(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ms(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Us(r[e],t)}function Bs(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var o=r.create,a=r.inst;n=o(),a.destroy=n}r=r.next}while(r!==i)}}catch(s){nc(t,t.return,s)}}function Hs(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var o=i.next;n=o;do{if((n.tag&e)===e){var a=n.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=r;try{s()}catch(u){nc(i,l,u)}}}n=n.next}while(n!==o)}}catch(u){nc(t,t.return,u)}}function Ws(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Ms(t,r)}catch(n){nc(e,e.return,n)}}}function $s(e,t,r){r.props=Na(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){nc(e,t,n)}}function Vs(e,t){try{var r=e.ref;if(null!==r){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=n;break;default:i=n}"function"===typeof r?e.refCleanup=r(i):r.current=i}}catch(o){nc(e,t,o)}}function Ks(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(i){nc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(o){nc(e,t,o)}else r.current=null}function Js(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){nc(e,e.return,i)}}function zs(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,u=null,c=null,d=null;for(p in r){var f=r[p];if(r.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":u=f;default:n.hasOwnProperty(p)||Vc(e,t,p,null,n,f)}}for(var h in n){var p=n[h];if(f=r[h],n.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":o=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==f&&Vc(e,t,h,p,n,f)}}return void yt(e,s,l,u,c,d,o,i);case"select":for(o in p=s=l=h=null,r)if(u=r[o],r.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":p=u;default:n.hasOwnProperty(o)||Vc(e,t,o,null,n,u)}for(i in n)if(o=n[i],u=r[i],n.hasOwnProperty(i)&&(null!=o||null!=u))switch(i){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==u&&Vc(e,t,i,o,n,u)}return t=l,r=s,n=p,void(null!=h?bt(e,!!r,h,!1):!!n!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=h=null,r)if(i=r[l],r.hasOwnProperty(l)&&null!=i&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Vc(e,t,l,null,n,i)}for(s in n)if(i=n[s],o=r[s],n.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Vc(e,t,s,i,n,o)}return void wt(e,h,p);case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Vc(e,t,g,null,n,h);for(u in n)if(h=n[u],p=r[u],n.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Vc(e,t,u,h,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in r)h=r[y],r.hasOwnProperty(y)&&null!=h&&!n.hasOwnProperty(y)&&Vc(e,t,y,null,n,h);for(c in n)if(h=n[c],p=r[c],n.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Vc(e,t,c,h,n,p)}return;default:if(Rt(t)){for(var v in r)h=r[v],r.hasOwnProperty(v)&&void 0!==h&&!n.hasOwnProperty(v)&&Kc(e,t,v,void 0,n,h);for(d in n)h=n[d],p=r[d],!n.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Kc(e,t,d,h,n,p);return}}for(var m in r)h=r[m],r.hasOwnProperty(m)&&null!=h&&!n.hasOwnProperty(m)&&Vc(e,t,m,null,n,h);for(f in n)h=n[f],p=r[f],!n.hasOwnProperty(f)||h===p||null==h&&null==p||Vc(e,t,f,h,n,p)}(n,e.type,r,t),n[Me]=t}catch(i){nc(e,e.return,i)}}function Gs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function qs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Gs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ys(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=$c));else if(4!==n&&27!==n&&null!==(e=e.child))for(Ys(e,t,r),e=e.sibling;null!==e;)Ys(e,t,r),e=e.sibling}function Qs(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&27!==n&&null!==(e=e.child))for(Qs(e,t,r),e=e.sibling;null!==e;)Qs(e,t,r),e=e.sibling}var Xs=!1,Zs=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,rl=null,nl=!1;function il(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:vl(e,r),4&n&&Bs(5,r);break;case 1:if(vl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){nc(r,r.return,s)}else{var i=Na(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){nc(r,r.return,l)}}64&n&&Ws(r),512&n&&Vs(r,r.return);break;case 3:if(vl(e,r),64&n&&null!==(n=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:e=r.child.stateNode}try{Ms(n,e)}catch(s){nc(r,r.return,s)}}break;case 26:vl(e,r),512&n&&Vs(r,r.return);break;case 27:case 5:vl(e,r),null===t&&4&n&&Js(r),512&n&&Vs(r,r.return);break;case 12:default:vl(e,r);break;case 13:vl(e,r),4&n&&cl(e,r);break;case 22:if(!(i=null!==r.memoizedState||Xs)){t=null!==t&&null!==t.memoizedState||Zs;var o=Xs,a=Zs;Xs=i,(Zs=t)&&!a?bl(e,r,0!==(8772&r.subtreeFlags)):vl(e,r),Xs=o,Zs=a}512&n&&("manual"===r.memoizedProps.mode?Vs(r,r.return):Ks(r,r.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,r){for(r=r.child;null!==r;)ul(e,t,r),r=r.sibling}function ul(e,t,r){if(me&&"function"===typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(ve,r)}catch(a){}switch(r.tag){case 26:Zs||Ks(r,t),ll(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Zs||Ks(r,t);var n=al,i=sl;for(al=r.stateNode,ll(e,t,r),t=(r=r.stateNode).attributes;t.length;)r.removeAttributeNode(t[0]);Je(r),al=n,sl=i;break;case 5:Zs||Ks(r,t);case 6:i=al;var o=sl;if(al=null,ll(e,t,r),sl=o,null!==(al=i))if(sl)try{e=al,n=r.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)}catch(s){nc(r,t,s)}else try{al.removeChild(r.stateNode)}catch(s){nc(r,t,s)}break;case 18:null!==al&&(sl?(t=al,r=r.stateNode,8===t.nodeType?od(t.parentNode,r):1===t.nodeType&&od(t,r),yf(t)):od(al,r.stateNode));break;case 4:n=al,i=sl,al=r.stateNode.containerInfo,sl=!0,ll(e,t,r),al=n,sl=i;break;case 0:case 11:case 14:case 15:Zs||Hs(2,r,t),Zs||Hs(4,r,t),ll(e,t,r);break;case 1:Zs||(Ks(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&$s(r,t,n)),ll(e,t,r);break;case 21:ll(e,t,r);break;case 22:Zs||Ks(r,t),Zs=(n=Zs)||null!==r.memoizedState,ll(e,t,r),Zs=n;break;default:ll(e,t,r)}}function cl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{yf(e)}catch(r){nc(t,t.return,r)}}function dl(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var n=lc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));ul(o,s,i),al=null,sl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var hl=null;function pl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),gl(e),4&n&&(Hs(3,e,e.return),Bs(3,e),Hs(5,e,e.return));break;case 1:fl(t,e),gl(e),512&n&&(Zs||null===r||Ks(r,r.return)),64&n&&Xs&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var i=hl;if(fl(t,e),gl(e),512&n&&(Zs||null===r||Ks(r,r.return)),4&n){var o=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ke]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Jc(o,n,r),o[Ue]=e,Qe(o),n=o;break e;case"link":var s=kd("link","href",i).get(n+(r.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==r.href?null:r.href)&&o.getAttribute("rel")===(null==r.rel?null:r.rel)&&o.getAttribute("title")===(null==r.title?null:r.title)&&o.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){s.splice(l,1);break t}Jc(o=i.createElement(n),n,r),i.head.appendChild(o);break;case"meta":if(s=kd("meta","content",i).get(n+(r.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&o.getAttribute("name")===(null==r.name?null:r.name)&&o.getAttribute("property")===(null==r.property?null:r.property)&&o.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&o.getAttribute("charset")===(null==r.charSet?null:r.charSet)){s.splice(l,1);break t}Jc(o=i.createElement(n),n,r),i.head.appendChild(o);break;default:throw Error(a(468,n))}o[Ue]=e,Qe(o),n=o}e.stateNode=n}else Id(i,e.type,e.stateNode);else e.stateNode=Sd(i,n,e.memoizedProps);else o!==n?(null===o?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):o.count--,null===n?Id(i,e.type,e.stateNode):Sd(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&zs(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(4&n&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var u=i.firstChild;u;){var c=u.nextSibling,d=u.nodeName;u[Ke]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===u.rel.toLowerCase()||i.removeChild(u),u=c}for(var f=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Jc(i,f,o),i[Ue]=e,i[Me]=o}catch(g){nc(e,e.return,g)}}case 5:if(fl(t,e),gl(e),512&n&&(Zs||null===r||Ks(r,r.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(g){nc(e,e.return,g)}}4&n&&null!=e.stateNode&&zs(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(el=!0);break;case 6:if(fl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(a(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(g){nc(e,e.return,g)}}break;case 3:if(Rd=null,i=hl,hl=fd(t.containerInfo),fl(t,e),hl=i,gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{yf(t.containerInfo)}catch(g){nc(e,e.return,g)}el&&(el=!1,yl(e));break;case 4:n=hl,hl=fd(e.stateNode.containerInfo),fl(t,e),gl(e),hl=n;break;case 12:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(bu=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,dl(e,n)));break;case 22:if(512&n&&(Zs||null===r||Ks(r,r.return)),u=null!==e.memoizedState,c=null!==r&&null!==r.memoizedState,Xs=(d=Xs)||u,Zs=(f=Zs)||c,fl(t,e),Zs=f,Xs=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&n&&(t._visibility=u?-2&t._visibility:1|t._visibility,u&&(t=Xs||Zs,null===r||c||t||ml(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(r=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,u)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var p=void 0!==(l=c.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){nc(c,c.return,g)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(g){nc(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,dl(e,r))));break;case 19:fl(t,e),gl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,dl(e,n)));break;case 21:break;default:fl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var r=e.return;null!==r;){if(Gs(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 27:var i=n.stateNode;Qs(e,qs(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),Qs(e,qs(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Ys(e,qs(e),s);break;default:throw Error(a(161))}}}catch(l){nc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hs(4,t,t.return),ml(t);break;case 1:Ks(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&$s(t,t.return,r),ml(t);break;case 26:case 27:case 5:Ks(t,t.return),ml(t);break;case 22:Ks(t,t.return),null===t.memoizedState&&ml(t);break;default:ml(t)}e=e.sibling}}function bl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:bl(i,o,r),Bs(4,o);break;case 1:if(bl(i,o,r),"function"===typeof(i=(n=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){nc(n,n.return,u)}if(null!==(i=(n=o).updateQueue)){var s=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Us(l[i],s)}catch(u){nc(n,n.return,u)}}r&&64&a&&Ws(o),Vs(o,o.return);break;case 26:case 27:case 5:bl(i,o,r),r&&null===n&&4&a&&Js(o),Vs(o,o.return);break;case 12:default:bl(i,o,r);break;case 13:bl(i,o,r),r&&4&a&&cl(i,o);break;case 22:null===o.memoizedState&&bl(i,o,r),Vs(o,o.return)}t=t.sibling}}function wl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Hi(r))}function _l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Hi(e))}function Sl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t,r,n),t=t.sibling}function El(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,r,n),2048&i&&Bs(9,t);break;case 3:Sl(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Hi(e)));break;case 12:if(2048&i){Sl(e,t,r,n),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){nc(t,t.return,l)}}else Sl(e,t,r,n);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?Sl(e,t,r,n):xl(e,t):4&o._visibility?Sl(e,t,r,n):(o._visibility|=4,Al(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:Sl(e,t,r,n),2048&i&&_l(t.alternate,t);break;default:Sl(e,t,r,n)}}function Al(e,t,r,n,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=r,l=n,u=a.flags;switch(a.tag){case 0:case 11:case 15:Al(o,a,s,l,i),Bs(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?4&c._visibility?Al(o,a,s,l,i):xl(o,a):(c._visibility|=4,Al(o,a,s,l,i)),i&&2048&u&&wl(a.alternate,a);break;case 24:Al(o,a,s,l,i),i&&2048&u&&_l(a.alternate,a);break;default:Al(o,a,s,l,i)}t=t.sibling}}function xl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:xl(r,n),2048&i&&wl(n.alternate,n);break;case 24:xl(r,n),2048&i&&_l(n.alternate,n);break;default:xl(r,n)}t=t.sibling}}var Rl=8192;function kl(e){if(e.subtreeFlags&Rl)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 26:kl(e),e.flags&Rl&&null!==e.memoizedState&&function(e,t,r){if(null===Td)throw Error(a(475));var n=Td;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vd(r.href),o=e.querySelector(md(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Od.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,void Qe(o);o=e.ownerDocument||e,r=bd(r),(i=cd.get(i))&&Ad(r,i),Qe(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Jc(o,"link",r),t.instance=o}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Od.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(hl,e.memoizedState,e.memoizedProps);break;case 5:default:kl(e);break;case 3:case 4:var t=hl;hl=fd(e.stateNode.containerInfo),kl(e),hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Rl,Rl=16777216,kl(e),Rl=t):kl(e))}}function Cl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Tl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];rl=n,Nl(n,e)}Cl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Tl(e),2048&e.flags&&Hs(9,e,e.return);break;case 3:case 12:default:Tl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ol(e)):Tl(e)}}function Ol(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];rl=n,Nl(n,e)}Cl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Hs(8,t,t.return),Ol(t);break;case 22:4&(r=t.stateNode)._visibility&&(r._visibility&=-5,Ol(t));break;default:Ol(t)}e=e.sibling}}function Nl(e,t){for(;null!==rl;){var r=rl;switch(r.tag){case 0:case 11:case 15:Hs(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Hi(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,rl=n;else e:for(r=e;null!==rl;){var i=(n=rl).sibling,o=n.return;if(ol(n),n===r){rl=null;break e}if(null!==i){i.return=o,rl=i;break e}rl=o}}}function Fl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,r,n){return new Fl(e,t,r,n)}function jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var r=e.alternate;return null===r?((r=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=31457280&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ul(e,t){e.flags&=31457282;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ml(e,t,r,n,i,o){var s=0;if(n=e,"function"===typeof e)jl(e)&&(s=1);else if("string"===typeof e)s=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Bl(r.children,i,o,t);case f:s=8,i|=24;break;case h:return(e=Dl(12,r,t,2|i)).elementType=h,e.lanes=o,e;case m:return(e=Dl(13,r,t,i)).elementType=m,e.lanes=o,e;case b:return(e=Dl(19,r,t,i)).elementType=b,e.lanes=o,e;case S:return Hl(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case y:s=10;break e;case g:s=9;break e;case v:s=11;break e;case w:s=14;break e;case _:s=16,n=null;break e}s=29,r=Error(a(130,null===e?"null":typeof e,"")),n=null}return(t=Dl(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Bl(e,t,r,n){return(e=Dl(7,e,n,t)).lanes=r,e}function Hl(e,t,r,n){(e=Dl(22,e,n,t)).elementType=S,e.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Cn(e,2);null!==t&&(i._pendingVisibility|=2,Ou(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Cn(e,2);null!==t&&(i._pendingVisibility&=-3,Ou(t,e,2))}}};return e.stateNode=i,e}function Wl(e,t,r){return(e=Dl(6,e,null,t)).lanes=r,e}function $l(e,t,r){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Cd(t)){if(null!==(t=Ii.current)&&((4194176&nu)===nu?null!==Ci:(62914560&nu)!==nu&&0===(536870912&nu)||t!==Ci))throw fi=li,si;e.flags|=8192}}function Jl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,gu|=t)}function zl(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=31457280&i.subtreeFlags,n|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ql(e,t,r){var n=t.pendingProps;switch(zn(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(Mi),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ni(t)?Vl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Qn&&(Fu(Qn),Qn=null))),Gl(t),null;case 26:return r=t.memoizedState,null===e?(Vl(t),null!==r?(Gl(t),Kl(t,r)):(Gl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Vl(t),Gl(t),Kl(t,r)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Vl(t),Gl(t),t.flags&=-16777217),null;case 27:re(t),r=Q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Vl(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=q.current,ni(t)?ti(t):(e=ud(i,n,r),t.stateNode=e,Vl(t))}return Gl(t),null;case 5:if(re(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Vl(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=q.current,ni(t))ti(t);else{switch(i=qc(Q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?i.createElement(r,{is:n.is}):i.createElement(r)}}e[Ue]=t,e[Me]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Jc(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vl(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Vl(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(e=Q.current,ni(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=Gn))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Wc(e.nodeValue,r)))||ei(t)}else(e=qc(e).createTextNode(n))[Ue]=t,t.stateNode=e}return Gl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ni(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ue]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==Qn&&(Fu(Qn),Qn=null),i=!0;if(!i)return 256&t.flags?(Ni(t),t):(Ni(t),null)}if(Ni(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),Jl(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Oc(t.stateNode.containerInfo),Gl(t),null;case 10:return bs(t.type),Gl(t),null;case 19:if(z(Fi),null===(i=t.memoizedState))return Gl(t),null;if(n=0!==(128&t.flags),null===(o=i.rendering))if(n)zl(i,!1);else{if(0!==cu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Di(e))){for(t.flags|=128,zl(i,!1),e=o.updateQueue,t.updateQueue=e,Jl(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Ul(r,e),r=r.sibling;return G(Fi,1&Fi.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wu&&(t.flags|=128,n=!0,zl(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Di(o))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Jl(t,e),zl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Yn)return Gl(t),null}else 2*le()-i.renderingStartTime>wu&&536870912!==r&&(t.flags|=128,n=!0,zl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Fi.current,G(Fi,n?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Ni(t),ki(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(r=t.updateQueue)&&Jl(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&z(Gi),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(Mi),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(zn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(Mi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return re(t),null;case 13:if(Ni(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Fi),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return Ni(t),ki(),null!==e&&z(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(Mi),null;default:return null}}function Ql(e,t){switch(zn(t),t.tag){case 3:bs(Mi),ee();break;case 26:case 27:case 5:re(t);break;case 4:ee();break;case 13:Ni(t);break;case 19:z(Fi);break;case 10:bs(t.type);break;case 22:case 23:Ni(t),ki(),null!==e&&z(Gi);break;case 24:bs(Mi)}}var Xl={getCacheForType:function(e){var t=xs(Mi),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},Zl="function"===typeof WeakMap?WeakMap:Map,eu=0,tu=null,ru=null,nu=0,iu=0,ou=null,au=!1,su=!1,lu=!1,uu=0,cu=0,du=0,fu=0,hu=0,pu=0,gu=0,yu=null,vu=null,mu=!1,bu=0,wu=1/0,_u=null,Su=null,Eu=!1,Au=null,xu=0,Ru=0,ku=null,Iu=0,Cu=null;function Tu(){if(0!==(2&eu)&&0!==nu)return nu&-nu;if(null!==T.T){return 0!==Vi?Vi:_c()}return je()}function Pu(){0===pu&&(pu=0===(536870912&nu)||Yn?Ce():536870912);var e=Ii.current;return null!==e&&(e.flags|=32),pu}function Ou(e,t,r){(e===tu&&2===iu||null!==e.cancelPendingCommit)&&(Bu(e,0),Lu(e,nu,pu,!1)),Oe(e,r),0!==(2&eu)&&e===tu||(e===tu&&(0===(2&eu)&&(fu|=r),4===cu&&Lu(e,nu,pu,!1)),gc(e))}function Nu(e,t,r){if(0!==(6&eu))throw Error(a(327));for(var n=!r&&0===(60&t)&&0===(t&e.expiredLanes)||ke(e,t),i=n?function(e,t){var r=eu;eu|=2;var n=Wu(),i=$u();tu!==e||nu!==t?(_u=null,wu=le()+500,Bu(e,t)):su=ke(e,t);e:for(;;)try{if(0!==iu&&null!==ru){t=ru;var o=ou;t:switch(iu){case 1:iu=0,ou=null,Yu(e,t,o,1);break;case 2:if(ui(o)){iu=0,ou=null,qu(t);break}t=function(){2===iu&&tu===e&&(iu=7),gc(e)},o.then(t,t);break e;case 3:iu=7;break e;case 4:iu=5;break e;case 7:ui(o)?(iu=0,ou=null,qu(t)):(iu=0,ou=null,Yu(e,t,o,7));break;case 5:var s=null;switch(ru.tag){case 26:s=ru.memoizedState;case 5:case 27:var l=ru;if(!s||Cd(s)){iu=0,ou=null;var u=l.sibling;if(null!==u)ru=u;else{var c=l.return;null!==c?(ru=c,Qu(c)):ru=null}break t}}iu=0,ou=null,Yu(e,t,o,5);break;case 6:iu=0,ou=null,Yu(e,t,o,6);break;case 8:Mu(),cu=6;break e;default:throw Error(a(462))}}zu();break}catch(d){Hu(e,d)}return vs=ys=null,T.H=n,T.A=i,eu=r,null!==ru?0:(tu=null,nu=0,Rn(),cu)}(e,t):Ku(e,t,!0),o=n;;){if(0===i){su&&!n&&Lu(e,t,0,!1);break}if(6===i)Lu(e,t,0,!au);else{if(r=e.current.alternate,o&&!ju(r)){i=Ku(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=yu;var u=l.current.memoizedState.isDehydrated;if(u&&(Bu(l,s).flags|=256),2!==(s=Ku(l,s,!1))){if(lu&&!u){l.errorRecoveryDisabledLanes|=o,fu|=o,i=4;break e}o=vu,vu=i,null!==o&&Fu(o)}i=s}if(o=!1,2!==i)continue}}if(1===i){Bu(e,0),Lu(e,t,0,!0);break}e:{switch(n=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Lu(n,t,pu,!au);break e}break;case 2:vu=null;break;case 3:case 5:break;default:throw Error(a(329))}if(n.finishedWork=r,n.finishedLanes=t,(62914560&t)===t&&10<(o=bu+300-le())){if(Lu(n,t,pu,!au),0!==Re(n,0))break e;n.timeoutHandle=ed(Du.bind(null,n,r,vu,_u,mu,t,pu,fu,gu,au,2,-0,0),o)}else Du(n,r,vu,_u,mu,t,pu,fu,gu,au,0,-0,0)}}break}gc(e)}function Fu(e){null===vu?vu=e:vu.push.apply(vu,e)}function Du(e,t,r,n,i,o,s,l,u,c,d,f,h){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Td={stylesheets:null,count:0,unsuspend:Pd},Il(t),null!==(t=function(){if(null===Td)throw Error(a(475));var e=Td;return e.stylesheets&&0===e.count&&Fd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&Fd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=t(Zu.bind(null,e,r,n,i,s,l,u,1,f,h)),void Lu(e,o,s,!c);Zu(e,r,n,i,s,l,u,d,f,h)}function ju(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!zr(o(),i))return!1}catch(a){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lu(e,t,r,n){t&=~hu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-we(i),a=1<<o;n[o]=-1,i&=~a}0!==r&&Ne(e,r,t)}function Uu(){return 0!==(6&eu)||(yc(0,!1),!1)}function Mu(){if(null!==ru){if(0===iu)var e=ru.return;else vs=ys=null,mo(e=ru),pi=null,gi=0,e=ru;for(;null!==e;)Ql(e.alternate,e),e=e.return;ru=null}}function Bu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,td(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Mu(),tu=e,ru=r=Ll(e.current,null),nu=t,iu=0,ou=null,au=!1,su=ke(e,t),lu=!1,gu=pu=hu=fu=du=cu=0,vu=yu=null,mu=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-we(n),o=1<<i;t|=e[i],n&=~o}return uu=t,Rn(),r}function Hu(e,t){Zi=null,T.H=xa,t===ai?(t=hi(),iu=3):t===si?(t=hi(),iu=4):iu=t===$a?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ou=t,null===ru&&(cu=1,Ua(e,Fn(t,e.current)))}function Wu(){var e=T.H;return T.H=xa,null===e?xa:e}function $u(){var e=T.A;return T.A=Xl,e}function Vu(){cu=4,au||(4194176&nu)!==nu&&null!==Ii.current||(su=!0),0===(134217727&du)&&0===(134217727&fu)||null===tu||Lu(tu,nu,pu,!1)}function Ku(e,t,r){var n=eu;eu|=2;var i=Wu(),o=$u();tu===e&&nu===t||(_u=null,Bu(e,t)),t=!1;var a=cu;e:for(;;)try{if(0!==iu&&null!==ru){var s=ru,l=ou;switch(iu){case 8:Mu(),a=6;break e;case 3:case 2:case 6:null===Ii.current&&(t=!0);var u=iu;if(iu=0,ou=null,Yu(e,s,l,u),r&&su){a=0;break e}break;default:u=iu,iu=0,ou=null,Yu(e,s,l,u)}}Ju(),a=cu;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,vs=ys=null,eu=n,T.H=i,T.A=o,null===ru&&(tu=null,nu=0,Rn()),a}function Ju(){for(;null!==ru;)Gu(ru)}function zu(){for(;null!==ru&&!ae();)Gu(ru)}function Gu(e){var t=ps(e.alternate,e,uu);e.memoizedProps=e.pendingProps,null===t?Qu(e):ru=t}function qu(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Za(r,t,t.pendingProps,t.type,void 0,nu);break;case 11:t=Za(r,t,t.pendingProps,t.type.render,t.ref,nu);break;case 5:mo(t);default:Ql(r,t),t=ps(r,t=ru=Ul(t,uu),uu)}e.memoizedProps=e.pendingProps,null===t?Qu(e):ru=t}function Yu(e,t,r,n){vs=ys=null,mo(t),pi=null,gi=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Ss(t,r,i,!0),null!==(r=Ii.current)){switch(r.tag){case 13:return null===Ci?Vu():null===r.alternate&&0===cu&&(cu=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===li?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),ic(e,n,i)),!1;case 22:return r.flags|=65536,n===li?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),ic(e,n,i)),!1}throw Error(a(435,r.tag))}return ic(e,n,i),Vu(),!1}if(Yn)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Zn&&oi(Fn(e=Error(a(422),{cause:n}),r))):(n!==Zn&&oi(Fn(t=Error(a(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=Fn(n,r),Fs(e,i=Ba(e.stateNode,n,i)),4!==cu&&(cu=2)),!1;var o=Error(a(520),{cause:n});if(o=Fn(o,r),null===yu?yu=[o]:yu.push(o),4!==cu&&(cu=2),null===t)return!0;n=Fn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,Fs(r,e=Ba(r.stateNode,n,e)),!1;case 1:if(t=r.type,o=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Su||!Su.has(o))))return r.flags|=65536,i&=-i,r.lanes|=i,Wa(i=Ha(i),e,r,n),Fs(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,nu))return cu=1,Ua(e,Fn(r,e.current)),void(ru=null)}catch(o){if(null!==i)throw ru=i,o;return cu=1,Ua(e,Fn(r,e.current)),void(ru=null)}32768&t.flags?(Yn||1===n?e=!0:su||0!==(536870912&nu)?e=!1:(au=e=!0,(2===n||3===n||6===n)&&(null!==(n=Ii.current)&&13===n.tag&&(n.flags|=16384))),Xu(t,e)):Qu(t)}function Qu(e){var t=e;do{if(0!==(32768&t.flags))return void Xu(t,au);e=t.return;var r=ql(t.alternate,t,uu);if(null!==r)return void(ru=r);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===cu&&(cu=5)}function Xu(e,t){do{var r=Yl(e.alternate,e);if(null!==r)return r.flags&=32767,void(ru=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=r}while(null!==e);cu=6,ru=null}function Zu(e,t,r,n,i,o,s,l,u,c){var d=T.T,f=W.p;try{W.p=2,T.T=null,function(e,t,r,n,i,o,s,l){do{tc()}while(null!==Au);if(0!==(6&eu))throw Error(a(327));var u=e.finishedWork;if(n=e.finishedLanes,null===u)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=u.lanes|u.childLanes;if(function(e,t,r,n,i,o){var a=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(r=a&~r;0<r;){var c=31-we(r),d=1<<c;s[c]=0,l[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];null!==h&&(h.lane&=-536870913)}r&=~d}0!==n&&Ne(e,n,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,c|=xn,o,s,l),e===tu&&(ru=tu=null,nu=0),0===(10256&u.subtreeFlags)&&0===(10256&u.flags)||Eu||(Eu=!0,Ru=c,ku=r,function(e,t){ie(e,t)}(fe,(function(){return tc(),null}))),r=0!==(15990&u.flags),0!==(15990&u.subtreeFlags)||r?(r=T.T,T.T=null,o=W.p,W.p=2,s=eu,eu|=4,function(e,t){if(e=e.containerInfo,zc=Vd,Zr(e=Xr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(y){r=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==n&&3!==f.nodeType||(u=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===i&&(l=s),h===o&&++d===n&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gc={focusedElem:e,selectionRange:r},Vd=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(o=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,r=t,i=o.memoizedProps,o=o.memoizedState,n=r.stateNode;try{var g=Na(r.type,i,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(g,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){nc(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}g=nl,nl=!1}(e,u),pl(u,e),en(Gc,e.containerInfo),Vd=!!zc,Gc=zc=null,e.current=u,il(e,u.alternate,u),se(),eu=s,W.p=o,T.T=r):e.current=u,Eu?(Eu=!1,Au=e,xu=n):ec(e,c),c=e.pendingLanes,0===c&&(Su=null),function(e){if(me&&"function"===typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(u.stateNode),gc(e),null!==t)for(i=e.onRecoverableError,u=0;u<t.length;u++)c=t[u],i(c.value,{componentStack:c.stack});0!==(3&xu)&&tc(),c=e.pendingLanes,0!==(4194218&n)&&0!==(42&c)?e===Cu?Iu++:(Iu=0,Cu=e):Iu=0,yc(0,!1)}(e,t,r,n,f,i,o,s)}finally{T.T=d,W.p=f}}function ec(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Hi(t)))}function tc(){if(null!==Au){var e=Au,t=Ru;Ru=0;var r=De(xu),n=T.T,i=W.p;try{if(W.p=32>r?32:r,T.T=null,null===Au)var o=!1;else{r=ku,ku=null;var s=Au,l=xu;if(Au=null,xu=0,0!==(6&eu))throw Error(a(331));var u=eu;if(eu|=4,Pl(s.current),El(s,s.current,l,r),eu=u,yc(0,!1),me&&"function"===typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(ve,s)}catch(c){}o=!0}return o}finally{W.p=i,T.T=n,ec(e,t)}}return!1}function rc(e,t,r){t=Fn(r,t),null!==(e=Os(e,t=Ba(e.stateNode,t,2),2))&&(Oe(e,2),gc(e))}function nc(e,t,r){if(3===e.tag)rc(e,e,r);else for(;null!==t;){if(3===t.tag){rc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Su||!Su.has(n))){e=Fn(r,e),null!==(n=Os(t,r=Ha(2),2))&&(Wa(r,n,t,e),Oe(n,2),gc(n));break}}t=t.return}}function ic(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Zl;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(lu=!0,i.add(r),e=oc.bind(null,e,t,r),t.then(e,e))}function oc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,tu===e&&(nu&r)===r&&(4===cu||3===cu&&(62914560&nu)===nu&&300>le()-bu?0===(2&eu)&&Bu(e,0):hu|=r,gu===nu&&(gu=0)),gc(e)}function ac(e,t){0===t&&(t=Te()),null!==(e=Cn(e,t))&&(Oe(e,t),gc(e))}function sc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),ac(e,r)}function lc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==n&&n.delete(t),ac(e,r)}var uc=null,cc=null,dc=!1,fc=!1,hc=!1,pc=0;function gc(e){var t;e!==cc&&null===e.next&&(null===cc?uc=cc=e:cc=cc.next=e),fc=!0,dc||(dc=!0,t=vc,nd((function(){0!==(6&eu)?ie(ce,t):t()})))}function yc(e,t){if(!hc&&fc){hc=!0;do{for(var r=!1,n=uc;null!==n;){if(!t)if(0!==e){var i=n.pendingLanes;if(0===i)var o=0;else{var a=n.suspendedLanes,s=n.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326677&(o&=i&~(a&~s))?201326677&o|1:o?2|o:0}0!==o&&(r=!0,wc(n,o))}else o=nu,0===(3&(o=Re(n,n===tu?o:0)))||ke(n,o)||(r=!0,wc(n,o));n=n.next}}while(r);hc=!1}}function vc(){fc=dc=!1;var e=0;0!==pc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zc&&(Zc=e,!0);return Zc=null,!1}()&&(e=pc),pc=0);for(var t=le(),r=null,n=uc;null!==n;){var i=n.next,o=mc(n,t);0===o?(n.next=null,null===r?uc=i:r.next=i,null===i&&(cc=r)):(r=n,(0!==e||0!==(3&o))&&(fc=!0)),n=i}yc(e,!1)}function mc(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-we(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=Ie(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(r=nu,r=Re(e,e===(t=tu)?r:0),n=e.callbackNode,0===r||e===t&&2===iu||null!==e.cancelPendingCommit)return null!==n&&null!==n&&oe(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||ke(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&oe(n),De(r)){case 2:case 8:r=de;break;case 32:default:r=fe;break;case 268435456:r=pe}return n=bc.bind(null,e),r=ie(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&oe(n),e.callbackPriority=2,e.callbackNode=null,2}function bc(e,t){var r=e.callbackNode;if(tc()&&e.callbackNode!==r)return null;var n=nu;return 0===(n=Re(e,e===tu?n:0))?null:(Nu(e,n,t),mc(e,le()),null!=e.callbackNode&&e.callbackNode===r?bc.bind(null,e):null)}function wc(e,t){if(tc())return null;Nu(e,t,!0)}function _c(){return 0===pc&&(pc=Ce()),pc}function Sc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Ec(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ac=0;Ac<_n.length;Ac++){var xc=_n[Ac];Sn(xc.toLowerCase(),"on"+(xc[0].toUpperCase()+xc.slice(1)))}Sn(hn,"onAnimationEnd"),Sn(pn,"onAnimationIteration"),Sn(gn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(yn,"onTransitionRun"),Sn(vn,"onTransitionStart"),Sn(mn,"onTransitionCancel"),Sn(bn,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Ic(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Fa(c)}i.currentTarget=null,o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Fa(c)}i.currentTarget=null,o=l}}}}function Cc(e,t){var r=t[He];void 0===r&&(r=t[He]=new Set);var n=e+"__bubble";r.has(n)||(Nc(t,e,2,!1),r.add(n))}function Tc(e,t,r){var n=0;t&&(n|=4),Nc(r,e,n,t)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Pc]){e[Pc]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(kc.has(t)||Tc(t,!1,e),Tc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pc]||(t[Pc]=!0,Tc("selectionchange",!1,t))}}function Nc(e,t,r,n){switch(Qd(t)){case 2:var i=Kd;break;case 8:i=Jd;break;default:i=zd}r=i.bind(null,t,r,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Fc(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ze(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){n=o=a;continue e}s=s.parentNode}}n=n.return}jt((function(){var n=o,i=Pt(r),a=[];e:{var s=wn.get(e);if(void 0!==s){var l=Xt,u=e;switch(e){case"keypress":if(0===Vt(r))break e;case"keydown":case"keyup":l=hr;break;case"focusin":u="focus",l=ir;break;case"focusout":u="blur",l=ir;break;case"beforeblur":case"afterblur":l=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gr;break;case hn:case pn:case gn:l=or;break;case bn:l=yr;break;case"scroll":case"scrollend":l=er;break;case"wheel":l=vr;break;case"copy":case"cut":case"paste":l=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pr;break;case"toggle":case"beforetoggle":l=mr}var c=0!==(4&t),d=!c&&("scroll"===e||"scrollend"===e),f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=n;null!==p;){var g=p;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Lt(p,f))&&c.push(Dc(p,g,h)),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Tt||!(u=r.relatedTarget||r.fromElement)||!ze(u)&&!u[Be])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?ze(u):null)&&(d=L(u),c=u.tag,u!==d||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=n),l!==u)){if(c=rr,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=pr,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:qe(l),h=null==u?s:qe(u),(s=new c(g,p+"leave",l,r,i)).target=d,s.relatedTarget=h,g=null,ze(i)===n&&((c=new c(f,p+"enter",u,r,i)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Lc(h))p++;for(h=0,g=f;g;g=Lc(g))h++;for(;0<p-h;)c=Lc(c),p--;for(;0<h-p;)f=Lc(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Lc(c),f=Lc(f)}c=null}else c=null;null!==l&&Uc(a,s,l,c,!1),null!==u&&null!==d&&Uc(a,d,u,c,!0)}if("select"===(l=(s=n?qe(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=jr;else if(Tr(s))if(Lr)y=Jr;else{y=Vr;var v=$r}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&Rt(n.elementType)&&(y=jr):y=Kr;switch(y&&(y=y(e,n))?Pr(a,y,r,i):(v&&v(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&mt(s,"number",s.value)),v=n?qe(n):window,e){case"focusin":(Tr(v)||"true"===v.contentEditable)&&(rn=v,nn=n,on=null);break;case"focusout":on=nn=rn=null;break;case"mousedown":an=!0;break;case"contextmenu":case"mouseup":case"dragend":an=!1,sn(a,r,i);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":sn(a,r,i)}var m;if(wr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ir?Rr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Er&&"ko"!==r.locale&&(Ir||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ir&&(m=$t()):(Ht="value"in(Bt=i)?Bt.value:Bt.textContent,Ir=!0)),0<(v=jc(n,b)).length&&(b=new sr(b,e,null,r,i),a.push({event:b,listeners:v}),m?b.data=m:null!==(m=kr(r))&&(b.data=m))),(m=Sr?function(e,t){switch(e){case"compositionend":return kr(t);case"keypress":return 32!==t.which?null:(xr=!0,Ar);case"textInput":return(e=t.data)===Ar&&xr?null:e;default:return null}}(e,r):function(e,t){if(Ir)return"compositionend"===e||!wr&&Rr(e,t)?(e=$t(),Wt=Ht=Bt=null,Ir=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(b=jc(n,"onBeforeInput")).length&&(v=new sr("onBeforeInput","beforeinput",null,r,i),a.push({event:v,listeners:b}),v.data=m)),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var o=Sc((i[Me]||null).action),a=n.submitter;a&&null!==(t=(t=a[Me]||null)?Sc(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Xt("action","action",null,n,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==pc){var e=a?Ec(i,a):new FormData(i);da(r,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Ec(i,a):new FormData(i),da(r,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,n,r,i)}Ic(a,t)}))}function Dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jc(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Lt(e,r))&&n.unshift(Dc(e,i,o)),null!=(i=Lt(e,t))&&n.push(Dc(e,i,o))),e=e.return}return n}function Lc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uc(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===n)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=Lt(r,o))&&a.unshift(Dc(r,u,l)):i||null!=(u=Lt(r,o))&&a.push(Dc(r,u,l))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Mc=/\r\n?/g,Bc=/\u0000|\uFFFD/g;function Hc(e){return("string"===typeof e?e:""+e).replace(Mc,"\n").replace(Bc,"")}function Wc(e,t){return t=Hc(t),Hc(e)===t}function $c(){}function Vc(e,t,r,n,i,o){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||St(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&St(e,""+n);break;case"className":st(e,"class",n);break;case"tabIndex":st(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,r,n);break;case"style":xt(e,n,o);break;case"data":if("object"!==t){st(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===r?("input"!==t&&Vc(e,t,"name",i.name,i,null),Vc(e,t,"formEncType",i.formEncType,i,null),Vc(e,t,"formMethod",i.formMethod,i,null),Vc(e,t,"formTarget",i.formTarget,i,null)):(Vc(e,t,"encType",i.encType,i,null),Vc(e,t,"method",i.method,i,null),Vc(e,t,"target",i.target,i,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=$c);break;case"onScroll":null!=n&&Cc("scroll",e);break;case"onScrollEnd":null!=n&&Cc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Ct(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Cc("beforetoggle",e),Cc("toggle",e),at(e,"popover",n);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":at(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&at(e,r=kt.get(r)||r,n)}}function Kc(e,t,r,n,i,o){switch(r){case"style":xt(e,n,o);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=r}}break;case"children":"string"===typeof n?St(e,n):("number"===typeof n||"bigint"===typeof n)&&St(e,""+n);break;case"onScroll":null!=n&&Cc("scroll",e);break;case"onScrollEnd":null!=n&&Cc("scrollend",e);break;case"onClick":null!=n&&(e.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"===typeof(o=null!=(o=e[Me]||null)?o[r]:null)&&e.removeEventListener(t,o,i),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):at(e,r,n):("function"!==typeof o&&null!==o&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function Jc(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cc("error",e),Cc("load",e);var n,i=!1,o=!1;for(n in r)if(r.hasOwnProperty(n)){var s=r[n];if(null!=s)switch(n){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Vc(e,t,n,s,r,null)}}return o&&Vc(e,t,"srcSet",r.srcSet,r,null),void(i&&Vc(e,t,"src",r.src,r,null));case"input":Cc("invalid",e);var l=n=s=o=null,u=null,c=null;for(i in r)if(r.hasOwnProperty(i)){var d=r[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Vc(e,t,i,d,r,null)}}return vt(e,n,l,u,c,s,o,!1),void dt(e);case"select":for(o in Cc("invalid",e),i=s=n=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":n=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Vc(e,t,o,l,r,null)}return t=n,r=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=r&&bt(e,!!i,r,!0));case"textarea":for(s in Cc("invalid",e),n=o=i=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Vc(e,t,s,l,r,null)}return _t(e,i,o,n),void dt(e);case"option":for(u in r)if(r.hasOwnProperty(u)&&null!=(i=r[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Vc(e,t,u,i,r,null);return;case"dialog":Cc("cancel",e),Cc("close",e);break;case"iframe":case"object":Cc("load",e);break;case"video":case"audio":for(i=0;i<Rc.length;i++)Cc(Rc[i],e);break;case"image":Cc("error",e),Cc("load",e);break;case"details":Cc("toggle",e);break;case"embed":case"source":case"link":Cc("error",e),Cc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&null!=(i=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Vc(e,t,c,i,r,null)}return;default:if(Rt(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(i=r[d])&&Kc(e,t,d,i,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(i=r[l])&&Vc(e,t,l,i,r,null))}var zc=null,Gc=null;function qc(e){return 9===e.nodeType?e:e.ownerDocument}function Yc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qc(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xc(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zc=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,rd="function"===typeof Promise?Promise:void 0,nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rd?function(e){return rd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function od(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void yf(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);yf(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),Je(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function ud(e,t,r){switch(t=qc(r),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var cd=new Map,dd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=W.d;W.d={f:function(){var e=hd.f(),t=Uu();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):hd.r(e)},D:function(e){hd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),gd("preconnect",e,t)},L:function(e,t,r){hd.L(e,t,r);var n=pd;if(n&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(i+='[imagesizes="'+gt(r.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=vd(e);break;case"script":o=wd(e)}cd.has(o)||(e=P({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),cd.set(o,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(md(o))||"script"===t&&n.querySelector(_d(o))||(Jc(t=n.createElement("link"),"link",e),Qe(t),n.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var r=pd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=wd(e)}if(!cd.has(o)&&(e=P({rel:"modulepreload",href:e},t),cd.set(o,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_d(o)))return}Jc(n=r.createElement("link"),"link",e),Qe(n),r.head.appendChild(n)}}},X:function(e,t){hd.X(e,t);var r=pd;if(r&&e){var n=Ye(r).hoistableScripts,i=wd(e),o=n.get(i);o||((o=r.querySelector(_d(i)))||(e=P({src:e,async:!0},t),(t=cd.get(i))&&xd(e,t),Qe(o=r.createElement("script")),Jc(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}},S:function(e,t,r){hd.S(e,t,r);var n=pd;if(n&&e){var i=Ye(n).hoistableStyles,o=vd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=n.querySelector(md(o)))s.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},r),(r=cd.get(o))&&Ad(e,r);var l=a=n.createElement("link");Qe(l),Jc(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Ed(a,t,n)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){hd.M(e,t);var r=pd;if(r&&e){var n=Ye(r).hoistableScripts,i=wd(e),o=n.get(i);o||((o=r.querySelector(_d(i)))||(e=P({src:e,async:!0,type:"module"},t),(t=cd.get(i))&&xd(e,t),Qe(o=r.createElement("script")),Jc(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}};var pd="undefined"===typeof document?null:document;function gd(e,t,r){var n=pd;if(n&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof r&&(i+='[crossorigin="'+r+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(Jc(t=n.createElement("link"),"link",e),Qe(t),n.head.appendChild(t)))}}function yd(e,t,r,n){var i,o,s,l,u=(u=Q.current)?fd(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=vd(r.href),(n=(r=Ye(u).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=vd(r.href);var c=Ye(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(md(e)))&&!c._p&&(d.instance=c,d.state.loading=5),cd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},cd.set(e,r),c||(i=u,o=e,s=r,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Jc(o,"link",s),Qe(o),i.head.appendChild(o))))),t&&null===n)throw Error(a(528,""));return d}if(t&&null!==n)throw Error(a(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(r),(n=(r=Ye(u).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+gt(e)+'"'}function md(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+gt(e)+'"]'}function _d(e){return"script[async]"+e}function Sd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(n)return t.instance=n,Qe(n),n;var i=P({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Qe(n=(e.ownerDocument||e).createElement("style")),Jc(n,"style",i),Ed(n,r.precedence,e),t.instance=n;case"stylesheet":i=vd(r.href);var o=e.querySelector(md(i));if(o)return t.state.loading|=4,t.instance=o,Qe(o),o;n=bd(r),(i=cd.get(i))&&Ad(n,i),Qe(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Jc(o,"link",n),t.state.loading|=4,Ed(o,r.precedence,e),t.instance=o;case"script":return o=wd(r.src),(i=e.querySelector(_d(o)))?(t.instance=i,Qe(i),i):(n=r,(i=cd.get(o))&&xd(n=P({},r),i),Qe(i=(e=e.ownerDocument||e).createElement("script")),Jc(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Ed(n,r.precedence,e));return t.instance}function Ed(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,a=0;a<n.length;a++){var s=n[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Ad(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function xd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Rd=null;function kd(e,t,r){if(null===Rd){var n=new Map,i=Rd=new Map;i.set(r,n)}else(n=(i=Rd).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var o=r[i];if(!(o[Ke]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=n.get(a);s?s.push(o):n.set(a,[o])}}return n}function Id(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Cd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Td=null;function Pd(){}function Od(){if(this.count--,0===this.count)if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Nd=null;function Fd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Nd=new Map,t.forEach(Dd,e),Nd=null,Od.call(e))}function Dd(e,t){if(!(4&t.state.loading)){var r=Nd.get(e);if(r)var n=r.get(null);else{r=new Map,Nd.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(r.set(a.dataset.precedence,a),n=a)}n&&r.set(null,n)}a=(i=t.instance).getAttribute("data-precedence"),(o=r.get(a)||n)===n&&r.set(null,i),r.set(a,i),this.count++,n=Od.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var jd={$$typeof:y,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Ld(e,t,r,n,i,o,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ud(e,t,r,n,i,o,a,s,l,u,c,d){return e=new Ld(e,t,r,a,s,l,u,d),t=1,!0===o&&(t|=24),o=Dl(3,null,null,t),e.current=o,o.stateNode=e,(t=Bi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:r,cache:t},Cs(o),e}function Md(e){return e?e=On:On}function Bd(e,t,r,n,i,o){i=Md(i),null===n.context?n.context=i:n.pendingContext=i,(n=Ps(t)).payload={element:r},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(r=Os(e,n,t))&&(Ou(r,0,t),Ns(r,e,t))}function Hd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wd(e,t){Hd(e,t),(e=e.alternate)&&Hd(e,t)}function $d(e){if(13===e.tag){var t=Cn(e,67108864);null!==t&&Ou(t,0,67108864),Wd(e,67108864)}}var Vd=!0;function Kd(e,t,r,n){var i=T.T;T.T=null;var o=W.p;try{W.p=2,zd(e,t,r,n)}finally{W.p=o,T.T=i}}function Jd(e,t,r,n){var i=T.T;T.T=null;var o=W.p;try{W.p=8,zd(e,t,r,n)}finally{W.p=o,T.T=i}}function zd(e,t,r,n){if(Vd){var i=Gd(n);if(null===i)Fc(e,t,n,qd,r),sf(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Zd=lf(Zd,e,t,r,n,i),!0;case"dragenter":return ef=lf(ef,e,t,r,n,i),!0;case"mouseover":return tf=lf(tf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return rf.set(o,lf(rf.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,nf.set(o,lf(nf.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(sf(e,n),4&t&&-1<af.indexOf(e)){for(;null!==i;){var o=Ge(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=xe(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}gc(o),0===(6&eu)&&(wu=le()+500,yc(0,!1))}}break;case 13:null!==(s=Cn(o,2))&&Ou(s,0,2),Uu(),Wd(o,2)}if(null===(o=Gd(n))&&Fc(e,t,n,qd,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Fc(e,t,n,null,r)}}function Gd(e){return Yd(e=Pt(e))}var qd=null;function Yd(e){if(qd=null,null!==(e=ze(e))){var t=L(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=U(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qd=e,null}function Qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case de:return 8;case fe:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,ef=null,tf=null,rf=new Map,nf=new Map,of=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sf(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":ef=null;break;case"mouseover":case"mouseout":tf=null;break;case"pointerover":case"pointerout":rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(t.pointerId)}}function lf(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&$d(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function uf(e){var t=ze(e.target);if(null!==t){var r=L(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=U(r)))return e.blockedOn=t,void function(e,t){var r=W.p;try{return W.p=e,t()}finally{W.p=r}}(e.priority,(function(){if(13===r.tag){var e=Tu(),t=Cn(r,e);null!==t&&Ou(t,0,e),Wd(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function cf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gd(e.nativeEvent);if(null!==r)return null!==(t=Ge(r))&&$d(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Tt=n,r.target.dispatchEvent(n),Tt=null,t.shift()}return!0}function df(e,t,r){cf(e)&&r.delete(t)}function ff(){Xd=!1,null!==Zd&&cf(Zd)&&(Zd=null),null!==ef&&cf(ef)&&(ef=null),null!==tf&&cf(tf)&&(tf=null),rf.forEach(df),nf.forEach(df)}function hf(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ff)))}var pf=null;function gf(e){pf!==e&&(pf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){pf===e&&(pf=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!==typeof n){if(null===Yd(n||r))continue;break}var o=Ge(r);null!==o&&(e.splice(t,3),t-=3,da(o,{pending:!0,data:i,method:r.method,action:n},n,i))}})))}function yf(e){function t(t){return hf(t,e)}null!==Zd&&hf(Zd,e),null!==ef&&hf(ef,e),null!==tf&&hf(tf,e),rf.forEach(t),nf.forEach(t);for(var r=0;r<of.length;r++){var n=of[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<of.length&&null===(r=of[0]).blockedOn;)uf(r),null===r.blockedOn&&of.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],o=r[n+1],a=i[Me]||null;if("function"===typeof o)a||gf(r);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Me]||null)s=a.formAction;else if(null!==Yd(i))continue}else s=a.action;"function"===typeof s?r[n+1]=s:(r.splice(n,3),n-=3),gf(r)}}}function vf(e){this._internalRoot=e}function mf(e){this._internalRoot=e}mf.prototype.render=vf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bd(t.current,Tu(),e,t,null,null)},mf.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tc(),Bd(e.current,2,null,e,null,null),Uu(),t[Be]=null}},mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var r=0;r<of.length&&0!==t&&t<of[r].priority;r++);of.splice(r,0,e),0===r&&uf(e)}};var bf=i.version;if("19.0.0"!==bf)throw Error(a(527,bf,"19.0.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=L(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return M(i),e;if(o===n)return M(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?B(e):null)?null:e.stateNode};var wf={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:ze,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ve=_f.inject(wf),me=_f}catch(Ef){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var r=!1,n="",i=Da,o=ja,l=La;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,r,n,i,o,l,0,null),e[Be]=t.current,Oc(8===e.nodeType?e.parentNode:e),new vf(t)},t.hydrateRoot=function(e,t,r){if(!s(e))throw Error(a(299));var n=!1,i="",o=Da,l=ja,u=La,c=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(u=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(c=r.formState)),(t=Ud(e,1,!0,t,0,n,i,o,l,u,0,c)).context=Md(null),r=t.current,(i=Ps(n=Tu())).callback=null,Os(r,i,n),t.current.lanes=n,Oe(t,n),gc(t),e[Be]=t.current,Oc(e),new mf(t)},t.version="19.0.0"},7045:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(9381),{AggregateError:o}=r(1632),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,c={};function d(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];super(function(e,t,r){if("function"===typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((e,t,r)=>{d("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],a=[],s=[];for(const i of t)d("string"===typeof i,"All expected entries have to be of type string"),l.includes(i)?o.push(i.toLowerCase()):u.test(i)?a.push(i):(d("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"===typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"===typeof r){var c;if(null!==(c=r.constructor)&&void 0!==c&&c.name)n+=`. Received an instance of ${r.constructor.name}`;else{n+=`. Received ${i(r,{depth:-1})}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",n=i(t);n.length>128&&(n=n.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!==r&&void 0!==r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n;d(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>`"${e}"`)).join(" or "),i){case 1:n+=`The ${t[0]} argument`;break;case 2:n+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const e=t.pop();n+=`The ${t.join(", ")}, and ${e} arguments`}}return`${n} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"===typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:c}},7058:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2142),i=r(2510),o=r(6605),a=r(1268),s=r(9306);const l=e=>e.toLowerCase().replace(/^application\//,""),u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{typ:u}=r;if(u&&("string"!==typeof e.typ||l(e.typ)!==l(u)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let c;try{c=JSON.parse(i.D0.decode(t))}catch(_){}if(!(0,s.A)(c))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{requiredClaims:d=[],issuer:f,subject:h,audience:p,maxTokenAge:g}=r;void 0!==g&&d.push("iat"),void 0!==p&&d.push("aud"),void 0!==h&&d.push("sub"),void 0!==f&&d.push("iss");for(const i of new Set(d.reverse()))if(!(i in c))throw new n.JWTClaimValidationFailed(`missing required "${i}" claim`,i,"missing");if(f&&!(Array.isArray(f)?f:[f]).includes(c.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(h&&c.sub!==h)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(p&&(y=c.aud,v="string"===typeof p?[p]:p,!("string"===typeof y?v.includes(y):Array.isArray(y)&&v.some(Set.prototype.has.bind(new Set(y))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var y,v;let m;switch(typeof r.clockTolerance){case"string":m=(0,a.A)(r.clockTolerance);break;case"number":m=r.clockTolerance;break;case"undefined":m=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=r,w=(0,o.A)(b||new Date);if((void 0!==c.iat||g)&&"number"!==typeof c.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==c.nbf){if("number"!==typeof c.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(c.nbf>w+m)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==c.exp){if("number"!==typeof c.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(c.exp<=w-m)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(g){const e=w-c.iat;if(e-m>("number"===typeof g?g:(0,a.A)(g)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-m)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return c}},7081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(5092)),i=a(r(8082)),o=r(6318);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},7083:(e,t)=>{"use strict";function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!i(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!i(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map((e=>e.join(""))).join("/")}function n(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const i=e.indexOf("/",n);if(i<0)return e;return e.substr(0,i)+r(e.substr(i))}function i(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeDotSegmentsOfPath=t.removeDotSegments=t.resolve=void 0,t.resolve=function(e,t){const i=(t=t||"").indexOf("#");if(i>0&&(t=t.substr(0,i)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return n(e,t)}const o=e.indexOf(":");if(o>=0)return n(e,o);const a=t.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,a+1);if(0===e.indexOf("//"))return s+n(e,o);let l;if(t.indexOf("//",a)===a+1){if(l=t.indexOf("/",a+3),l<0)return t.length>a+3?t+"/"+n(e,o):s+n(e,o)}else if(l=t.indexOf("/",a+1),l<0)return s+n(e,o);if(0===e.indexOf("/"))return t.substr(0,l)+r(e);let u=t.substr(l);const c=u.lastIndexOf("/");return c>=0&&c<u.length-1&&(u=u.substr(0,c+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=u+e),t.substr(0,l)+e},t.removeDotSegments=r,t.removeDotSegmentsOfPath=n},7103:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/",a={xsd:{decimal:`${i}decimal`,boolean:`${i}boolean`,double:`${i}double`,integer:`${i}integer`,string:`${i}string`},rdf:{type:`${n}type`,nil:`${n}nil`,first:`${n}first`,rest:`${n}rest`,langString:`${n}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${o}reify#forSome`,forAll:`${o}reify#forAll`},log:{implies:`${o}log#implies`,isImpliedBy:`${o}log#isImpliedBy`}}},7109:function(e,t,r){var n=r(4756);!function(e,t){"use strict";function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var l={init:"init"},u=function(e){var t=e.value;return void 0===t?"":t},c=function(){return t.createElement(t.Fragment,null,"\xa0")},d={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=t.style,n=t.className;return e=o({},e,{},a(t,["style","className"])),r&&(e.style=e.style?o({},e.style||{},{},r||{}):r),n&&(e.className=e.className?e.className+" "+n:n),""===e.className&&delete e.className,e}),{})}var h=function(e,t){return void 0===t&&(t={}),function(r){return void 0===r&&(r={}),[].concat(e,[r]).reduce((function(e,n){return function e(t,r,n){return"function"==typeof r?e({},r(t,n)):Array.isArray(r)?f.apply(void 0,[t].concat(r)):f(t,r)}(e,n,o({},t,{userProps:r}))}),{})}},p=function(e,t,r,n){return void 0===r&&(r={}),e.reduce((function(e,t){return t(e,r)}),t)},g=function(e,t,r){return void 0===r&&(r={}),e.forEach((function(e){e(t,r)}))};function y(e,t,r,n){e.findIndex((function(e){return e.pluginName===r})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function v(e,t){return"function"==typeof e?e(t):e}function m(e){var r=t.useRef();return r.current=e,t.useCallback((function(){return r.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function w(e,r){var n=t.useRef(!1);b((function(){n.current&&e(),n.current=!0}),r)}function _(e,t,r){return void 0===r&&(r={}),function(n,i){void 0===i&&(i={});var a="string"==typeof n?t[n]:n;if(void 0===a)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return S(a,o({},e,{column:t},r,{},i))}}function S(e,r){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?t.createElement(e,r):e;var n}function E(e,t,r){return void 0===r&&(r=0),e.map((function(e){return x(e=o({},e,{parent:t,depth:r})),e.columns&&(e.columns=E(e.columns,e,r+1)),e}))}function A(e){return P(e,"columns")}function x(e){var t=e.id,r=e.accessor,n=e.Header;if("string"==typeof r){t=t||r;var i=r.split(".");r=function(e){return function(e,t,r){if(!t)return e;var n,i="function"==typeof t?t:JSON.stringify(t),o=I.get(i)||function(){var e=function(e){return function e(t,r){if(void 0===r&&(r=[]),Array.isArray(t))for(var n=0;n<t.length;n+=1)e(t[n],r);else r.push(t);return r}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(L,".").replace(U,"").split(".")}(t);return I.set(i,e),e}();try{n=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==n?n:r}(e,i)}}if(!t&&"string"==typeof n&&n&&(t=n),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:r}),e}function R(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:c,Footer:c},d,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function k(e,t,r){void 0===r&&(r=function(){return{}});for(var n=[],i=e,a=0,s=function(){return a++},l=function(){var e={headers:[]},a=[],l=i.some((function(e){return e.parent}));i.forEach((function(n){var i,u=[].concat(a).reverse()[0];l&&(i=n.parent?o({},n.parent,{originalId:n.parent.id,id:n.parent.id+"_"+s(),headers:[n]},r(n)):R(o({originalId:n.id+"_placeholder",id:n.id+"_placeholder_"+s(),placeholderOf:n,headers:[n]},r(n)),t),u&&u.originalId===i.originalId?u.headers.push(n):a.push(i)),e.headers.push(n)})),n.push(e),i=a};i.length;)l();return n.reverse()}var I=new Map;function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0;n<t.length;n+=1)if(void 0!==t[n])return t[n]}function T(e){if("function"==typeof e)return e}function P(e,t){var r=[];return function e(n){n.forEach((function(n){n[t]?e(n[t]):r.push(n)}))}(e),r}function O(e,t){var r=t.manualExpandedKey,n=t.expanded,i=t.expandSubRows,o=void 0===i||i,a=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[r]||n[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),a}function N(e,t,r){return T(e)||t[e]||r[e]||r.text}function F(e,t,r){return e?e(t,r):void 0===t}function D(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var j=null,L=/\[/g,U=/\]/g,M=function(e){return o({role:"table"},e)},B=function(e){return o({role:"rowgroup"},e)},H=function(e,t){var r=t.column;return o({key:"header_"+r.id,colSpan:r.totalVisibleHeaderCount,role:"columnheader"},e)},W=function(e,t){var r=t.column;return o({key:"footer_"+r.id,colSpan:r.totalVisibleHeaderCount},e)},$=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},V=function(e,t){return o({key:"footerGroup_"+t.index},e)},K=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},J=function(e,t){var r=t.cell;return o({key:"cell_"+r.row.id+"_"+r.column.id,role:"cell"},e)};function z(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[M],getTableBodyProps:[B],getHeaderGroupProps:[$],getFooterGroupProps:[V],getHeaderProps:[H],getFooterProps:[W],getRowProps:[K],getCellProps:[J],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var G=function(e){e.getToggleHiddenProps=[q],e.getToggleHideAllColumnsProps=[Y],e.stateReducers.push(Q),e.useInstanceBeforeDimensions.push(X),e.headerGroupsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.hiddenColumns])})),e.useInstance.push(Z)};G.pluginName="useColumnVisibility";var q=function(e,t){var r=t.column;return[e,{onChange:function(e){r.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:r.isVisible,title:"Toggle Column Visible"}]},Y=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!r.allColumnsHidden&&!r.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!r.allColumnsHidden&&r.state.hiddenColumns.length}]};function Q(e,t,r,n){if(t.type===l.init)return o({hiddenColumns:[]},e);if(t.type===l.resetHiddenColumns)return o({},e,{hiddenColumns:n.initialState.hiddenColumns||[]});if(t.type===l.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===l.setHiddenColumns?o({},e,{hiddenColumns:v(t.value,e.hiddenColumns)}):t.type===l.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?n.allColumns.map((function(e){return e.id})):[]}):void 0}function X(e){var r=e.headers,n=e.state.hiddenColumns;t.useRef(!1).current;var i=0;r.forEach((function(e){return i+=function e(t,r){t.isVisible=r&&!n.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(r){return i+=e(r,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Z(e){var r=e.columns,n=e.flatHeaders,i=e.dispatch,o=e.allColumns,a=e.getHooks,s=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,d=m(e),f=o.length===s.length,p=t.useCallback((function(e,t){return i({type:l.toggleHideColumn,columnId:e,value:t})}),[i]),g=t.useCallback((function(e){return i({type:l.setHiddenColumns,value:e})}),[i]),y=t.useCallback((function(e){return i({type:l.toggleHideAllColumns,value:e})}),[i]),v=h(a().getToggleHideAllColumnsProps,{instance:d()});n.forEach((function(e){e.toggleHidden=function(t){i({type:l.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=h(a().getToggleHiddenProps,{instance:d(),column:e})}));var b=m(c);w((function(){b()&&i({type:l.resetHiddenColumns})}),[i,r]),Object.assign(e,{allColumnsHidden:f,toggleHideColumn:p,setHiddenColumns:g,toggleHideAllColumns:y,getToggleHideAllColumnsProps:v})}var ee={},te={},re=function(e,t,r){return e},ne=function(e,t){return e.subRows||[]},ie=function(e,t,r){return""+(r?[r.id,t].join("."):t)},oe=function(e){return e};function ae(e){var t=e.initialState,r=void 0===t?ee:t,n=e.defaultColumn,i=void 0===n?te:n,s=e.getSubRows,l=void 0===s?ne:s,u=e.getRowId,c=void 0===u?ie:u,d=e.stateReducer,f=void 0===d?re:d,h=e.useControlledState,p=void 0===h?oe:h;return o({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:r,defaultColumn:i,getSubRows:l,getRowId:c,stateReducer:f,useControlledState:p})}function se(e,t){void 0===t&&(t=0);var r=0,n=0,i=0,o=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var s=se(a,t),l=s[0],u=s[1],c=s[2],d=s[3];e.totalMinWidth=l,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,r+=e.totalMinWidth,n+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[r,n,i,o]}function le(e){var t=e.data,r=e.rows,n=e.flatRows,i=e.rowsById,o=e.column,a=e.getRowId,s=e.getSubRows,l=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(r,c,d,f,h){void 0===d&&(d=0);var g=r,y=a(r,c,f),v=i[y];if(v)v.subRows&&v.originalSubRows.forEach((function(t,r){return e(t,r,d+1,v)}));else if((v={id:y,original:g,index:c,depth:d,cells:[{}]}).cells.map=D,v.cells.filter=D,v.cells.forEach=D,v.cells[0].getCellProps=D,v.values={},h.push(v),n.push(v),i[y]=v,v.originalSubRows=s(r,c),v.originalSubRows){var m=[];v.originalSubRows.forEach((function(t,r){return e(t,r,d+1,v,m)})),v.subRows=m}o.accessor&&(v.values[o.id]=o.accessor(r,c,v,h,t)),v.values[o.id]=p(l,v.values[o.id],{row:v,column:o,instance:u()})}(e,c,0,void 0,r)}))}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var ue=function(e){e.getToggleAllRowsExpandedProps=[ce],e.getToggleRowExpandedProps=[de],e.stateReducers.push(fe),e.useInstance.push(he),e.prepareRow.push(pe)};ue.pluginName="useExpanded";var ce=function(e,t){var r=t.instance;return[e,{onClick:function(e){r.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},de=function(e,t){var r=t.row;return[e,{onClick:function(){r.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function fe(e,t,r,n){if(t.type===l.init)return o({expanded:{}},e);if(t.type===l.resetExpanded)return o({},e,{expanded:n.initialState.expanded||{}});if(t.type===l.toggleAllRowsExpanded){var i=t.value,u=n.rowsById,c=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==i?i:!c){var d={};return Object.keys(u).forEach((function(e){d[e]=!0})),o({},e,{expanded:d})}return o({},e,{expanded:{}})}if(t.type===l.toggleRowExpanded){var f,h=t.id,p=t.value,g=e.expanded[h],y=void 0!==p?p:!g;if(!g&&y)return o({},e,{expanded:o({},e.expanded,(f={},f[h]=!0,f))});if(g&&!y){var v=e.expanded;return v[h],o({},e,{expanded:a(v,[h].map(s))})}return e}}function he(e){var r=e.data,n=e.rows,i=e.rowsById,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.paginateExpandedRows,u=void 0===s||s,c=e.expandSubRows,d=void 0===c||c,f=e.autoResetExpanded,p=void 0===f||f,g=e.getHooks,v=e.plugins,b=e.state.expanded,_=e.dispatch;y(v,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var S=m(p),E=Boolean(Object.keys(i).length&&Object.keys(b).length);E&&Object.keys(i).some((function(e){return!b[e]}))&&(E=!1),w((function(){S()&&_({type:l.resetExpanded})}),[_,r]);var A=t.useCallback((function(e,t){_({type:l.toggleRowExpanded,id:e,value:t})}),[_]),x=t.useCallback((function(e){return _({type:l.toggleAllRowsExpanded,value:e})}),[_]),R=t.useMemo((function(){return u?O(n,{manualExpandedKey:a,expanded:b,expandSubRows:d}):n}),[u,n,a,b,d]),k=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var r=e.split(".");t=Math.max(t,r.length)})),t}(b)}),[b]),I=m(e),C=h(g().getToggleAllRowsExpandedProps,{instance:I()});Object.assign(e,{preExpandedRows:n,expandedRows:R,rows:R,expandedDepth:k,isAllRowsExpanded:E,toggleRowExpanded:A,toggleAllRowsExpanded:x,getToggleAllRowsExpandedProps:C})}function pe(e,t){var r=t.instance.getHooks,n=t.instance;e.toggleRowExpanded=function(t){return n.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=h(r().getToggleRowExpandedProps,{instance:n,row:e})}var ge=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return String(n).toLowerCase().includes(String(r).toLowerCase())}))}))};ge.autoRemove=function(e){return!e};var ye=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n).toLowerCase()===String(r).toLowerCase()}))}))};ye.autoRemove=function(e){return!e};var ve=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n)===String(r)}))}))};ve.autoRemove=function(e){return!e};var me=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(r)}))}))};me.autoRemove=function(e){return!e||!e.length};var be=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.every((function(e){return n.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.some((function(e){return n.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return r.includes(n)}))}))};_e.autoRemove=function(e){return!e||!e.length};var Se=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]===r}))}))};Se.autoRemove=function(e){return void 0===e};var Ee=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]==r}))}))};Ee.autoRemove=function(e){return null==e};var Ae=function(e,t,r){var n=r||[],i=n[0],o=n[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r>=i&&r<=o}))}))};Ae.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var xe=Object.freeze({__proto__:null,text:ge,exactText:ye,exactTextCase:ve,includes:me,includesAll:be,includesSome:we,includesValue:_e,exact:Se,equals:Ee,between:Ae});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Re=function(e){e.stateReducers.push(ke),e.useInstance.push(Ie)};function ke(e,t,r,n){if(t.type===l.init)return o({filters:[]},e);if(t.type===l.resetFilters)return o({},e,{filters:n.initialState.filters||[]});if(t.type===l.setFilter){var i=t.columnId,a=t.filterValue,s=n.allColumns,u=n.filterTypes,c=s.find((function(e){return e.id===i}));if(!c)throw new Error("React-Table: Could not find a column with id: "+i);var d=N(c.filter,u||{},xe),f=e.filters.find((function(e){return e.id===i})),h=v(a,f&&f.value);return F(d.autoRemove,h,c)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,f?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:h}:e}))}:{filters:[].concat(e.filters,[{id:i,value:h}])})}if(t.type===l.setAllFilters){var p=t.filters,g=n.allColumns,y=n.filterTypes;return o({},e,{filters:v(p,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!F(N(t.filter,y||{},xe).autoRemove,e.value,t)}))})}}function Ie(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,d=void 0!==c&&c,f=e.disableFilters,h=e.state.filters,p=e.dispatch,g=e.autoResetFilters,y=void 0===g||g,v=t.useCallback((function(e,t){p({type:l.setFilter,columnId:e,filterValue:t})}),[p]),b=t.useCallback((function(e){p({type:l.setAllFilters,filters:e})}),[p]);a.forEach((function(e){var t=e.id,r=e.accessor,n=e.defaultCanFilter,i=e.disableFilters;e.canFilter=r?C(!0!==i&&void 0,!0!==f&&void 0,!0):C(n,d,!1),e.setFilter=function(t){return v(e.id,t)};var o=h.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var _=t.useMemo((function(){if(u||!h.length)return[n,i,o];var e=[],t={};return[function r(n,i){void 0===i&&(i=0);var o=n;return(o=h.reduce((function(e,t){var r=t.id,n=t.value,o=a.find((function(e){return e.id===r}));if(!o)return e;0===i&&(o.preFilteredRows=e);var l=N(o.filter,s||{},xe);return l?(o.filteredRows=l(e,[r],n),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),n)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows&&(n.subRows=n.subRows&&n.subRows.length>0?r(n.subRows,i+1):n.subRows)})),o}(n),e,t]}),[u,h,n,i,o,a,s]),S=_[0],E=_[1],A=_[2];t.useMemo((function(){a.filter((function(e){return!h.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=S,e.filteredRows=S}))}),[S,h,a]);var x=m(y);w((function(){x()&&p({type:l.resetFilters})}),[p,u?null:r]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:S,filteredFlatRows:E,filteredRowsById:A,rows:S,flatRows:E,rowsById:A,setFilter:v,setAllFilters:b})}Re.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var Ce=function(e){e.stateReducers.push(Te),e.useInstance.push(Pe)};function Te(e,t,r,n){if(t.type===l.resetGlobalFilter)return o({},e,{globalFilter:n.initialState.globalFilter||void 0});if(t.type===l.setGlobalFilter){var i=t.filterValue,s=n.userFilterTypes,u=N(n.globalFilter,s||{},xe),c=v(i,e.globalFilter);return F(u.autoRemove,c)?(e.globalFilter,a(e,["globalFilter"])):o({},e,{globalFilter:c})}}function Pe(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,d=e.state.globalFilter,f=e.dispatch,h=e.autoResetGlobalFilter,p=void 0===h||h,g=e.disableGlobalFilter,y=t.useCallback((function(e){f({type:l.setGlobalFilter,filterValue:e})}),[f]),v=t.useMemo((function(){if(c||void 0===d)return[n,i,o];var e=[],t={},r=N(u,s||{},xe);if(!r)return console.warn("Could not find a valid 'globalFilter' option."),n;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=C(!0!==t&&void 0,!0!==g&&void 0,!0)}));var l=a.filter((function(e){return!0===e.canFilter}));return[function n(i){return(i=r(i,l.map((function(e){return e.id})),d)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows=r.subRows&&r.subRows.length?n(r.subRows):r.subRows})),i}(n),e,t]}),[c,d,u,s,a,n,i,o,g]),b=v[0],_=v[1],S=v[2],E=m(p);w((function(){E()&&f({type:l.resetGlobalFilter})}),[f,c?null:r]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:_,globalFilteredRowsById:S,rows:b,flatRows:_,rowsById:S,setGlobalFilter:y,disableGlobalFilter:g})}function Oe(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Ce.pluginName="useGlobalFilter";var Ne=Object.freeze({__proto__:null,sum:Oe,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,r=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),r=Math.max(r,e))})),t+".."+r},average:function(e){return Oe(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),r=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?r[t]:(r[t-1]+r[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Fe=[],De={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var je=function(e){e.getGroupByToggleProps=[Le],e.stateReducers.push(Ue),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.groupBy])})),e.visibleColumns.push(Me),e.useInstance.push(He),e.prepareRow.push(We)};je.pluginName="useGroupBy";var Le=function(e,t){var r=t.header;return[e,{onClick:r.canGroupBy?function(e){e.persist(),r.toggleGroupBy()}:void 0,style:{cursor:r.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Ue(e,t,r,n){if(t.type===l.init)return o({groupBy:[]},e);if(t.type===l.resetGroupBy)return o({},e,{groupBy:n.initialState.groupBy||[]});if(t.type===l.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===l.toggleGroupBy){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.groupBy.includes(i);return o({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Me(e,t){var r=t.instance.state.groupBy,n=r.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!r.includes(e.id)}));return(e=[].concat(n,i)).forEach((function(e){e.isGrouped=r.includes(e.id),e.groupedIndex=r.indexOf(e.id)})),e}var Be={};function He(e){var r=e.data,n=e.rows,i=e.flatRows,a=e.rowsById,s=e.allColumns,u=e.flatHeaders,c=e.groupByFn,d=void 0===c?$e:c,f=e.manualGroupBy,p=e.aggregations,g=void 0===p?Be:p,v=e.plugins,b=e.state.groupBy,_=e.dispatch,S=e.autoResetGroupBy,E=void 0===S||S,A=e.disableGroupBy,x=e.defaultCanGroupBy,R=e.getHooks;y(v,["useColumnOrder","useFilters"],"useGroupBy");var k=m(e);s.forEach((function(t){var r=t.accessor,n=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=r?C(t.canGroupBy,!0!==i&&void 0,!0!==A&&void 0,!0):C(t.canGroupBy,n,x,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var I=t.useCallback((function(e,t){_({type:l.toggleGroupBy,columnId:e,value:t})}),[_]),T=t.useCallback((function(e){_({type:l.setGroupBy,value:e})}),[_]);u.forEach((function(e){e.getGroupByToggleProps=h(R().getGroupByToggleProps,{instance:k(),header:e})}));var O=t.useMemo((function(){if(f||!b.length)return[n,i,a,Fe,De,i,a];var e=b.filter((function(e){return s.find((function(t){return t.id===e}))})),t=[],r={},l=[],u={},c=[],h={},p=function n(i,a,f){if(void 0===a&&(a=0),a===e.length)return i.map((function(e){return o({},e,{depth:a})}));var p=e[a],y=d(i,p);return Object.entries(y).map((function(i,o){var d=i[0],y=i[1],v=p+":"+d,m=n(y,a+1,v=f?f+">"+v:v),b=a?P(y,"leafRows"):y,w=function(t,r,n){var i={};return s.forEach((function(o){if(e.includes(o.id))i[o.id]=r[0]?r[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:g[o.aggregate]||Ne[o.aggregate];if(a){var s=r.map((function(e){return e.values[o.id]})),l=t.map((function(e){var t=e.values[o.id];if(!n&&o.aggregateValue){var r="function"==typeof o.aggregateValue?o.aggregateValue:g[o.aggregateValue]||Ne[o.aggregateValue];if(!r)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=r(t,e,o)}return t}));i[o.id]=a(l,s)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,y,a),_={id:v,isGrouped:!0,groupByID:p,groupByVal:d,values:w,subRows:m,leafRows:b,depth:a,index:o};return m.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),h[e.id]=e)})),_}))}(n);return p.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),h[e.id]=e)})),[p,t,r,l,u,c,h]}),[f,b,n,i,a,s,g,d]),N=O[0],F=O[1],D=O[2],j=O[3],L=O[4],U=O[5],M=O[6],B=m(E);w((function(){B()&&_({type:l.resetGroupBy})}),[_,f?null:r]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:i,preGroupedRowsById:a,groupedRows:N,groupedFlatRows:F,groupedRowsById:D,onlyGroupedFlatRows:j,onlyGroupedRowsById:L,nonGroupedFlatRows:U,nonGroupedRowsById:M,rows:N,flatRows:F,rowsById:D,toggleGroupBy:I,setGroupBy:T})}function We(e){e.allCells.forEach((function(t){var r;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(r=e.subRows)?void 0:r.length)}))}function $e(e,t){return e.reduce((function(e,r,n){var i=""+r.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(r),e}),{})}var Ve=/([0-9]+)/gm;function Ke(e,t){return e===t?0:e>t?1:-1}function Je(e,t,r){return[e.values[r],t.values[r]]}function ze(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Ge=Object.freeze({__proto__:null,alphanumeric:function(e,t,r){var n=Je(e,t,r),i=n[0],o=n[1];for(i=ze(i),o=ze(o),i=i.split(Ve).filter(Boolean),o=o.split(Ve).filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),l=parseInt(a,10),u=parseInt(s,10),c=[l,u].sort();if(isNaN(c[0])){if(a>s)return 1;if(s>a)return-1}else{if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}}return i.length-o.length},datetime:function(e,t,r){var n=Je(e,t,r),i=n[0],o=n[1];return Ke(i=i.getTime(),o=o.getTime())},basic:function(e,t,r){var n=Je(e,t,r);return Ke(n[0],n[1])},string:function(e,t,r){var n=Je(e,t,r),i=n[0],o=n[1];for(i=i.split("").filter(Boolean),o=o.split("").filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),l=a.toLowerCase(),u=s.toLowerCase();if(l>u)return 1;if(u>l)return-1;if(a>s)return 1;if(s>a)return-1}return i.length-o.length},number:function(e,t,r){var n=Je(e,t,r),i=n[0],o=n[1],a=/[^0-9.]/gi;return Ke(i=Number(String(i).replace(a,"")),o=Number(String(o).replace(a,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",d.sortType="alphanumeric",d.sortDescFirst=!1;var qe=function(e){e.getSortByToggleProps=[Ye],e.stateReducers.push(Qe),e.useInstance.push(Xe)};qe.pluginName="useSortBy";var Ye=function(e,t){var r=t.instance,n=t.column,i=r.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:n.canSort?function(e){e.persist(),n.toggleSortBy(void 0,!r.disableMultiSort&&o(e))}:void 0,style:{cursor:n.canSort?"pointer":void 0},title:n.canSort?"Toggle SortBy":void 0}]};function Qe(e,t,r,n){if(t.type===l.init)return o({sortBy:[]},e);if(t.type===l.resetSortBy)return o({},e,{sortBy:n.initialState.sortBy||[]});if(t.type===l.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===l.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===l.toggleSortBy){var i,a=t.columnId,s=t.desc,u=t.multi,c=n.allColumns,d=n.disableMultiSort,f=n.disableSortRemove,h=n.disableMultiRemove,p=n.maxMultiSortColCount,g=void 0===p?Number.MAX_SAFE_INTEGER:p,y=e.sortBy,v=c.find((function(e){return e.id===a})).sortDescFirst,m=y.find((function(e){return e.id===a})),b=y.findIndex((function(e){return e.id===a})),w=null!=s,_=[];return"toggle"!==(i=!d&&u?m?"toggle":"add":b!==y.length-1||1!==y.length?"replace":m?"toggle":"replace")||f||w||u&&h||!(m&&m.desc&&!v||!m.desc&&v)||(i="remove"),"replace"===i?_=[{id:a,desc:w?s:v}]:"add"===i?(_=[].concat(y,[{id:a,desc:w?s:v}])).splice(0,_.length-g):"toggle"===i?_=y.map((function(e){return e.id===a?o({},e,{desc:w?s:!m.desc}):e})):"remove"===i&&(_=y.filter((function(e){return e.id!==a}))),o({},e,{sortBy:_})}}function Xe(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.allColumns,a=e.orderByFn,s=void 0===a?Ze:a,u=e.sortTypes,c=e.manualSortBy,d=e.defaultCanSort,f=e.disableSortBy,p=e.flatHeaders,g=e.state.sortBy,v=e.dispatch,b=e.plugins,_=e.getHooks,S=e.autoResetSortBy,E=void 0===S||S;y(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var A=t.useCallback((function(e){v({type:l.setSortBy,sortBy:e})}),[v]),x=t.useCallback((function(e,t,r){v({type:l.toggleSortBy,columnId:e,desc:t,multi:r})}),[v]),R=m(e);p.forEach((function(e){var t=e.accessor,r=e.canSort,n=e.disableSortBy,i=e.id,o=t?C(!0!==n&&void 0,!0!==f&&void 0,!0):C(d,r,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,r){return x(e.id,t,r)},e.clearSortBy=function(){v({type:l.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=h(_().getSortByToggleProps,{instance:R(),column:e});var a=g.find((function(e){return e.id===i}));e.isSorted=!!a,e.sortedIndex=g.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var k=t.useMemo((function(){if(c||!g.length)return[n,i];var e=[],t=g.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function r(n){var i=s(n,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var r=t.sortType,n=T(r)||(u||{})[r]||Ge[r];if(!n)throw new Error("React-Table: Could not find a valid sortType of '"+r+"' for column '"+e.id+"'.");return function(t,r){return n(t,r,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=r(t.subRows))})),i}(n),e]}),[c,g,n,i,o,s,u]),I=k[0],P=k[1],O=m(E);w((function(){O()&&v({type:l.resetSortBy})}),[c?null:r]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:i,sortedRows:I,sortedFlatRows:P,rows:I,flatRows:P,setSortBy:A,toggleSortBy:x})}function Ze(e,t,r){return[].concat(e).sort((function(e,n){for(var i=0;i<t.length;i+=1){var o=t[i],a=!1===r[i]||"desc"===r[i],s=o(e,n);if(0!==s)return a?-s:s}return r[0]?e.index-n.index:n.index-e.index}))}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(rt)};function tt(e,t,r,n){if(t.type===l.init)return o({pageSize:10,pageIndex:0},e);if(t.type===l.resetPage)return o({},e,{pageIndex:n.initialState.pageIndex||0});if(t.type===l.gotoPage){var i=n.pageCount,a=n.page,s=v(t.pageIndex,e.pageIndex),u=!1;return s>e.pageIndex?u=-1===i?a.length>=e.pageSize:s<i:s<e.pageIndex&&(u=s>-1),u?o({},e,{pageIndex:s}):e}if(t.type===l.setPageSize){var c=t.pageSize,d=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(d/c),pageSize:c})}}function rt(e){var r=e.rows,n=e.autoResetPage,i=void 0===n||n,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,d=void 0===c||c,f=e.expandSubRows,h=void 0===f||f,p=e.state,g=p.pageSize,v=p.pageIndex,b=p.expanded,_=p.globalFilter,S=p.filters,E=p.groupBy,A=p.sortBy,x=e.dispatch,R=e.data,k=e.manualPagination;y(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var I=m(i);w((function(){I()&&x({type:l.resetPage})}),[x,k?null:R,_,S,E,A]);var C=k?u:Math.ceil(r.length/g),T=t.useMemo((function(){return C>0?[].concat(new Array(C)).fill(null).map((function(e,t){return t})):[]}),[C]),P=t.useMemo((function(){var e;if(k)e=r;else{var t=g*v,n=t+g;e=r.slice(t,n)}return d?e:O(e,{manualExpandedKey:a,expanded:b,expandSubRows:h})}),[h,b,a,k,v,g,d,r]),N=v>0,F=-1===C?P.length>=g:v<C-1,D=t.useCallback((function(e){x({type:l.gotoPage,pageIndex:e})}),[x]),j=t.useCallback((function(){return D((function(e){return e-1}))}),[D]),L=t.useCallback((function(){return D((function(e){return e+1}))}),[D]),U=t.useCallback((function(e){x({type:l.setPageSize,pageSize:e})}),[x]);Object.assign(e,{pageOptions:T,pageCount:C,page:P,canPreviousPage:N,canNextPage:F,gotoPage:D,previousPage:j,nextPage:L,setPageSize:U})}et.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[ot],e.stateReducers.push(at),e.useInstanceAfterData.push(st),e.allColumns.push(lt),e.accessValue.push(ut),e.materializedColumns.push(ct),e.materializedColumnsDeps.push(dt),e.visibleColumns.push(ft),e.visibleColumnsDeps.push(ht),e.useInstance.push(pt),e.prepareRow.push(gt)};nt.pluginName="usePivotColumns";var it=[],ot=function(e,t){var r=t.header;return[e,{onClick:r.canPivot?function(e){e.persist(),r.togglePivot()}:void 0,style:{cursor:r.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,r,n){if(t.type===l.init)return o({pivotColumns:it},e);if(t.type===l.resetPivot)return o({},e,{pivotColumns:n.initialState.pivotColumns||it});if(t.type===l.togglePivot){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function lt(e,t){var r=t.instance;return e.forEach((function(e){e.isPivotSource=r.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ut(e,t){var r=t.column;return r.uniqueValues&&void 0!==e&&r.uniqueValues.add(e),e}function ct(e,t){var r=t.instance,n=r.allColumns,i=r.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return n.find((function(t){return t.id===e}))})).filter(Boolean),s=n.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),l=A(function e(t,r,n){void 0===t&&(t=0),void 0===n&&(n=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:r,depth:t,id:r?r.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=e(t+1,s,[].concat(n,[function(e){return e.values[i.id]===a}])),s})):s.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:r,depth:t,id:""+(r?r.id+"."+e.id:e.id),accessor:function(t,r,i){if(n.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,l)}function dt(e,t){var r=t.instance.state,n=r.pivotColumns,i=r.groupBy;return[].concat(e,[n,i])}function ft(e,t){var r=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),r.pivotColumns.length&&r.groupBy&&r.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function ht(e,t){var r=t.instance;return[].concat(e,[r.state.pivotColumns,r.state.groupBy])}function pt(e){var t=e.columns,r=e.allColumns,n=e.flatHeaders,i=e.getHooks,o=e.plugins,a=e.dispatch,s=e.autoResetPivot,u=void 0===s||s,c=e.manaulPivot,d=e.disablePivot,f=e.defaultCanPivot;y(o,["useGroupBy"],"usePivotColumns");var p=m(e);r.forEach((function(t){var r=t.accessor,n=t.defaultPivot,i=t.disablePivot;t.canPivot=r?C(t.canPivot,!0!==i&&void 0,!0!==d&&void 0,!0):C(t.canPivot,n,f,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),n.forEach((function(e){e.getPivotToggleProps=h(i().getPivotToggleProps,{instance:p(),header:e})}));var g=m(u);w((function(){g()&&a({type:l.resetPivot})}),[a,c?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:l.togglePivot,columnId:e,value:t})}})}function gt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var yt=function(e){e.getToggleRowSelectedProps=[vt],e.getToggleAllRowsSelectedProps=[mt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(wt),e.useInstance.push(_t),e.prepareRow.push(St)};yt.pluginName="useRowSelect";var vt=function(e,t){var r=t.instance,n=t.row,i=r.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){n.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!n.original||!n.original[o])||n.isSelected,title:"Toggle Row Selected",indeterminate:n.isSomeSelected}]},mt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!r.isAllRowsSelected&&Object.keys(r.state.selectedRowIds).length)}]},bt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!r.isAllPageRowsSelected&&r.page.some((function(e){var t=e.id;return r.state.selectedRowIds[t]})))}]};function wt(e,t,r,n){if(t.type===l.init)return o({selectedRowIds:{}},e);if(t.type===l.resetSelectedRows)return o({},e,{selectedRowIds:n.initialState.selectedRowIds||{}});if(t.type===l.toggleAllRowsSelected){var i=t.value,a=n.isAllRowsSelected,s=n.rowsById,u=n.nonGroupedRowsById,c=void 0===u?s:u,d=void 0!==i?i:!a,f=Object.assign({},e.selectedRowIds);return d?Object.keys(c).forEach((function(e){f[e]=!0})):Object.keys(c).forEach((function(e){delete f[e]})),o({},e,{selectedRowIds:f})}if(t.type===l.toggleRowSelected){var h=t.id,p=t.value,g=n.rowsById,y=n.selectSubRows,v=void 0===y||y,m=n.getSubRows,b=e.selectedRowIds[h],w=void 0!==p?p:!b;if(b===w)return e;var _=o({},e.selectedRowIds);return function e(t){var r=g[t];if(r&&(r.isGrouped||(w?_[t]=!0:delete _[t]),v&&m(r)))return m(r).forEach((function(t){return e(t.id)}))}(h),o({},e,{selectedRowIds:_})}if(t.type===l.toggleAllPageRowsSelected){var S=t.value,E=n.page,A=n.rowsById,x=n.selectSubRows,R=void 0===x||x,k=n.isAllPageRowsSelected,I=n.getSubRows,C=void 0!==S?S:!k,T=o({},e.selectedRowIds);return E.forEach((function(e){return function e(t){var r=A[t];if(r.isGrouped||(C?T[t]=!0:delete T[t]),R&&I(r))return I(r).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:T})}return e}function _t(e){var r=e.data,n=e.rows,i=e.getHooks,o=e.plugins,a=e.rowsById,s=e.nonGroupedRowsById,u=void 0===s?a:s,c=e.autoResetSelectedRows,d=void 0===c||c,f=e.state.selectedRowIds,p=e.selectSubRows,g=void 0===p||p,v=e.dispatch,b=e.page,_=e.getSubRows;y(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var S=t.useMemo((function(){var e=[];return n.forEach((function(t){var r=g?function e(t,r,n){if(r[t.id])return!0;var i=n(t);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(t){a&&!o||(e(t,r,n)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(t,f,_):!!f[t.id];t.isSelected=!!r,t.isSomeSelected=null===r,r&&e.push(t)})),e}),[n,g,f,_]),E=Boolean(Object.keys(u).length&&Object.keys(f).length),A=E;E&&Object.keys(u).some((function(e){return!f[e]}))&&(E=!1),E||b&&b.length&&b.some((function(e){var t=e.id;return!f[t]}))&&(A=!1);var x=m(d);w((function(){x()&&v({type:l.resetSelectedRows})}),[v,r]);var R=t.useCallback((function(e){return v({type:l.toggleAllRowsSelected,value:e})}),[v]),k=t.useCallback((function(e){return v({type:l.toggleAllPageRowsSelected,value:e})}),[v]),I=t.useCallback((function(e,t){return v({type:l.toggleRowSelected,id:e,value:t})}),[v]),C=m(e),T=h(i().getToggleAllRowsSelectedProps,{instance:C()}),P=h(i().getToggleAllPageRowsSelectedProps,{instance:C()});Object.assign(e,{selectedFlatRows:S,isAllRowsSelected:E,isAllPageRowsSelected:A,toggleRowSelected:I,toggleAllRowsSelected:R,getToggleAllRowsSelectedProps:T,getToggleAllPageRowsSelectedProps:P,toggleAllPageRowsSelected:k})}function St(e,t){var r=t.instance;e.toggleRowSelected=function(t){return r.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=h(r.getHooks().getToggleRowSelectedProps,{instance:r,row:e})}var Et=function(e){return{}},At=function(e){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var xt=function(e){e.stateReducers.push(Rt),e.useInstance.push(kt),e.prepareRow.push(It)};function Rt(e,t,r,n){var i=n.initialRowStateAccessor,a=void 0===i?Et:i,s=n.initialCellStateAccessor,u=void 0===s?At:s,c=n.rowsById;if(t.type===l.init)return o({rowState:{}},e);if(t.type===l.resetRowState)return o({},e,{rowState:n.initialState.rowState||{}});if(t.type===l.setRowState){var d,f=t.rowId,h=t.value,p=void 0!==e.rowState[f]?e.rowState[f]:a(c[f]);return o({},e,{rowState:o({},e.rowState,(d={},d[f]=v(h,p),d))})}if(t.type===l.setCellState){var g,y,m,b,w,_=t.rowId,S=t.columnId,E=t.value,A=void 0!==e.rowState[_]?e.rowState[_]:a(c[_]),x=void 0!==(null==A||null==(g=A.cellState)?void 0:g[S])?A.cellState[S]:u(null==(y=c[_])||null==(m=y.cells)?void 0:m.find((function(e){return e.column.id===S})));return o({},e,{rowState:o({},e.rowState,(w={},w[_]=o({},A,{cellState:o({},A.cellState||{},(b={},b[S]=v(E,x),b))}),w))})}}function kt(e){var r=e.autoResetRowState,n=void 0===r||r,i=e.data,o=e.dispatch,a=t.useCallback((function(e,t){return o({type:l.setRowState,rowId:e,value:t})}),[o]),s=t.useCallback((function(e,t,r){return o({type:l.setCellState,rowId:e,columnId:t,value:r})}),[o]),u=m(n);w((function(){u()&&o({type:l.resetRowState})}),[i]),Object.assign(e,{setRowState:a,setCellState:s})}function It(e,t){var r=t.instance,n=r.initialRowStateAccessor,i=void 0===n?Et:n,o=r.initialCellStateAccessor,a=void 0===o?At:o,s=r.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return r.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(n){return r.setCellState(e.id,t.column.id,n)}})))}xt.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var Ct=function(e){e.stateReducers.push(Tt),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.columnOrder])})),e.visibleColumns.push(Pt),e.useInstance.push(Ot)};function Tt(e,t,r,n){return t.type===l.init?o({columnOrder:[]},e):t.type===l.resetColumnOrder?o({},e,{columnOrder:n.initialState.columnOrder||[]}):t.type===l.setColumnOrder?o({},e,{columnOrder:v(t.columnOrder,e.columnOrder)}):void 0}function Pt(e,t){var r=t.instance.state.columnOrder;if(!r||!r.length)return e;for(var n=[].concat(r),i=[].concat(e),o=[],a=function(){var e=n.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&n.length;)a();return[].concat(o,i)}function Ot(e){var r=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return r({type:l.setColumnOrder,columnOrder:e})}),[r])}Ct.pluginName="useColumnOrder",d.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Nt=function(e){e.getResizerProps=[Ft],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Dt),e.useInstance.push(Lt),e.useInstanceBeforeDimensions.push(jt)},Ft=function(e,t){var r=t.instance,n=t.header,i=r.dispatch,o=function(e,t){var r=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;r=!0}var n,o,a=function(e){var t=[];return function e(r){r.columns&&r.columns.length&&r.columns.map(e),t.push(r)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),s=r?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(n),n=null,i({type:l.columnDoneResizing})},c=function(){window.cancelAnimationFrame(n),n=null,i({type:l.columnResizing,clientX:o})},d=function(e){o=e,n||(n=window.requestAnimationFrame(c))},f={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",f.mouse.moveHandler),document.removeEventListener("mouseup",f.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(f.touch.moveEvent,f.touch.moveHandler),document.removeEventListener(f.touch.upEvent,f.touch.moveHandler),u()}}},h=r?f.touch:f.mouse,p=!!function(){if("boolean"==typeof j)return j;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return j=e}()&&{passive:!1};document.addEventListener(h.moveEvent,h.moveHandler,p),document.addEventListener(h.upEvent,h.upHandler,p),i({type:l.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:a,clientX:s})};return[e,{onMouseDown:function(e){return e.persist()||o(e,n)},onTouchStart:function(e){return e.persist()||o(e,n)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Dt(e,t){if(t.type===l.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===l.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===l.columnStartResizing){var r=t.clientX,n=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:r,headerIdWidths:a,columnWidth:i,isResizingColumn:n})})}if(t.type===l.columnResizing){var s=t.clientX,u=e.columnResizing,c=u.startX,d=u.columnWidth,f=u.headerIdWidths,h=(s-c)/d,p={};return(void 0===f?[]:f).forEach((function(e){var t=e[0],r=e[1];p[t]=Math.max(r+r*h,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},p)})})}return t.type===l.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Nt.pluginName="useResizeColumns";var jt=function(e){var t=e.flatHeaders,r=e.disableResizing,n=e.getHooks,i=e.state.columnResizing,o=m(e);t.forEach((function(e){var t=C(!0!==e.disableResizing&&void 0,!0!==r&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=h(n().getResizerProps,{instance:o(),header:e}))}))};function Lt(e){var r=e.plugins,n=e.dispatch,i=e.autoResetResize,o=void 0===i||i,a=e.columns;y(r,["useAbsoluteLayout"],"useResizeColumns");var s=m(o);w((function(){s()&&n({type:l.resetResize})}),[a]);var u=t.useCallback((function(){return n({type:l.resetResize})}),[n]);Object.assign(e,{resetResizing:u})}var Ut={position:"absolute",top:0},Mt=function(e){e.getTableBodyProps.push(Bt),e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ut,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}))};Mt.pluginName="useAbsoluteLayout";var Bt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ht={display:"inline-block",boxSizing:"border-box"},Wt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},$t=function(e){e.getRowProps.push(Wt),e.getHeaderGroupProps.push(Wt),e.getFooterGroupProps.push(Wt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ht,{width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]}))};function Vt(e){e.getTableProps.push(Kt),e.getRowProps.push(Jt),e.getHeaderGroupProps.push(Jt),e.getFooterGroupProps.push(Jt),e.getHeaderProps.push(zt),e.getCellProps.push(Gt),e.getFooterProps.push(qt)}$t.pluginName="useBlockLayout",Vt.pluginName="useFlexLayout";var Kt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Jt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},zt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]},Gt=function(e,t){var r=t.cell;return[e,{style:{boxSizing:"border-box",flex:r.column.totalFlexWidth+" 0 auto",minWidth:r.column.totalMinWidth+"px",width:r.column.totalWidth+"px"}}]},qt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]};function Yt(e){e.stateReducers.push(er),e.getTableProps.push(Qt),e.getHeaderProps.push(Xt),e.getRowProps.push(Zt)}l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize",Yt.pluginName="useGridLayout";var Qt=function(e,t){var r=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:r.visibleColumns.map((function(e){var t;return r.state.gridLayout.columnWidths[e.id]?r.state.gridLayout.columnWidths[e.id]+"px":(null==(t=r.state.columnResizing)?void 0:t.isResizingColumn)?r.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Xt=function(e,t){var r=t.column;return[e,{id:"header-cell-"+r.id,style:{position:"sticky",gridColumn:"span "+r.totalVisibleHeaderCount}}]},Zt=function(e,t){var r=t.row;return r.isExpanded?[e,{style:{gridColumn:"1 / "+(r.cells.length+1)}}]:[e,{}]};function er(e,t,r,n){if(t.type===l.init)return o({gridLayout:{columnWidths:{}}},e);if(t.type===l.resetResize)return o({},e,{gridLayout:{columnWidths:{}}});if(t.type===l.columnStartResizing){var i=t.columnId,a=t.headerIdWidths,s=tr(i);if(void 0!==s){var u=n.visibleColumns.reduce((function(e,t){var r;return o({},e,((r={})[t.id]=tr(t.id),r))}),{}),c=n.visibleColumns.reduce((function(e,t){var r;return o({},e,((r={})[t.id]=t.minWidth,r))}),{}),d=n.visibleColumns.reduce((function(e,t){var r;return o({},e,((r={})[t.id]=t.maxWidth,r))}),{}),f=a.map((function(e){var t=e[0];return[t,tr(t)]}));return o({},e,{gridLayout:o({},e.gridLayout,{startWidths:u,minWidths:c,maxWidths:d,headerIdGridWidths:f,columnWidth:s})})}return e}if(t.type===l.columnResizing){var h=t.clientX,p=e.columnResizing.startX,g=e.gridLayout,y=g.columnWidth,v=g.minWidths,m=g.maxWidths,b=g.headerIdGridWidths,w=(h-p)/y,_={};return(void 0===b?[]:b).forEach((function(e){var t=e[0],r=e[1];_[t]=Math.min(Math.max(v[t],r+r*w),m[t])})),o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:o({},e.gridLayout.columnWidths,{},_)})})}return t.type===l.columnDoneResizing?o({},e,{gridLayout:o({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function tr(e){var t,r=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==r)return r}e._UNSTABLE_usePivotColumns=nt,e.actions=l,e.defaultColumn=d,e.defaultGroupByFn=$e,e.defaultOrderByFn=Ze,e.defaultRenderer=u,e.emptyRenderer=c,e.ensurePluginOrder=y,e.flexRender=S,e.functionalUpdate=v,e.loopHooks=g,e.makePropGetter=h,e.makeRenderer=_,e.reduceHooks=p,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=Mt,e.useAsyncDebounce=function(e,r){void 0===r&&(r=0);var o=t.useRef({}),a=m(e),s=m(r);return t.useCallback(function(){var e=i(n.mark((function e(){var t,r,l,u=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,r=new Array(t),l=0;l<t;l++)r[l]=u[l];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,a().apply(void 0,r);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,s])},e.useBlockLayout=$t,e.useColumnOrder=Ct,e.useExpanded=ue,e.useFilters=Re,e.useFlexLayout=Vt,e.useGetLatest=m,e.useGlobalFilter=Ce,e.useGridLayout=Yt,e.useGroupBy=je,e.useMountedLayoutEffect=w,e.usePagination=et,e.useResizeColumns=Nt,e.useRowSelect=yt,e.useRowState=xt,e.useSortBy=qe,e.useTable=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e=ae(e),n=[G].concat(n);var a=m(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:n,hooks:z()})),n.filter(Boolean).forEach((function(e){e(a().hooks)}));var s=m(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),p(s().useOptions,ae(e)));var u=a(),c=u.data,d=u.columns,f=u.initialState,y=u.defaultColumn,v=u.getSubRows,b=u.getRowId,w=u.stateReducer,S=u.useControlledState,I=m(w),C=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(I())?I():[I()]).reduce((function(r,n){return n(r,t,e,a())||r}),e)}),[s,I,a]),T=t.useReducer(C,void 0,(function(){return C(f,{type:l.init})})),P=T[0],O=T[1],N=p([].concat(s().useControlledState,[S]),P,{instance:a()});Object.assign(a(),{state:N,dispatch:O});var F=t.useMemo((function(){return E(p(s().columns,d,{instance:a()}))}),[s,a,d].concat(p(s().columnsDeps,[],{instance:a()})));a().columns=F;var D=t.useMemo((function(){return p(s().allColumns,A(F),{instance:a()}).map(x)}),[F,s,a].concat(p(s().allColumnsDeps,[],{instance:a()})));a().allColumns=D;var j=t.useMemo((function(){for(var e=[],t=[],r={},n=[].concat(D);n.length;){var i=n.shift();le({data:c,rows:e,flatRows:t,rowsById:r,column:i,getRowId:b,getSubRows:v,accessValueHooks:s().accessValue,getInstance:a})}return[e,t,r]}),[D,c,b,v,s,a]),L=j[0],U=j[1],M=j[2];Object.assign(a(),{rows:L,initialRows:[].concat(L),flatRows:U,rowsById:M}),g(s().useInstanceAfterData,a());var B=t.useMemo((function(){return p(s().visibleColumns,D,{instance:a()}).map((function(e){return R(e,y)}))}),[s,D,a,y].concat(p(s().visibleColumnsDeps,[],{instance:a()})));D=t.useMemo((function(){var e=[].concat(B);return D.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[D,B]),a().allColumns=D;var H=t.useMemo((function(){return p(s().headerGroups,k(B,y),a())}),[s,B,y,a].concat(p(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=H;var W=t.useMemo((function(){return H.length?H[0].headers:[]}),[H]);a().headers=W,a().flatHeaders=H.reduce((function(e,t){return[].concat(e,t.headers)}),[]),g(s().useInstanceBeforeDimensions,a());var $=B.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");B=t.useMemo((function(){return B.filter((function(e){return e.isVisible}))}),[B,$]),a().visibleColumns=B;var V=se(W),K=V[0],J=V[1],q=V[2];return a().totalColumnsMinWidth=K,a().totalColumnsWidth=J,a().totalColumnsMaxWidth=q,g(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=_(a(),e),e.getHeaderProps=h(s().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=h(s().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return H.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=h(s().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=h(s().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[H,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=h(s().getRowProps,{instance:a(),row:e}),e.allCells=D.map((function(t){var r=e.values[t.id],n={column:t,row:e,value:r};return n.getCellProps=h(s().getCellProps,{instance:a(),cell:n}),n.render=_(a(),t,{row:e,cell:n,value:r}),n})),e.cells=B.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),g(s().prepareRow,e,{instance:a()})}),[s,a,D,B]),a().getTableProps=h(s().getTableProps,{instance:a()}),a().getTableBodyProps=h(s().getTableBodyProps,{instance:a()}),g(s().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(5043))},7139:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3611),t),i(r(2238),t),i(r(6705),t),i(r(1906),t),i(r(6806),t),i(r(471),t),i(r(9051),t)},7184:(e,t,r)=>{"use strict";r.d(t,{K:()=>a,T:()=>l});var n=r(7692),i=r(2142),o=r(7560);async function a(e,t){var r;let a,s,l;switch(e){case"HS256":case"HS384":case"HS512":a=parseInt(e.slice(-3),10),s={name:"HMAC",hash:`SHA-${a}`,length:a},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(e.slice(-3),10),(0,o.A)(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(e.slice(1,4),10),s={name:"AES-KW",length:a},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(e.slice(1,4),10),s={name:"AES-GCM",length:a},l=["encrypt","decrypt"];break;default:throw new i.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return n.A.subtle.generateKey(s,null!==(r=null===t||void 0===t?void 0:t.extractable)&&void 0!==r&&r,l)}function s(e){var t;const r=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof r||r<2048)throw new i.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function l(e,t){var r,o,a;let l,u;switch(e){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},u=["sign","verify"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},u=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:s(t)},u=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},u=["sign","verify"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},u=["sign","verify"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},u=["sign","verify"];break;case"EdDSA":u=["sign","verify"];const n=null!==(r=null===t||void 0===t?void 0:t.crv)&&void 0!==r?r:"Ed25519";switch(n){case"Ed25519":case"Ed448":l={name:n};break;default:throw new i.JOSENotSupported("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{u=["deriveKey","deriveBits"];const e=null!==(o=null===t||void 0===t?void 0:t.crv)&&void 0!==o?o:"P-256";switch(e){case"P-256":case"P-384":case"P-521":l={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":l={name:e};break;default:throw new i.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new i.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return n.A.subtle.generateKey(l,null!==(a=null===t||void 0===t?void 0:t.extractable)&&void 0!==a&&a,u)}},7222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(8082))&&n.__esModule?n:{default:n},o=r(6318);let a,s,l=0,u=0;var c=function(e,t,r){let n=t&&r||0;const c=t||new Array(16);let d=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:u+1;const g=h-l+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,u=p,s=f,h+=122192928e5;const y=(1e4*(268435455&h)+p)%4294967296;c[n++]=y>>>24&255,c[n++]=y>>>16&255,c[n++]=y>>>8&255,c[n++]=255&y;const v=h/4294967296*1e4&268435455;c[n++]=v>>>8&255,c[n++]=255&v,c[n++]=v>>>24&15|16,c[n++]=v>>>16&255,c[n++]=f>>>8|128,c[n++]=255&f;for(let i=0;i<6;++i)c[n+i]=d[i];return t||(0,o.unsafeStringify)(c)};t.default=c},7251:(e,t,r)=>{"use strict";r.d(t,{D4:()=>s,WG:()=>i,lF:()=>o,y4:()=>a});var n=r(2510);const i=e=>{let t=e;"string"===typeof t&&(t=n.Rd.encode(t));const r=[];for(let n=0;n<t.length;n+=32768)r.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return btoa(r.join(""))},o=e=>i(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),a=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},s=e=>{let t=e;t instanceof Uint8Array&&(t=n.D0.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return a(t)}catch(r){throw new TypeError("The input to be decoded is not correctly encoded.")}}},7284:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"===typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)n(l,this,t);else{var u=l.length,c=p(l,u);for(r=0;r<u;++r)n(c[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},7323:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7083),t)},7353:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(1632),{EventEmitter:o}=r(7284);function a(e){o.call(this,e)}function s(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",u));let a=!1;function l(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",c),s(e,"error",c),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},7355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},7518:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(4990);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(3995).codes,a=r(6594),{getHighWaterMark:s}=r(7683);n(u.prototype,a.prototype),n(u,a);const l=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function d(){this._final!==c&&c.call(this)}u.prototype._final=c,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r)}))},u.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},7546:(e,t,r)=>{"use strict";const{Buffer:n}=r(6382),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(4990),{promisify:{custom:s}}=r(6600),{streamReturningOperators:l,promiseReturningOperators:u}=r(3455),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=r(3995),d=r(9934),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(7683),{pipeline:p}=r(9670),{destroyer:g}=r(1168),y=r(9958),v=r(1855),m=r(7787),b=e.exports=r(731).Stream;b.isDestroyed=m.isDestroyed,b.isDisturbed=m.isDisturbed,b.isErrored=m.isErrored,b.isReadable=m.isReadable,b.isWritable=m.isWritable,b.Readable=r(9824);for(const _ of o(l)){const S=l[_];function E(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.Readable.from(a(S,this,t))}i(E,"name",{__proto__:null,value:S.name}),i(E,"length",{__proto__:null,value:S.length}),i(b.Readable.prototype,_,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const A of o(u)){const x=u[A];function R(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a(x,this,t)}i(R,"name",{__proto__:null,value:x.name}),i(R,"length",{__proto__:null,value:x.length}),i(b.Readable.prototype,A,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}b.Writable=r(5280),b.Duplex=r(6594),b.Transform=r(7518),b.PassThrough=r(1092),b.pipeline=p;const{addAbortSignal:w}=r(1691);b.addAbortSignal=w,b.finished=y,b.destroy=g,b.compose=d,b.setDefaultHighWaterMark=f,b.getDefaultHighWaterMark=h,i(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>v}),i(p,s,{__proto__:null,enumerable:!0,get:()=>v.pipeline}),i(y,s,{__proto__:null,enumerable:!0,get:()=>v.finished}),b.Stream=b,b._isUint8Array=function(e){return e instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},7560:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7692);const i=n.A.getRandomValues.bind(n.A)},7614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},7644:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(7103),i=r(4209),o=r(4539);const a=i.Ay.defaultGraph(),{rdf:s,xsd:l}=n.A,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,d={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class f extends i.x1{equals(e){return e===this}}class h{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!==typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,r,n){e+=t,n&&n()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=a,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${g(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return a.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(a.equals(n)?"":`${this._encodeIriOrBlank(n)} {\n`)),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,i):this._write(`;\n    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i)}catch(o){i&&i(o)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .\n`:" .\n"}`}quadsToString(e){let t="";for(const r of e)t+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return t}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),u.test(t)&&(t=t.replace(c,p));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(u.test(t)&&(t=t.replace(c,p)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===l.string)return`"${t}"`}else switch(e.datatype.value){case l.string:return`"${t}"`;case l.boolean:if("true"===t||"false"===t)return t;break;case l.integer:if(/^[+-]?\d+$/.test(t))return t;break;case l.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case l.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===s.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad(e){let{subject:t,predicate:r,object:n,graph:i}=e;return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${(0,o.isDefaultGraph)(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof n?this._writeQuad(e,t,r,a,n):this._writeQuad(e,t,r,n||a,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let n in e){let t=e[n];"string"!==typeof t&&(t=t.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[t]=n+=":",this._write(`@prefix ${n} <${t}>.\n`)}if(r){let e="",t="";for(const r in this._prefixIRIs)e+=e?`|${r}`:r,t+=(t?"|":"")+this._prefixIRIs[r];e=g(e),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",t)}blank(e,t){let r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new f("[]");case 1:if(r=i[0],!(r.object instanceof f))return new f(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let t="[";for(let o=0;o<n;o++)r=i[o],r.predicate.equals(e)?t+=`, ${this._encodeObject(r.object)}`:(t+=`${(o?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new f(`${t}\n]`)}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new f(`(${r.join(" ")})`)}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}}function p(e){let t=d[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function g(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}},7662:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},7683:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(4990),{validateInteger:o}=r(8029),{ERR_INVALID_ARG_VALUE:a}=r(3995).codes;let s=16384,l=16;function u(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,r,o){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=s){if(!i(s)||s<0){throw new a(o?`options.${r}`:"options.highWaterMark",s)}return n(s)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:s=t}}},7692:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,R:()=>i});const n=crypto,i=e=>e instanceof CryptoKey},7761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordAnnotation=void 0;const n=r(9028),i=r(7139);class o extends n.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(e,t,r,n,o,a){("string"===typeof o||"object"===typeof o&&o["@value"])&&e.emitError(new i.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(o)}`,i.ERROR_CODES.INVALID_ANNOTATION))}}t.EntryHandlerKeywordAnnotation=o},7768:(e,t,r)=>{"use strict";var n=r(4922),i=r(7139),o=r(4275),a=r(6915),s=r(3514),l=r(5164),u=r(2024),c=r(3239);function d(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function f(e){const t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function h(e){const t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}class p extends Error{}function g(e){return"string"===typeof e?e:e.value}const y=o.fetch.bind(globalThis);function v(e){var t,r,n,i,o;const s=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],l=s.length>0&&["text/turtle","application/ld+json"].includes(s[0]),u={sourceIri:e.url,isRawData:!l,contentLocation:null!==(n=e.headers.get("Content-Location"))&&void 0!==n?n:void 0,contentType:null!==(i=e.headers.get("Content-Type"))&&void 0!==i?i:void 0,linkedResources:{},location:null!==(o=e.headers.get("Location"))&&void 0!==o?o:void 0},c=e.headers.get("Link");if(c){const e=a.parse(c),t=e.get("rel","acl");1===t.length&&(u.aclUrl=new URL(t[0].uri,u.sourceIri).href),u.linkedResources=e.refs.reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,u.sourceIri).href),e}),u.linkedResources)}const d=e.headers.get("WAC-Allow");return d&&(u.permissions=function(e){function t(e){const t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){const r=e.split(",").map((e=>e.split("="))).filter((e=>2===e.length&&e[0].trim()===t));if(1!==r.length)return"";const n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(d)),u}function m(e){let t;return t="function"===typeof e.slice?Object.assign(e.slice(),{...e}):{...e},t}function b(e){return!e.ok}const w="http://www.w3.org/ns/auth/acl#Authorization",_="http://www.w3.org/ns/auth/acl#accessTo",S="http://www.w3.org/ns/auth/acl#agent",E="http://www.w3.org/ns/auth/acl#agentGroup",A="http://www.w3.org/ns/auth/acl#agentClass",x="http://www.w3.org/ns/auth/acl#default",R="http://www.w3.org/ns/auth/acl#defaultForNew",k="http://www.w3.org/ns/auth/acl#mode",I="http://www.w3.org/ns/auth/acl#origin",C="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",T="http://www.w3.org/2000/01/rdf-schema#seeAlso",P="http://www.w3.org/ns/ldp#BasicContainer",O="http://www.w3.org/ns/ldp#Resource",N="http://www.w3.org/ns/ldp#contains",F="http://xmlns.com/foaf/0.1/Agent",D="http://xmlns.com/foaf/0.1/primaryTopic",j="http://xmlns.com/foaf/0.1/isPrimaryTopicOf",L={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},U="http://www.w3.org/ns/solid/terms#PublicOidcClient",M="https://w3id.org/security#publicKey",B="http://www.w3.org/ns/pim/space#storage",H={fetch:y};async function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{...H,ignoreAuthenticationErrors:!1};var r;const n={...H,...t};return $(await n.fetch(e,{method:"HEAD"}),{ignoreAuthenticationErrors:null!==(r=t.ignoreAuthenticationErrors)&&void 0!==r&&r})}function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(b(e)&&(!function(e){return 401===e.status||403===e.status}(e)||!t.ignoreAuthenticationErrors))throw new Y(`Fetching the metadata of the Resource at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);return{internal_resourceInfo:v(e)}}function V(e){return(d(e)?J(e):g(e)).endsWith("/")}function K(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function J(e){return d(e)?e.internal_resourceInfo.sourceIri:null}const z=J;function G(e){var t;if(!f(e))return null;const r=null!==(t=q(e)["http://www.w3.org/ns/solid/terms#podOwner"])&&void 0!==t?t:[];return 1===r.length?r[0]:null}function q(e){return e.internal_resourceInfo.linkedResources}class Y extends p{get statusCode(){return this.response.status}get statusText(){return this.response.statusText}constructor(e,t){super(e),this.response=t}}const Q=()=>{const e=[],t=[],r=[];return{onQuad:t=>{e.push(t)},onError:e=>{r.push(e)},onComplete:e=>{t.push(e)},parse:async(o,a)=>new Promise((s=>{const l=new n.JsonLdParser({baseIRI:J(a),documentLoader:new i.FetchDocumentLoader(y)});let u=!1;function c(){u||(u=!0,t.forEach((e=>e())),s())}l.on("end",c),l.on("error",(e=>{r.forEach((t=>t(e))),c()})),e.forEach((e=>l.on("data",e))),l.write(o),l.end()}))}};u.dataset;const X="https://inrupt.com/.well-known/sdk-local-node/",{freeze:Z}=Object;function ee(e){return e.substring(0,46)===X}function te(e){return e.substring(46)}function re(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function ne(e){return e.substring(2)}function ie(e){return`_:${e.value}`}const oe="http://www.w3.org/2001/XMLSchema#boolean",ae="http://www.w3.org/2001/XMLSchema#dateTime",se="http://www.w3.org/2001/XMLSchema#date",le="http://www.w3.org/2001/XMLSchema#time",ue="http://www.w3.org/2001/XMLSchema#decimal",ce="http://www.w3.org/2001/XMLSchema#integer",de="http://www.w3.org/2001/XMLSchema#string",fe="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function he(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function pe(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,r]=ve(e),[n,i,o]=t.split(":");let a=Number.parseInt(n,10),s=Number.parseInt(i,10);const[l,u]=o.split("."),c=Number.parseInt(l,10),d=u?Number.parseInt(u,10):void 0;s>=60&&(a+=1,s-=60);const f={hour:a,minute:s,second:c};if("number"===typeof d&&(f.millisecond=d),"string"===typeof r){const[e,t]=me(r);if("number"!==typeof e||e>24||"number"!==typeof t||t>59)return null;f.timezoneHourOffset=e,f.timezoneMinuteOffset=t}return f}function ge(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,r]=e.split("T"),[n,i]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[o,a,s]=i.split("-"),l=Number.parseInt(o,10)*n,u=Number.parseInt(a,10)-1,c=Number.parseInt(s,10),[d,f]=ve(r),[h,p]="string"===typeof f?me(f):[0,0],[g,y,v]=d.split(":"),m=Number.parseInt(g,10)+h,b=Number.parseInt(y,10)+p,[w,_]=v.split("."),S=Number.parseInt(w,10),E=_?Number.parseInt(_,10):0,A=new Date(Date.UTC(l,u,c,m,b,S,E));return l>=0&&l<100&&A.setUTCFullYear(A.getUTCFullYear()-1900),A}function ye(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const t=e,[r,n]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[i,o,a]=n.split("-"),s=a.length>2?a.substring(0,2):a,l=Number.parseInt(i,10)*r,u=Number.parseInt(o,10)-1,c=Number.parseInt(s,10),d=new Date(Date.UTC(l,u,c,12));return l>=0&&l<100&&d.setUTCFullYear(d.getUTCFullYear()-1900),d}function ve(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];const t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],`+${t[1]}`]:[r[0],`-${r[1]}`]}function me(e){if("Z"===e)return[0,0];const t="+"===e.charAt(0)?1:-1,[r,n]=e.substring(1).split(":");return[Number.parseInt(r,10)*t,Number.parseInt(n,10)*t]}function be(e){const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function we(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function _e(e){return e.toLowerCase()}function Se(e){return Ee(e)&&"NamedNode"===e.termType}function Ee(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function Ae(e){return Se(e)&&ee(e.value)}function xe(e){const t=g(e);if("function"!==typeof URL)return!0;try{return new URL(t),!0}catch(r){return!1}}function Re(e,t){return Ie.namedNode(ke(te(e.value),t))}function ke(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");const r=new URL(t);return r.hash=e,r.href}const Ie=l;function Ce(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;if(!["NamedNode","DefaultGraph"].includes(t.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.graph.termType}] as their Graph node.`);const i="DefaultGraph"===t.graph.termType?"default":t.graph.value,o=null!==(n=e.graphs[i])&&void 0!==n?n:{};return Z({...e,graphs:Z({...e.graphs,[i]:Te(o,t,r)})})}function Te(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.subject.termType}] as their Subject node.`);const i="BlankNode"===t.subject.termType?`_:${t.subject.value}`:t.subject.value,o=null!==(n=e[i])&&void 0!==n?n:{type:"Subject",url:i,predicates:{}};return Z({...e,[i]:Pe(o,t,r)})}function Pe(e,t,r){return Z({...e,predicates:Oe(e.predicates,t,r)})}function Oe(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.predicate.termType}] as their Predicate node.`);const i=t.predicate.value,o=null!==(n=e[i])&&void 0!==n?n:{};return Z({...e,[i]:Ne(o,t,r)})}function Ne(e,t,r){var n,i,o,a,s,l,u,c;if("NamedNode"===t.object.termType){const r=Z([...null!==(n=e.namedNodes)&&void 0!==n?n:[],t.object.value]);return Z({...e,namedNodes:r})}if("Literal"===t.object.termType){if(t.object.datatype.value===fe){const r=t.object.language.toLowerCase(),n=Z([...null!==(o=null===(i=e.langStrings)||void 0===i?void 0:i[r])&&void 0!==o?o:[],t.object.value]),s=Z({...null!==(a=e.langStrings)&&void 0!==a?a:{},[r]:n});return Z({...e,langStrings:s})}const r=Z([...null!==(l=null===(s=e.literals)||void 0===s?void 0:s[t.object.datatype.value])&&void 0!==l?l:[],t.object.value]),n=Z({...null!==(u=e.literals)&&void 0!==u?u:{},[t.object.datatype.value]:r});return Z({...e,literals:n})}if("BlankNode"===t.object.termType){const n=Fe(t.object,r),i=Z([...null!==(c=e.blankNodes)&&void 0!==c?c:[],n]);return Z({...e,blankNodes:i})}throw new Error(`Objects of type [${t.object.termType}] are not supported.`)}function Fe(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((t=>t.equals(e))))return ie(e);const i=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((t=>t.subject.equals(e))),o=i.filter((e=>!Me(e.object))).reduce(((e,r)=>{var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${r.predicate.termType}] as their Predicate node.`);const i=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return Z({...e,[r.predicate.value]:Ne(i,r,t)})}),{});return i.filter((e=>Me(e.object))).reduce(((e,r)=>{var n,i;if(!["NamedNode"].includes(r.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${r.predicate.termType}] as their Predicate node.`);const o=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},a=null!==(i=o.blankNodes)&&void 0!==i?i:[];return Z({...e,[r.predicate.value]:{...o,blankNodes:[...a,Fe(r.object,t)]}})}),o)}function De(e){const t=e.map((e=>e.subject)).filter(Me),r=e.map((e=>e.object)).filter(Me);const n=[];r.forEach((t=>{n.push(...Ue(t,e))}));return t.concat(r).filter((t=>{if(n.some((e=>e.equals(t))))return!1;const r=e.filter((e=>e.object.equals(t))).map((e=>e.subject));return r.length>0&&(i=r).every((e=>i.every((t=>e.equals(t)))));var i}))}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const n=[],i=null!==(r=t.dataFactory)&&void 0!==r?r:l;return Object.keys(e.graphs).forEach((r=>{const o=e.graphs[r],a="default"===r?i.defaultGraph():i.namedNode(r);Object.keys(o).forEach((e=>{const{predicates:r}=o[e],s=re(e)?i.blankNode(ne(e)):i.namedNode(e);n.push(...Le(r,s,a,t))}))})),n}function Le(e,t,r){var n;const i=[],o=null!==(n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).dataFactory)&&void 0!==n?n:l;return Object.keys(e).forEach((n=>{var a,s,l,u;const c=o.namedNode(n),d=null!==(a=e[n].langStrings)&&void 0!==a?a:{},f=null!==(s=e[n].namedNodes)&&void 0!==s?s:[],h=null!==(l=e[n].literals)&&void 0!==l?l:{},p=null!==(u=e[n].blankNodes)&&void 0!==u?u:[];Object.keys(h).forEach((e=>{const n=o.namedNode(e);h[e].forEach((e=>{const a=o.literal(e,n);i.push(o.quad(t,c,a,r))}))}));Object.keys(d).forEach((e=>{d[e].forEach((n=>{const a=o.literal(n,e);i.push(o.quad(t,c,a,r))}))})),f.forEach((e=>{const n=o.namedNode(e);i.push(o.quad(t,c,n,r))})),p.forEach((e=>{if(re(e)){const n=o.blankNode(ne(e));i.push(o.quad(t,c,n,r))}else{const n=o.blankNode(),a=o.quad(t,c,n,r),s=Le(e,n,r);i.push(a),i.push(...s)}}))})),i}function Ue(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==r.find((t=>t.equals(e))))return r;const n=t.filter((t=>t.subject.equals(e)&&Me(t.object))).map((e=>e.object));if(0===n.length)return[];const i=[...r,e],o=n.map((e=>Ue(e,t,i))),a=[];for(const s of o)a.push(...s);return a}function Me(e){return"BlankNode"===e.termType}const Be=()=>{const e=[],t=[],r=[];return{onQuad:t=>{e.push(t)},onError:e=>{r.push(e)},onComplete:e=>{t.push(e)},parse:async(n,i)=>{(await async function(e){return new s.Parser({format:"text/turtle",baseIRI:e})}(J(i))).parse(n,((n,i)=>{n?r.forEach((e=>e(n))):i?e.forEach((e=>e(i))):t.forEach((e=>e()))}))}}};async function He(e,t){const r=new s.Writer({format:"text/turtle",prefixes:null===t||void 0===t?void 0:t.prefixes}),n=e.map((e=>Ie.quad(e.subject,e.predicate,e.object,void 0)));r.addQuads(n);const i=new Promise(((e,t)=>{r.end(((r,n)=>{r?t(r):e(n)}))}));return await i}const We={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"},$e=u.dataset;function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;return(null!==(n=null===(r=t.datasetFactory)||void 0===r?void 0:r.dataset)&&void 0!==n?n:$e)(je(e,t))}var Ke=Object.freeze({__proto__:null,getJsonLdParser:Q,getTurtleParser:Be,solidDatasetAsTurtle:async function(e,t){const{prefixes:r=We,thing:n}={...t},i=new s.Writer({format:"application/turtle",prefixes:r}),o=n?new s.NamedNode(n):void 0;for(const a of Ve(e).match(o))i.addQuad(a);return new Promise(((e,t)=>{i.end(((r,n)=>{r?t(r):e(n)}))}))}});const Je={fetch:y},ze=["Slug","If-None-Match","Content-Type"];async function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;const r={...Je,...t},n=g(e),i=await r.fetch(n,r.init);if(b(i))throw new Y(`Fetching the File failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i);const o=v(i),a=await i.blob();return Object.assign(a,{internal_resourceInfo:o})}async function qe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Je;const n=g(e),i=await Qe(n,t,"PUT",r);if(b(i))throw new Y(`Overwriting the file at [${n}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i);const o=m(t),a=v(i);return a.sourceIri=n,a.isRawData=!0,Object.assign(o,{internal_resourceInfo:a})}function Ye(e){if("undefined"===typeof e)return{};let t={};var r;return r=e,Array.isArray(r)?e.forEach((e=>{let[r,n]=e;t[r]=n})):!function(e){return"function"===typeof e.forEach}(e)?t=e:e.forEach(((e,r)=>{t[r]=e})),t}async function Qe(e,t,r,n){var i,o;const a={...Je,...n},s=Ye(null!==(o=null===(i=a.init)||void 0===i?void 0:i.headers)&&void 0!==o?o:{});if(l=s,ze.some((e=>void 0!==l[e])))throw new Error(`No reserved header (${ze.join(", ")}) should be set in the optional RequestInit.`);var l;void 0!==a.slug&&(s.Slug=a.slug),s["Content-Type"]=Xe(t,n.contentType);const u=g(e);return a.fetch(u,{...a.init,headers:s,method:r,body:t})}function Xe(e,t){if("string"===typeof t)return t;const r="object"===typeof e&&null!==e&&"type"in e&&"string"===typeof e.type&&e.type.length>0?e.type:void 0;return null!==r&&void 0!==r?r:"application/octet-stream"}function Ze(e){var t,r,n,i,o,a,s,l;if(Se(e))return`<${e.value}> (URL)`;if(function(e){return Ee(e)&&"Literal"===e.termType}(e)){if(!Se(e.datatype))return`[${e.value}] (RDF/JS Literal of unknown type)`;let u;switch(e.datatype.value){case oe:return u=null!==(r=null===(t=he(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:`Invalid data: \`${e.value}\``,`${u} (boolean)`;case ae:return u=null!==(i=null===(n=ge(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==i?i:`Invalid data: \`${e.value}\``,`${u} (datetime)`;case ue:return u=null!==(a=null===(o=be(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:`Invalid data: \`${e.value}\``,`${u} (decimal)`;case ce:return u=null!==(l=null===(s=we(e.value))||void 0===s?void 0:s.toString())&&void 0!==l?l:`Invalid data: \`${e.value}\``,`${u} (integer)`;case fe:return`"${e.value}" (${e.language} string)`;case de:return`"${e.value}" (string)`;default:return`[${e.value}] (RDF/JS Literal of type: \`${e.datatype.value}\`)`}}return"BlankNode"===e.termType?`[${e.value}] (RDF/JS BlankNode)`:"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?`?${e.value} (RDF/JS Variable)`:e}function et(e){if(!Et(e))throw new It(e)}function tt(e,t){const r=h(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,i]=t.filter((e=>!rt(e))).reduce(((e,t)=>{let[r,n]=e;return"undefined"!==typeof r.find((e=>e.equals(t)))?[r.filter((e=>!e.equals(t))),n]:[r,n.concat(t)]}),[r.additions,r.deletions]);return Z({...e,internal_changeLog:{additions:n,deletions:i}})}function rt(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function nt(e,t){var r,n,i;if(et(e),!xe(t))throw new Ct(t);const o=g(t),a=null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==i?i:null;return null===a?null:ee(a)?`#${te(a)}`:a}const it=nt;function ot(e,t){var r,n,i;if(et(e),!xe(t))throw new Ct(t);const o=g(t);return null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((e=>ee(e)?`#${te(e)}`:e)))&&void 0!==i?i:[]}const at=ot;function st(e,t,r){var n,i;if(et(e),!xe(t))throw new Ct(t);const o=g(t),a=null!==(i=null===(n=e.predicates[o])||void 0===n?void 0:n.langStrings)&&void 0!==i?i:{},s=Object.keys(a).find((e=>e.toLowerCase()===r.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0));return"string"===typeof s?a[s][0]:null}function lt(e,t,r){var n,i;if(et(e),!xe(t))throw new Ct(t);const o=g(t),a=null!==(i=null===(n=e.predicates[o])||void 0===n?void 0:n.langStrings)&&void 0!==i?i:{},s=Object.keys(a).find((e=>e.toLowerCase()===r.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0));return"string"===typeof s?[...a[s]]:[]}function ut(e,t){et(e);return vt(e,t,de)}function ct(e,t){const r=it(e,t);return null===r?null:Ie.namedNode(r)}function dt(e,t){return at(e,t).map((e=>Ie.namedNode(e)))}function ft(e,t){var r,n,i,o;if(et(e),!xe(t))throw new Ct(t);const a=g(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},l=Object.keys(s);if(l.length>0){const e=l.find((e=>Array.isArray(s[e])&&s[e].length>0));if("string"===typeof e)return Ie.literal(s[e][0],e)}const u=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},c=Object.keys(u);if(c.length>0){const e=c.find((e=>Array.isArray(u[e])&&u[e].length>0));if("string"===typeof e)return Ie.literal(u[e][0],Ie.namedNode(e))}return null}function ht(e,t){var r,n,i,o;if(et(e),!xe(t))throw new Ct(t);const a=g(t);let s=[];const l=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},u=Object.keys(l);for(const f of u){const e=l[f].map((e=>Ie.literal(e,f)));s=s.concat(e)}const c=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},d=Object.keys(c);for(const f of d){const e=c[f],t=Ie.namedNode(f),r=e.map((e=>Ie.literal(e,t)));s=s.concat(r)}return s}function pt(e,t){var r,n;et(e);const i=ct(e,t);if(null!==i)return i;const o=ft(e,t);if(null!==o)return o;const a=g(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[];if(s.length>0){const e=re(s[0])?ne(s[0]):void 0;return Ie.blankNode(e)}return null}function gt(e,t){var r,n;et(e);const i=dt(e,t),o=ht(e,t),a=g(t),s=(null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((e=>{const t=re(e)?ne(e):void 0;return Ie.blankNode(t)}));return i.concat(o).concat(s)}function yt(e,t,r){var n,i,o,a;if(!xe(t))throw new Ct(t);const s=g(t);return null!==(a=null===(o=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function vt(e,t,r){var n,i,o;if(!xe(t))throw new Ct(t);const a=g(t);return[...null!==(o=null===(i=null===(n=e.predicates[a])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])&&void 0!==o?o:[]]}function mt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;if(!xe(t))throw new Pt(t);const i="undefined"!==typeof r.scope?g(r.scope):"default",o=null!==(n=e.graphs[i])&&void 0!==n?n:{},a=g(t),s=o[ee(a)&&f(e)?ke(te(a),J(e)):a];return"undefined"===typeof s?null:s}function bt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1};var r;const n="undefined"!==typeof t.scope?g(t.scope):"default",i=null!==(r=e.graphs[n])&&void 0!==r?r:{};return Object.values(i).filter((e=>!re(e.url)||t.acceptBlankNodes))}function wt(e,t){var r;const n=kt(t)&&f(e)?ke(te(t.url),J(e)):t.url,i=e.graphs.default,o=Z({...i,[n]:Z({...t,url:n})}),a=Z({...e.graphs,default:o}),s=Ie.namedNode(n),l=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,u="undefined"!==typeof l?Le(l,s,Ie.defaultGraph()):[],c=Le(t.predicates,s,Ie.defaultGraph());return function(e,t){const r=h(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,i]=t.filter((e=>!rt(e))).reduce(((e,t)=>{let[r,n]=e;return"undefined"!==typeof n.find((e=>e.equals(t)))?[r,n.filter((e=>!e.equals(t)))]:[r.concat(t),n]}),[r.additions,r.deletions]);return Z({...e,internal_changeLog:{additions:n,deletions:i}})}(tt(Z({...e,graphs:a}),u),c)}function _t(e,t){var r;let n;n=Se(t)?t.value:"string"===typeof t?ee(t)&&f(e)?ke(te(t),J(e)):t:kt(t)?t.url:xt(t);const i={...e.graphs.default};delete i[n];const o=Z({...e.graphs,default:Z(i)}),a=Ie.namedNode(n),s=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,l="undefined"!==typeof s?Le(s,a,Ie.defaultGraph()):[];return tt(Z({...e,graphs:o}),l)}function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;if("undefined"!==typeof e.url){const{url:t}=e;if(!xe(t))throw new Pt(t);return Z({type:"Subject",predicates:Z({}),url:t})}const r=null!==(t=e.name)&&void 0!==t?t:Ot(),n=`${X}${r}`;return Z({type:"Subject",predicates:Z({}),url:n})}function Et(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}function At(e,t){if(kt(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return ke(te(e.url),t)}return e.url}const xt=At;function Rt(e){let t="";kt(e)?t+=`## Thing (no URL yet \u2014 identifier: \`#${te(e.url)}\`)\n`:t+=`## Thing: ${e.url}\n`;const r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else for(const n of r){t+=`\nProperty: ${n}\n`;t+=gt(e,n).reduce(((e,t)=>`${e}- ${Ze(t)}\n`),"")}return t}function kt(e){return ee(e.url)}class It extends p{constructor(e){super(`Expected a Thing, but received: [${e}].`),this.receivedValue=e}}class Ct extends p{constructor(e){const t=Se(e)?e.value:e;super(`Expected a valid URL to identify a property, but received: [${t}].`),this.receivedProperty=t}}class Tt extends p{constructor(e){const t=Se(e)?e.value:e;super(`Expected a valid URL value, but received: [${t}].`),this.receivedValue=t}}class Pt extends p{constructor(e){const t=Se(e)?e.value:e;super(`Expected a valid URL to identify a Thing, but received: [${t}].`),this.receivedValue=t}}const Ot=()=>c.v4();function Nt(e){const t=new URL(e);return t.hash="",t.href}function Ft(){return Z({type:"Dataset",graphs:{default:{}}})}async function Dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(e))throw new Y(`Fetching the SolidDataset at [${e.url}] failed: [${e.status}] [${e.statusText}] ${await e.text()}.`,e);const r=$(e),n={"text/turtle":Be(),...t.parsers},i=K(r);if(null===i)throw new Error(`Could not determine the content type of the Resource at [${J(r)}].`);const o=i.split(";")[0],a=n[o];if("undefined"===typeof a)throw new Error(`The Resource at [${J(r)}] has a MIME type of [${o}], but the only parsers available are for the following MIME types: [${Object.keys(n).join(", ")}].`);const s=await e.text();return new Promise(((e,t)=>{let n=Z({graphs:Z({default:Z({})}),type:"Dataset"});const o=[],l=[];a.onError((e=>{t(new Error(`Encountered an error parsing the Resource at [${J(r)}] with content type [${i}]: ${e}`))})),a.onQuad((e=>{l.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?o.push(e):n=Ce(n,e)})),a.onComplete((async()=>{const t=o.length<=20?De(o):[],i=o.filter((e=>t.every((t=>!t.equals(e.subject)))));n=i.reduce(((e,r)=>Ce(e,r,{otherQuads:l,chainBlankNodes:t})),n);const a=Z({...n,...r});e(a)})),a.parse(s,r)}))}async function jt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;var r;e=g(e);const n={...H,...t},i=Object.keys(null!==(r=t.parsers)&&void 0!==r?r:{}),o=i.length>0?i.join(", "):"text/turtle",a=await n.fetch(e,{headers:{Accept:o}});if(b(a))throw new Y(`Fetching the Resource at [${e}] failed: [${a.status}] [${a.statusText}] ${await a.text()}.`,a);return await Dt(a,t)}async function Lt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;e=g(e);const n={...H,...r},i=function(e){return h(e)?e:Z({...e,internal_changeLog:{additions:[],deletions:[]}})}(t),o=Ut(i,e)?await async function(e){return{method:"PATCH",body:`${e.internal_changeLog.deletions.length>0?`DELETE DATA {${(await He(e.internal_changeLog.deletions.map(Wt))).trim()}};`:""} ${e.internal_changeLog.additions.length>0?`INSERT DATA {${(await He(e.internal_changeLog.additions.map(Wt))).trim()}};`:""}`,headers:{"Content-Type":"application/sparql-update"}}}(i):await async function(e,t){return{method:"PUT",body:await He(je(e).map(Wt),t),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${O}>; rel="type"`}}}(i,r),a=await n.fetch(e,o);if(b(a)){const t=Ut(i,e)?`The changes that were sent to the Pod are listed below.\n\n${Ht(i)}`:`The SolidDataset that was sent to the Pod is listed below.\n\n${Bt(i)}`;throw new Y(`Storing the Resource at [${e}] failed: [${a.status}] [${a.statusText}] ${await a.text()}.\n\n${t}`,a)}const s={...v(a),isRawData:!1};return Vt(Z({...t,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:s}))}function Ut(e,t){return h(e)&&d(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(r=t,Nt(e.internal_resourceInfo.sourceIri)===Nt(r));var r}function Mt(e,t){const r=new URL(t),n=new URL(e),i=n.href.startsWith(r.href),o=n.pathname.substring(r.pathname.length,n.pathname.length).replace(/(^\/)|(\/$)/g,"");return i&&o.length>=1&&!o.includes("/")}function Bt(e){let t="";d(e)?t+=`# SolidDataset: ${J(e)}\n`:t+="# SolidDataset (no URL yet)\n";const r=bt(e);return 0===r.length?t+="\n<empty>\n":r.forEach((r=>{t+=`\n${Rt(r)}`,h(e)&&(t+=`\n${function(e,t){const r=Ie.namedNode(t.url),n=e.internal_changeLog.additions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0),i=e.internal_changeLog.deletions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0);return`(${1===n?"1 new value added":`${n} new values added`} / ${1===i?"1 value removed":`${i} values removed`})`}(e,r)}\n`)})),t}function Ht(e){if(!d(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!h(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return`## Changes compared to ${J(e)}\n\nThis SolidDataset has not been modified since it was fetched from ${J(e)}.\n`;let t=`## Changes compared to ${J(e)}\n`;const r=function(e){const t=Object.create(null);return e.internal_changeLog.deletions.forEach((r=>{var n,i,o;const a=Ae(r.subject)?Re(r.subject,J(e)):r.subject;if(!Se(a)||!Se(r.predicate))return;const s=g(a),l=g(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]=Object.create(null)),null!==(i=(o=t[s])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[s][l].deleted.push(r.object)})),e.internal_changeLog.additions.forEach((r=>{var n,i,o;const a=Ae(r.subject)?Re(r.subject,J(e)):r.subject;if(!Se(a)||!Se(r.predicate))return;const s=g(a),l=g(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]=Object.create(null)),null!==(i=(o=t[s])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[s][l].added.push(r.object)})),t}(e);return Object.keys(r).forEach((e=>{t+=`\n### Thing: ${e}\n`;const n=r[e];Object.keys(n).forEach((e=>{t+=`\nProperty: ${e}\n`;const{deleted:r}=n[e],{added:i}=n[e];r.length>0&&(t+="- Removed:\n",t+=r.reduce(((e,t)=>`${e}  - ${Ze(t)}\n`),"")),i.length>0&&(t+="- Added:\n",t+=i.reduce(((e,t)=>`${e}  - ${Ze(t)}\n`),""))}))})),t}function Wt(e){const t=Se(e.subject)?$t(e.subject):e.subject,r=Se(e.object)?$t(e.object):e.object;return Ie.quad(t,e.predicate,r,e.graph)}function $t(e){return ee(e.value)?Ie.namedNode(`#${te(e.value)}`):e}function Vt(e){const t=J(e),r=e.graphs.default,n=Object.keys(r).reduce(((e,r)=>{const n=function(e,t){const r=Object.keys(e.predicates).reduce(((e,r)=>{var n;const i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((e=>!ee(e))))return e;const o=Z(i.map((e=>ee(e)?`${t}#${te(e)}`:e))),a=Z({...e[r],namedNodes:o});return Z({...e,[r]:a})}),e.predicates);return Z({...e,predicates:r,url:ee(e.url)?`${t}#${te(e.url)}`:e.url})}(e[r],t),i=ee(r)?`${t}#${te(r)}`:r,o={...e};return delete o[r],o[i]=n,Z(o)}),r),i=Z({...e.graphs,default:n});return Z({...e,graphs:i})}function Kt(e){return{...Ft(),internal_resourceInfo:{sourceIri:g(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}}}function Jt(e){const t=g(e);if(!t.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return Kt(t)}const zt=(e,t,r)=>{var n,i;if(et(e),!xe(t))throw new Ct(t);if(!Et(r)&&!xe(r))throw new Tt(r);const o=g(t),a=null!==(n=e.predicates[o])&&void 0!==n?n:{},s=null!==(i=a.namedNodes)&&void 0!==i?i:[];let l;l=Se(r)?r.value:"string"===typeof r?r:kt(r)?r.url:xt(r);const u=Z(s.concat(g(l))),c=Z({...a,namedNodes:u}),d=Z({...e.predicates,[o]:c});return Z({...e,predicates:d})},Gt=zt,qt=(e,t,r)=>(et(e),ar(e,t,function(e){return e?"true":"false"}(r),oe)),Yt=(e,t,r)=>(et(e),ar(e,t,function(e){return e.toISOString()}(r),ae)),Qt=(e,t,r)=>(et(e),ar(e,t,function(e){const t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),[,i]=ve(e.toISOString());return`${t}-${String(r).padStart(2,"0")}-${String(n).padStart(2,"0")}${i}`}(r),se)),Xt=(e,t,r)=>(et(e),ar(e,t,function(e){let t,r;if(e.millisecond&&(t=e.millisecond<10?`00${e.millisecond}`:e.millisecond<100?`0${e.millisecond}`:e.millisecond),"number"===typeof e.timezoneHourOffset){const t=Math.abs(e.timezoneHourOffset)<10?`0${Math.abs(e.timezoneHourOffset)}`:Math.abs(e.timezoneHourOffset);r=e.timezoneHourOffset>=0?`+${t}`:`-${t}`,e.timezoneMinuteOffset?r=`${r}:${e.timezoneMinuteOffset<10?`0${e.timezoneMinuteOffset}`:e.timezoneMinuteOffset}`:r+=":00"}return`${e.hour<10?`0${e.hour}`:e.hour}:${e.minute<10?`0${e.minute}`:e.minute}:${e.second<10?`0${e.second}`:e.second}${e.millisecond?`.${t}`:""}${r||""}`}(r),le)),Zt=(e,t,r)=>(et(e),ar(e,t,function(e){return e.toString()}(r),ue)),er=(e,t,r)=>(et(e),ar(e,t,function(e){return e.toString()}(r),ce));function tr(e,t,r,n){var i,o,a;if(et(e),!xe(t))throw new Ct(t);const s=g(t),l=_e(n),u=null!==(i=e.predicates[s])&&void 0!==i?i:{},c=null!==(o=u.langStrings)&&void 0!==o?o:{},d=null!==(a=c[l])&&void 0!==a?a:[],f=Z(d.concat(r)),h=Z({...c,[l]:f}),p=Z({...u,langStrings:h}),y=Z({...e.predicates,[s]:p});return Z({...e,predicates:y})}const rr=(e,t,r)=>(et(e),ar(e,t,r,de));function nr(e,t,r){return zt(e,t,r.value)}function ir(e,t,r){if(et(e),!xe(t))throw new Ct(t);return r.datatype.value===fe?tr(e,t,r.value,r.language):ar(e,t,r.value,r.datatype.value)}function or(e,t,r){var n,i;if("NamedNode"===r.termType)return nr(e,t,r);if("Literal"===r.termType)return ir(e,t,r);if("BlankNode"===r.termType){if(et(e),!xe(t))throw new Ct(t);const o=g(t),a=null!==(n=e.predicates[o])&&void 0!==n?n:{},s=null!==(i=a.blankNodes)&&void 0!==i?i:[],l=Z(s.concat(ie(r))),u=Z({...a,blankNodes:l}),c=Z({...e.predicates,[o]:u});return Z({...e,predicates:c})}throw new Error(`Term type [${r.termType}] is not supported by @inrupt/solid-client.`)}function ar(e,t,r,n){var i,o,a;if(et(e),!xe(t))throw new Ct(t);const s=g(t),l=null!==(i=e.predicates[s])&&void 0!==i?i:{},u=null!==(o=l.literals)&&void 0!==o?o:{},c=null!==(a=u[n])&&void 0!==a?a:[],d=Z(c.concat(r)),f=Z({...u,[n]:d}),h=Z({...l,literals:f}),p=Z({...e.predicates,[s]:h});return Z({...e,predicates:p})}function sr(e,t){if(et(e),!xe(t))throw new Ct(t);const r=g(t),n={...e.predicates};return delete n[r],Z({...e,predicates:Z(n)})}const lr=(e,t,r)=>{var n,i,o;if(et(e),!xe(t))throw new Ct(t);const a=g(t);if(!Et(r)&&!xe(r))throw new Tt(r);const s=Et(r)?xt(r):g(r),l=Z(null!==(o=null===(i=null===(n=e.predicates[a])||void 0===n?void 0:n.namedNodes)||void 0===i?void 0:i.filter((e=>e.toLowerCase()!==s.toLowerCase())))&&void 0!==o?o:[]),u=Z({...e.predicates[a],namedNodes:l}),c=Z({...e.predicates,[a]:u});return Z({...e,predicates:c})},ur=lr,cr=(e,t,r)=>(et(e),wr(e,t,oe,(e=>he(e)===r))),dr=(e,t,r)=>(et(e),wr(e,t,ae,(e=>{var t;return(null===(t=ge(e))||void 0===t?void 0:t.getTime())===r.getTime()}))),fr=(e,t,r)=>(et(e),wr(e,t,se,(function(e){const t=ye(e);return!!t&&(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getUTCDate()===r.getUTCDate())}))),hr=(e,t,r)=>(et(e),wr(e,t,le,(function(e){const t=pe(e);return!!t&&(t.hour===r.hour&&t.minute===r.minute&&t.second===r.second&&t.millisecond===r.millisecond&&t.timezoneHourOffset===r.timezoneHourOffset&&t.timezoneMinuteOffset===r.timezoneMinuteOffset)}))),pr=(e,t,r)=>(et(e),wr(e,t,ue,(e=>be(e)===r))),gr=(e,t,r)=>(et(e),wr(e,t,ce,(e=>we(e)===r)));function yr(e,t,r,n){var i,o;if(et(e),!xe(t))throw new Ct(t);const a=g(t),s=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.langStrings)&&void 0!==o?o:{},l=Object.keys(s).find((e=>_e(e)===_e(n)&&Array.isArray(s[e])&&s[e].length>0));if("string"!==typeof l)return e;const u=s[l],c=Z(u.filter((e=>e!==r))),d=Z({...s,[l]:c}),f=Z({...e.predicates[a],langStrings:d}),h=Z({...e.predicates,[a]:f});return Z({...e,predicates:h})}const vr=(e,t,r)=>(et(e),wr(e,t,de,(e=>e===r)));function mr(e,t,r){return lr(e,t,r.value)}function br(e,t,r){var n,i,o;if(et(e),!xe(t))throw new Ct(t);const a=r.datatype.value;if(a===fe)return yr(e,t,r.value,r.language);const s=g(t),l=null!==(n=e.predicates[s])&&void 0!==n?n:{},u=null!==(i=l.literals)&&void 0!==i?i:{},c=null!==(o=u[a])&&void 0!==o?o:[],d=Z(c.filter((e=>e!==r.value))),f=Z({...u,[a]:d}),h=Z({...l,literals:f}),p=Z({...e.predicates,[s]:h});return Z({...e,predicates:p})}function wr(e,t,r,n){var i,o,a;if(!xe(t))throw new Ct(t);const s=g(t),l=null!==(i=e.predicates[s])&&void 0!==i?i:{},u=null!==(o=l.literals)&&void 0!==o?o:{},c=null!==(a=u[r])&&void 0!==a?a:[],d=Z(c.filter((e=>!n(e)))),f=Z({...u,[r]:d}),h=Z({...l,literals:f}),p=Z({...e.predicates,[s]:h});return Z({...e,predicates:p})}const _r=(e,t,r)=>{if(et(e),!xe(t))throw new Ct(t);if(!Et(r)&&!xe(r))throw new Tt(r);return zt(sr(e,t),t,r)},Sr=_r,Er=(e,t,r)=>(et(e),qt(sr(e,t),t,r)),Ar=(e,t,r)=>(et(e),Yt(sr(e,t),t,r)),xr=(e,t,r)=>(et(e),Qt(sr(e,t),t,r)),Rr=(e,t,r)=>(et(e),Xt(sr(e,t),t,r)),kr=(e,t,r)=>(et(e),Zt(sr(e,t),t,r)),Ir=(e,t,r)=>(et(e),er(sr(e,t),t,r));function Cr(e,t,r,n){return et(e),tr(sr(e,t),t,r,n)}const Tr=(e,t,r)=>(et(e),rr(sr(e,t),t,r));function Pr(e,t,r){return et(e),nr(sr(e,t),t,r)}function Or(e,t,r){return et(e),ir(sr(e,t),t,r)}function Nr(e,t,r){if(et(e),!xe(t))throw new Ct(t);return or(sr(e,t),t,r)}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St(),t=Et(e)?e:St(e);function r(e){return(r,n)=>(t=e(t,r,n),o)}function n(e){return(r,n)=>(t=e(t,r,n),o)}function i(e){return(r,n)=>(t=e(t,r,n),o)}const o={build:()=>t,addUrl:r(zt),addIri:r(Gt),addBoolean:r(qt),addDatetime:r(Yt),addDate:r(Qt),addTime:r(Xt),addDecimal:r(Zt),addInteger:r(er),addStringNoLocale:r(rr),addStringEnglish:(e,r)=>(t=tr(t,e,r,"en"),o),addStringWithLocale:(e,r,n)=>(t=tr(t,e,r,n),o),addNamedNode:r(nr),addLiteral:r(ir),addTerm:r(or),setUrl:n(_r),setIri:n(Sr),setBoolean:n(Er),setDatetime:n(Ar),setDate:n(xr),setTime:n(Rr),setDecimal:n(kr),setInteger:n(Ir),setStringNoLocale:n(Tr),setStringEnglish:(e,r)=>(t=Cr(t,e,r,"en"),o),setStringWithLocale:(e,r,n)=>(t=Cr(t,e,r,n),o),setNamedNode:n(Pr),setLiteral:n(Or),setTerm:n(Nr),removeAll:e=>(t=sr(t,e),o),removeUrl:i(lr),removeIri:i(ur),removeBoolean:i(cr),removeDatetime:i(dr),removeDate:i(fr),removeTime:i(hr),removeDecimal:i(pr),removeInteger:i(gr),removeStringNoLocale:i(vr),removeStringEnglish:(e,r)=>Fr(yr(t,e,r,"en")),removeStringWithLocale:(e,r,n)=>Fr(yr(t,e,r,n)),removeNamedNode:i(mr),removeLiteral:i(br)};return o}function Dr(e){const t=q(e).type;return Array.isArray(t)&&t.includes(L.AccessControlResource)}async function jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;if(!dn(e))return{resourceAcl:null,fallbackAcl:null};try{const r=await Lr(e,t);return null===r?{resourceAcl:null,fallbackAcl:await Ur(e,t)}:{resourceAcl:r,fallbackAcl:null}}catch(r){if(r instanceof rn)return{resourceAcl:null,fallbackAcl:null};throw r}}async function Lr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;if(!dn(e))return null;try{const r=await jt(e.internal_resourceInfo.aclUrl,t);if(Dr(r))throw new rn(e,r);return Z({...r,internal_accessTo:J(e)})}catch(r){if(r instanceof rn)throw r;return null}}async function Ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=new URL(J(e)),n=r.pathname;if("/"===n)return null;const i=Mr(n),o=new URL(i,r.origin).href,a=await W(o,t);if(!dn(a))return null;const s=await Lr(a,t);return null===s?Ur(a,t):s}function Mr(e){const t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return`${e.substring(0,t.lastIndexOf("/"))}/`}function Br(e){return bt(e).filter(Hr)}function Hr(e){return at(e,C).includes(w)}function Wr(e,t){return e.filter((e=>function(e,t){return at(e,_).includes(t)}(e,t)))}function $r(e,t){return e.filter((e=>function(e,t){return at(e,x).includes(t)||at(e,R).includes(t)}(e,t)))}function Vr(e){const t=at(e,k);return t.includes(zr.write)?{read:t.includes(zr.read),append:!0,write:!0,control:t.includes(zr.control)}:{read:t.includes(zr.read),append:t.includes(zr.append),write:!1,control:t.includes(zr.control)}}function Kr(e){return e.reduce(((e,t)=>e.write||t.write?{read:e.read||t.read,append:!0,write:!0,control:e.control||t.control}:{read:e.read||t.read,append:e.append||t.append,write:!1,control:e.control||t.control}),{read:!1,append:!1,write:!1,control:!1})}function Jr(e){return!Le(e.predicates,Ie.namedNode(e.url),Ie.defaultGraph()).some((e=>!function(e){const{predicate:t}=e,{object:r}=e;if(t.equals(Ie.namedNode(C))&&r.equals(Ie.namedNode(w)))return!0;if(t.equals(Ie.namedNode(_))||t.equals(Ie.namedNode(x))||t.equals(Ie.namedNode(R)))return!0;if(t.equals(Ie.namedNode(k))&&Object.values(zr).some((e=>r.equals(Ie.namedNode(e)))))return!0;if(t.equals(Ie.namedNode(S))||t.equals(Ie.namedNode(E))||t.equals(Ie.namedNode(A)))return!0;if(t.equals(Ie.namedNode(I)))return!0;return!1}(e)))&&(null===it(e,_)&&null===it(e,x)&&null===it(e,R)||(null===it(e,k)||null===it(e,S)&&null===it(e,E)&&null===it(e,A)))}const zr={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Gr(e,t,r){return e.filter((e=>at(e,r).includes(t)))}function qr(e,t){const r={};return e.forEach((e=>{const n=at(e,t),i=Vr(e);n.forEach((e=>{r[e]="undefined"===typeof r[e]?i:Kr([r[e],i])}))})),r}function Yr(e){let t=St();return t=Sr(t,C,w),e.read&&(t=Gt(t,k,zr.read)),e.append&&!e.write&&(t=Gt(t,k,zr.append)),e.write&&(t=Gt(t,k,zr.write)),e.control&&(t=Gt(t,k,zr.control)),t}function Qr(e,t){return Object.assign(m(e),{internal_acl:t})}const Xr=[S,A,E,I];function Zr(e,t,r,n,i){if(!at(e,r).includes(t)){return[e,Yr({read:!1,append:!1,write:!1,control:!1})]}const o=ur(e,r,t);let a=function(e){let t=St();function r(e,t,r){return at(e,r).reduce(((e,t)=>Gt(e,r,t)),t)}return t=Sr(t,C,w),t=r(e,t,_),t=r(e,t,x),t=r(e,t,R),t=r(e,t,S),t=r(e,t,E),t=r(e,t,A),t=r(e,t,I),t=r(e,t,k),t}(e);return a=ur(a,"resource"===i?_:x,n),"default"===i&&(a=ur(a,R,n)),a=Sr(a,r,t),Xr.filter((e=>e!==r)).forEach((e=>{a=sr(a,e)})),[o,a]}function en(e,t,r,n,i){let o=e;bt(e).forEach((t=>{const[a,s]=Zr(t,i,r,e.internal_accessTo,n);o=wt(o,a),o=wt(o,s)}));let a=Yr(t);a=Sr(a,"resource"===n?_:x,e.internal_accessTo),a=Sr(a,r,i);return function(e){return Br(e).filter(Jr).reduce(_t,e)}(wt(o,a))}function tn(e,t){return Qr(e,{resourceAcl:t,fallbackAcl:null})}class rn extends Error{constructor(e,t){super(`[${z(e)}] is governed by Access Control Policies in [${z(t)}] rather than by Web Access Control.`)}}function nn(e){return null!==e.internal_acl.resourceAcl&&J(e)===e.internal_acl.resourceAcl.internal_accessTo&&e.internal_resourceInfo.aclUrl===J(e.internal_acl.resourceAcl)}function on(e){return nn(e)?e.internal_acl.resourceAcl:null}function an(e){return null!==e.internal_acl.fallbackAcl}function sn(e){return an(e)?e.internal_acl.fallbackAcl:null}function ln(e){return Z({...Ft(),internal_accessTo:J(e),internal_resourceInfo:{sourceIri:e.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}function un(e){const t=ln(e);return $r(Br(e.internal_acl.fallbackAcl),e.internal_acl.fallbackAcl.internal_accessTo).map((t=>(t=sr(t,x),t=sr(t,R),t=Sr(t,_,J(e)),t=Sr(t,x,J(e))))).reduce(wt,t)}async function cn(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;if(!dn(e))throw new Error(`Could not determine the location of the ACL for the Resource at [${J(e)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);return{...await Lt(e.internal_resourceInfo.aclUrl,t,r),internal_accessTo:J(e)}}function dn(e){return"string"===typeof e.internal_resourceInfo.aclUrl}function fn(e,t){return nn(e)?pn(e.internal_acl.resourceAcl,t):an(e)?vn(e.internal_acl.fallbackAcl,t):null}function hn(e){if(nn(e)){return gn(on(e))}if(an(e)){return mn(sn(e))}return null}function pn(e,t){return Kr(bn(Wr(Br(e),e.internal_accessTo),t).map(Vr))}function gn(e){return Sn(wn(Wr(Br(e),e.internal_accessTo)))}function yn(e,t,r){return en(e,r,S,"resource",t)}function vn(e,t){return Kr(bn($r(Br(e),e.internal_accessTo),t).map(Vr))}function mn(e){return Sn(wn($r(Br(e),e.internal_accessTo)))}function bn(e,t){return Gr(e,t,S)}function wn(e){return e.filter(_n)}function _n(e){return null!==it(e,S)}function Sn(e){return qr(e,S)}function En(e,t){return nn(e)?xn(e.internal_acl.resourceAcl,t):an(e)?kn(e.internal_acl.fallbackAcl,t):null}function An(e){if(nn(e)){return Rn(on(e))}if(an(e)){return In(sn(e))}return null}function xn(e,t){return Kr(Cn(Wr(Br(e),e.internal_accessTo),t).map(Vr))}function Rn(e){return Tn(Wr(Br(e),e.internal_accessTo))}function kn(e,t){return Kr(Cn($r(Br(e),e.internal_accessTo),t).map(Vr))}function In(e){return Tn($r(Br(e),e.internal_accessTo))}function Cn(e,t){return Gr(e,t,E)}function Tn(e){return qr(e,E)}function Pn(e,t,r){return en(e,r,E,"resource",t)}function On(e){return nn(e)?Nn(e.internal_acl.resourceAcl):an(e)?Fn(e.internal_acl.fallbackAcl):null}function Nn(e){return Kr(jn(Wr(Br(e),e.internal_accessTo),F).map(Vr))}function Fn(e){return Kr(jn($r(Br(e),e.internal_accessTo),F).map(Vr))}function Dn(e,t){return en(e,t,A,"resource",F)}function jn(e,t){return e.filter((e=>function(e,t){return at(e,A).includes(t)}(e,t)))}function Ln(e,t){const r=mt(e,t);if(null===r)throw new Error(`Profile document [${J(e)}] does not include WebID [${t}]`);return r}function Un(e,t){return nt(Ln(e,t),M)}async function Mn(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n={...H,...r},i=await n.fetch(t);if(!i.ok)throw new Error(`Fetching [${t}] returned an error: ${i.status} ${i.statusText}`);try{const r=await i.json();if(!(e=>"undefined"!==typeof e.keys)(r))throw new Error(`[${t}] does not dereference to a valid JWKS: ${JSON.stringify(r)}`);return{keys:[...r.keys,e]}}catch(o){throw new Error(`Parsing the document at [${t}] failed: ${o}`)}}function Bn(e,t){const r=mt(t,e),n=bt(t).filter((e=>at(e,D).length>0)).map(xt).concat(r?at(r,T):[]).concat(r?at(r,j):[]).filter((e=>e!==z(t)));return Array.from(new Set(n))}async function Hn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;var r,n;const i=null!==(r=t.fetch)&&void 0!==r?r:y,o=null!==(n=t.webIdProfile)&&void 0!==n?n:await jt(e,{fetch:y});return{webIdProfile:o,altProfileAll:(await Promise.allSettled(Bn(e,o).map((e=>jt(e,{fetch:i}))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}}function Wn(e,t){const r=new Set;return[e.webIdProfile,...e.altProfileAll].forEach((e=>{const n=mt(e,t);null!==n&&at(n,B).forEach((e=>r.add(e)))})),Array.from(r)}function $n(e){if(!Ji(e))throw new Error(`An Access Control Resource for [${J(e)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return e.internal_acp.acr}function Vn(e,t){return Object.assign(m(e),{internal_acp:{...e.internal_acp,acr:t}})}function Kn(e){let t=St(e);return t=Sr(t,C,L.AccessControl),t}function Jn(e,t){const r=bt($n(e),t),n=r.filter((e=>at(e,C).includes(L.AccessControl))),i=r.filter((e=>at(e,L.accessControl).length>0)).map((e=>St({url:at(e,L.accessControl)[0]})));return n.concat(i)}function zn(e,t){return Vn(e,wt($n(e),t))}function Gn(e,t){return Gt(e,L.apply,t)}function qn(e){return at(e,L.apply)}function Yn(e,t){return ur(e,L.apply,t)}function Qn(e){return sr(e,L.apply)}function Xn(e,t){return Gt(e,L.applyMembers,t)}function Zn(e){return at(e,L.applyMembers)}function ei(e){return sr(e,L.applyMembers)}function ti(e){const t=Jn(e);return 0===t.length?Kn():t[0]}function ri(e){return f(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[L.accessControl])&&1===e.internal_resourceInfo.linkedResources[L.accessControl].length}function ni(e,t){var r;const n=$n(e),i=J(n);let o=null!==(r=mt(n,i))&&void 0!==r?r:St({url:i});o=Gt(o,L.access,t);return Vn(e,wt(n,o))}function ii(e,t){var r;const n=$n(e),i=J(n);let o=null!==(r=mt(n,i))&&void 0!==r?r:St({url:i});o=Gt(o,L.accessMembers,t);return Vn(e,wt(n,o))}function oi(e){const t=$n(e),r=mt(t,J(t));return null===r?[]:at(r,L.access)}function ai(e){const t=$n(e),r=mt(t,J(t));return null===r?[]:at(r,L.accessMembers)}function si(e,t){const r=$n(e),n=mt(r,J(r));if(null===n)return e;return Vn(e,wt(r,ur(n,L.access,t)))}function li(e,t){const r=$n(e),n=mt(r,J(r));if(null===n)return e;return Vn(e,wt(r,ur(n,L.accessMembers,t)))}function ui(e){const t=$n(e),r=mt(t,J(t));if(null===r)return e;return Vn(e,wt(t,sr(r,L.access)))}function ci(e){const t=$n(e),r=mt(t,J(t));if(null===r)return e;return Vn(e,wt(t,sr(r,L.accessMembers)))}function di(e,t){return zn(e,Gn(ti(e),t))}function fi(e,t){return zn(e,Xn(ti(e),t))}function hi(e){const t=Jn(e).map((e=>qn(e))),r=new Set;return t.forEach((e=>{e.forEach((e=>r.add(e)))})),Array.from(r)}function pi(e){const t=Jn(e).map((e=>Zn(e))),r=new Set;return t.forEach((e=>{e.forEach((e=>r.add(e)))})),Array.from(r)}function gi(e,t){return Jn(e).map((e=>Yn(e,t))).reduce(zn,e)}function yi(e,t){const r=Jn(e).map((e=>function(e,t){return ur(e,L.applyMembers,t)}(e,t)));return r.reduce(zn,e)}function vi(e){return Jn(e).map((e=>Qn(e))).reduce(zn,e)}function mi(e){return Jn(e).map((e=>ei(e))).reduce(zn,e)}function bi(e){let t=`# Access controls for ${J(e)}\n`;const r=hi(e),n=pi(e),i=oi(e),o=ai(e);return 0===r.length&&0===n.length&&0===i.length&&0===o.length&&(t+="\n<no policies specified yet>\n"),r.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=`${r.join("\n- ")}\n`),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=`${i.join("\n- ")}\n`),n.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=`${n.join("\n- ")}\n`),o.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=`${o.join("\n- ")}\n`),t}const wi="http://www.w3.org/ns/solid/acp#",_i={AccessControl:wi.concat("AccessControl"),AccessControlResource:wi.concat("AccessControlResource"),AuthenticatedAgent:wi.concat("AuthenticatedAgent"),CreatorAgent:wi.concat("CreatorAgent"),Matcher:wi.concat("Matcher"),Policy:wi.concat("Policy"),PublicAgent:wi.concat("PublicAgent"),access:wi.concat("access"),accessControl:wi.concat("accessControl"),agent:wi.concat("agent"),allOf:wi.concat("allOf"),allow:wi.concat("allow"),anyOf:wi.concat("anyOf"),apply:wi.concat("apply"),client:wi.concat("client"),deny:wi.concat("deny"),memberAccessControl:wi.concat("memberAccessControl"),noneOf:wi.concat("noneOf"),vc:wi.concat("vc")},Si="http://www.w3.org/ns/auth/acl#",Ei={Append:Si.concat("Append"),Control:Si.concat("Control"),Read:Si.concat("Read"),Write:Si.concat("Write")};function Ai(e){const t=$n(e);return mt(t,J(t))}const xi="defaultAccessControl",Ri="defaultAcrAccessControl",ki="defaultMemberAccessControl",Ii="defaultMemberAcrAccessControl";function Ci(e,t){return J($n(e)).concat("#").concat(t)}function Ti(e,t){const r=$n(e),n=Ci(e,t),i=mt(r,n);return null===i||"undefined"===typeof i?St({url:n}):i}function Pi(e,t){const r=at(e,t);return{read:r.includes(Ei.Read),append:r.includes(Ei.Append),write:r.includes(Ei.Write),controlRead:!1,controlWrite:!1}}function Oi(e,t,r){let n=sr(e,r);return(t.read||t.controlRead)&&(n=Gt(n,r,Ei.Read)),t.append&&(n=Gt(n,r,Ei.Append)),(t.write||t.controlWrite)&&(n=Gt(n,r,Ei.Write)),n}const Ni="defaultVcPolicy",Fi="defaultVcMatcher";function Di(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inherit:!1};var n;let i=$n(e);const o=`${z(i)}#${Ni}`,a=`${z(i)}#${Fi}`,{policy:s,matcher:l}=function(e,t,r,n){var i;let o=mt(e,t);null===o&&(o=Fr({url:t}).addIri(C,_i.Policy).addIri(_i.anyOf,r).build());const a=null!==(i=mt(e,r))&&void 0!==i?i:Fr({url:r}).addIri(C,_i.Matcher).addIri(_i.vc,"http://www.w3.org/ns/solid/vc#SolidAccessGrant").build();return o=Oi(o,{...Pi(o,_i.allow),...n},_i.allow),{matcher:a,policy:o}}(i,o,a,t);let u=Ti(e,"defaultAccessControl");at(u,_i.apply).includes(xt(s))||(u=Gt(u,_i.apply,s));let c=Ti(e,"defaultMemberAccessControl"),d=null!==(n=Ai(e))&&void 0!==n?n:St({url:z(i)});return at(d,_i.accessControl).includes(xt(u))||(d=Gt(d,_i.accessControl,u)),i=[d,u,s,l].reduce(wt,i),r.inherit&&(at(c,_i.apply).includes(xt(s))||(c=Gt(c,_i.apply,s)),at(d,_i.memberAccessControl).includes(xt(c))||(d=Gt(d,_i.memberAccessControl,c)),i=[d,c].reduce(wt,i)),function(e,t){return Object.assign(m(e),{internal_acp:{acr:t}})}(e,i)}const ji={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},Li=(e,t,r)=>at(e,t).includes(xt(r));function Ui(e){const t=$n(e),r=Ti(e,"defaultAccessControl"),n=Ai(e);if(null===n||!Li(n,_i.accessControl,r))return ji;const i=mt(t,`${z(t)}#${Ni}`);if(null===i||!Li(r,_i.apply,i))return ji;const o=mt(t,`${z(t)}#${Fi}`);return null!==o&&Li(i,_i.anyOf,o)?Pi(i,_i.allow):ji}async function Mi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await jt(r,n),o=await zi(i,n);return{...i,...o}}async function Bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await Ge(r,n),o=await zi(i,n);return Object.assign(i,o)}async function Hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await W(r,n),o=await zi(i,n);return{...i,...o}}async function Wi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await jt(r,n);if(dn(i)){return Qr(i,await jr(i,n))}const o=await zi(i,n);return{...i,...o}}async function $i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await Ge(r,n);if(dn(i)){return Qr(i,await jr(i,n))}const o=await zi(i,n);return Object.assign(i,o)}async function Vi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await W(r,n);if(dn(i)){return Qr(i,await jr(i,n))}const o=await zi(i,n);return{...i,...o}}async function Ki(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=$n(e),n={...H,...t};return Vn(e,await Lt(J(r),r,n))}function Ji(e){return"object"===typeof e.internal_acp&&null!==e.internal_acp&&"object"===typeof e.internal_acp.acr&&null!==e.internal_acp.acr}async function zi(e,t){let r,n;if(ri(e)){const{linkedResources:t}=e.internal_resourceInfo;[r]=t[L.accessControl]}else if(dn(e)){let n;try{n=await W(e.internal_resourceInfo.aclUrl,t)}catch(i){}n&&Dr(n)&&(r=J(n))}if("string"!==typeof r)return{internal_acp:{acr:null}};try{n=await jt(r,t)}catch(i){return{internal_acp:{acr:null}}}return{internal_acp:{acr:{...n,accessTo:J(e)}}}}function Gi(e){const t=hi(e).map(Nt).concat(pi(e).map(Nt)).concat(oi(e).map(Nt)).concat(ai(e).map(Nt));return Array.from(new Set(t))}async function qi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e),n={...H,...t},i=await W(r,n);return Ji(await zi(i,n))}function Yi(e){if(!f(e))return;return[L.accessControl,"acl"].map((t=>{if(Array.isArray(e.internal_resourceInfo.linkedResources[t])&&1===e.internal_resourceInfo.linkedResources[t].length)return e.internal_resourceInfo.linkedResources[t][0]})).find((e=>void 0!==e))}function Qi(e){return at(e,C).includes(L.Rule)}function Xi(e,t){return Gt(e,L.allOf,t)}function Zi(e,t){return ur(e,L.allOf,t)}function eo(e,t){return Sr(e,L.allOf,t)}function to(e){return at(e,L.allOf)}function ro(e,t){return Gt(e,L.anyOf,t)}function no(e,t){return ur(e,L.anyOf,t)}function io(e,t){return Sr(e,L.anyOf,t)}function oo(e){return at(e,L.anyOf)}function ao(e,t){return Gt(e,L.noneOf,t)}function so(e,t){return ur(e,L.noneOf,t)}function lo(e,t){return Sr(e,L.noneOf,t)}function uo(e){return at(e,L.noneOf)}function co(e){let t=St({url:g(e)});return t=_r(t,C,L.Rule),t}function fo(e,t){const r=$n(e),n=new URL(J(r));n.hash=`#${t}`;let i=St({url:n.href});return i=_r(i,C,L.Rule),i}function ho(e,t){const r=mt(e,t);return null===r||nt(r,C)!==L.Rule?null:r}function po(e,t){const r=$n(e),n=J(r),i=new URL(n);i.hash=`#${t}`;const o=mt(r,i.href);return null!==o&&Qi(o)?o:null}function go(e){return bt(e).filter(Qi)}function yo(e){return bt($n(e)).filter(Qi)}function vo(e,t){return _t(e,t)}function mo(e,t){const r=$n(e);let n;if("string"===typeof t)if(xe(t))n=t;else{const e=new URL(J(r));e.hash=`#${t}`,n=e.href}else n=Se(t)?g(t):At(t);const i=po(e,new URL(n).hash.substring(1));if(null===i)return e;return Vn(e,_t(r,i))}function bo(e,t){return wt(e,t)}function wo(e,t){return Vn(e,wt($n(e),t))}function _o(e){return at(e,L.agent).filter((e=>e!==L.PublicAgent&&e!==L.AuthenticatedAgent&&e!==L.CreatorAgent))}function So(e,t){const r=Co(e),n=Oo(e),i=Do(e);let o=Sr(e,L.agent,t);return r&&(o=To(o)),n&&(o=No(o)),i&&(o=jo(o)),o}function Eo(e,t){return Gt(e,L.agent,t)}function Ao(e,t){return ur(e,L.agent,t)}function xo(e){return at(e,L.group)}function Ro(e,t){return Sr(e,L.group,t)}function ko(e,t){return Gt(e,L.group,t)}function Io(e,t){return ur(e,L.group,t)}function Co(e){return at(e,L.agent).filter((e=>e===L.PublicAgent)).length>0}function To(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Gt(e,L.agent,L.PublicAgent)}function Po(e){return ur(e,L.agent,L.PublicAgent)}function Oo(e){return at(e,L.agent).filter((e=>e===L.AuthenticatedAgent)).length>0}function No(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Gt(e,L.agent,L.AuthenticatedAgent)}function Fo(e){return ur(e,L.agent,L.AuthenticatedAgent)}function Do(e){return at(e,L.agent).filter((e=>e===L.CreatorAgent)).length>0}function jo(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Gt(e,L.agent,L.CreatorAgent)}function Lo(e){return ur(e,L.agent,L.CreatorAgent)}function Uo(e){return at(e,L.client).filter((e=>e!==U))}function Mo(e,t){const r=Wo(e);let n=Sr(e,L.client,t);return r&&(n=$o(n)),n}function Bo(e,t){return Gt(e,L.client,t)}function Ho(e,t){return ur(e,L.client,t)}function Wo(e){return at(e,L.client).filter((e=>e===U)).length>0}function $o(e){return Gt(e,L.client,U)}function Vo(e){return ur(e,L.client,U)}function Ko(e){let t=`## Rule: ${At(e)}\n\n`,r="";Co(e)&&(r+="- Everyone\n"),Oo(e)&&(r+="- All authenticated agents\n"),Do(e)&&(r+="- The creator of this resource\n"),Wo(e)&&(r+="- Users of any client application\n");const n=_o(e);n.length>0&&(r+="- The following agents:\n  - ",r+=`${n.join("\n  - ")}\n`);const i=xo(e);i.length>0&&(r+="- Members of the following groups:\n  - ",r+=`${i.join("\n  - ")}\n`);const o=Uo(e);return o.length>0&&(r+="- Users of the following client applications:\n  - ",r+=`${o.join("\n  - ")}\n`),t+=r.length>0?`This rule applies to:\n${r}`:"<empty>\n",t}function Jo(e){return at(e,C).includes(L.Policy)}function zo(e){let t=St({url:g(e)});return t=_r(t,C,L.Policy),t}function Go(e,t){const r=mt(e,t);return null!==r&&Jo(r)?r:null}function qo(e){return bt(e).filter((e=>!kt(e)&&Jo(e)))}function Yo(e,t){return _t(e,t)}function Qo(e,t){return wt(e,t)}function Xo(e,t){let r=sr(e,L.allow);return!0===t.read&&(r=Gt(r,L.allow,zr.read)),!0===t.append&&(r=Gt(r,L.allow,zr.append)),!0===t.write&&(r=Gt(r,L.allow,zr.write)),r}function Zo(e,t){let r=sr(e,L.allow);return!0===t.read&&(r=Gt(r,L.allow,L.Read)),!0===t.append&&(r=Gt(r,L.allow,L.Append)),!0===t.write&&(r=Gt(r,L.allow,L.Write)),r}function ea(e){const t=at(e,L.allow);return{read:t.includes(zr.read),append:t.includes(zr.append),write:t.includes(zr.write)}}function ta(e){const t=at(e,L.allow);return{read:t.includes(L.Read),append:t.includes(L.Append),write:t.includes(L.Write)}}function ra(e,t){let r=sr(e,L.deny);return!0===t.read&&(r=Gt(r,L.deny,zr.read)),!0===t.append&&(r=Gt(r,L.deny,zr.append)),!0===t.write&&(r=Gt(r,L.deny,zr.write)),r}function na(e,t){let r=sr(e,L.deny);return!0===t.read&&(r=Gt(r,L.deny,L.Read)),!0===t.append&&(r=Gt(r,L.deny,L.Append)),!0===t.write&&(r=Gt(r,L.deny,L.Write)),r}function ia(e){const t=at(e,L.deny);return{read:t.includes(zr.read),append:t.includes(zr.append),write:t.includes(zr.write)}}function oa(e){const t=at(e,L.deny);return{read:t.includes(L.Read),append:t.includes(L.Append),write:t.includes(L.Write)}}function aa(e,t){const r=$n(e),n=new URL(J(r));n.hash=`#${t}`;let i=St({url:n.href});return i=_r(i,C,L.Policy),i}function sa(e,t){const r=$n(e),n=J(r),i=new URL(n);i.hash=`#${t}`;const o=mt(r,i.href);return hi(e).includes(i.href)&&null!==o&&Jo(o)?o:null}function la(e,t){const r=$n(e),n=J(r),i=new URL(n);i.hash=`#${t}`;const o=mt(r,i.href);return oi(e).includes(i.href)&&null!==o&&Jo(o)?o:null}function ua(e){const t=$n(e);return hi(e).map((e=>mt(t,e))).filter((e=>null!==e&&Jo(e)))}function ca(e){const t=$n(e);return oi(e).map((e=>mt(t,e))).filter((e=>null!==e&&Jo(e)))}function da(e,t){const r=$n(e);let n,i=t;if("string"===typeof i&&!1===xe(i)){const e=new URL(J(r));e.hash=`#${t}`,i=e.href}n="string"===typeof i?i:Se(i)?g(i):At(i,J(r));if(null===sa(e,new URL(n).hash.substring(1)))return e;return gi(Vn(e,_t(r,i)),n)}function fa(e,t){const r=$n(e);let n,i=t;if("string"===typeof i&&!1===xe(i)){const e=new URL(J(r));e.hash=`#${t}`,i=e.href}n="string"===typeof i?i:Se(i)?g(i):At(i,J(r));if(null===la(e,new URL(n).hash.substring(1)))return e;return si(Vn(e,_t(r,i)),n)}function ha(e,t){const r=$n(e);return di(Vn(e,wt(r,t)),At(t,J(r)))}function pa(e,t){const r=$n(e);return ni(Vn(e,wt(r,t)),At(t,J(r)))}function ga(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}const r=ta(e),n=oa(e);let i=`## Policy: ${At(e)}\n\n`;i+=`- Read: ${t(r.read,n.read)}\n`,i+=`- Append: ${t(r.append,n.append)}\n`,i+=`- Write: ${t(r.write,n.write)}\n`;const o=to(e),a=oo(e),s=uo(e);return 0===o.length&&0===a.length&&0===s.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+=`- ${o.join("\n- ")}\n`),a.length>0&&(i+="\nAt least one of these rules should match:\n",i+=`- ${a.join("\n- ")}\n`),s.length>0&&(i+="\nNone of these rules should match:\n",i+=`- ${s.join("\n- ")}\n`),i}function ya(e){return{...Kt(new URL("access-control-resource",e).href),accessTo:e}}function va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya(J(e));return Object.assign(m(e),{internal_acp:{acr:t,aprs:{}}})}function ma(e,t){return t?To(e):Po(e)}function ba(e,t){return t?No(e):Fo(e)}function wa(e,t){return t?jo(e):Lo(e)}const _a={...{getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getReferencedPolicyUrlAll:Gi,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,hasAccessibleAcr:Ji,saveAcrFor:Ki},...{acrAsMarkdown:bi,addAcrPolicyUrl:ni,addMemberAcrPolicyUrl:ii,addMemberPolicyUrl:fi,addPolicyUrl:di,getAcrPolicyUrlAll:oi,getMemberAcrPolicyUrlAll:ai,getMemberPolicyUrlAll:pi,getPolicyUrlAll:hi,hasLinkedAcr:ri,removeAcrPolicyUrl:si,removeAcrPolicyUrlAll:ui,removeMemberAcrPolicyUrl:li,removeMemberAcrPolicyUrlAll:ci,removeMemberPolicyUrl:yi,removeMemberPolicyUrlAll:mi,removePolicyUrl:gi,removePolicyUrlAll:vi},...{createPolicy:zo,getAllowModes:ta,getDenyModes:oa,getPolicy:Go,getPolicyAll:qo,policyAsMarkdown:ga,removePolicy:Yo,setAllowModes:Zo,setDenyModes:na,setPolicy:Qo},...{addAgent:Eo,addForbiddenRuleUrl:ao,addGroup:ko,addOptionalRuleUrl:ro,addRequiredRuleUrl:Xi,createRule:co,getAgentAll:_o,getForbiddenRuleUrlAll:uo,getGroupAll:xo,getOptionalRuleUrlAll:oo,getRequiredRuleUrlAll:to,getRule:ho,getRuleAll:go,hasAuthenticated:Oo,hasCreator:Do,hasPublic:Co,removeAgent:Ao,removeForbiddenRuleUrl:so,removeGroup:Io,removeOptionalRuleUrl:no,removeRequiredRuleUrl:Zi,removeRule:vo,ruleAsMarkdown:Ko,setAgent:So,setForbiddenRuleUrl:lo,setGroup:Ro,setOptionalRuleUrl:io,setRequiredRuleUrl:eo,setRule:bo},...{addMockAcrTo:va,mockAcrFor:ya},...{getForbiddenRuleurlAll:uo,setPublic:ma,setAuthenticated:ba,setCreator:wa}},Sa={...{getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getReferencedPolicyUrlAll:Gi,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,hasAccessibleAcr:Ji,saveAcrFor:Ki},...{createPolicy:zo,getAllowModes:ta,getDenyModes:oa,getPolicy:Go,getPolicyAll:qo,policyAsMarkdown:ga,removePolicy:Yo,setAllowModes:Zo,setDenyModes:na,setPolicy:Qo},...{addAgent:Eo,addForbiddenRuleUrl:ao,addGroup:ko,addOptionalRuleUrl:ro,addRequiredRuleUrl:Xi,createRule:co,getAgentAll:_o,getForbiddenRuleUrlAll:uo,getGroupAll:xo,getOptionalRuleUrlAll:oo,getRequiredRuleUrlAll:to,getRule:ho,getRuleAll:go,hasAuthenticated:Oo,hasCreator:Do,hasPublic:Co,removeAgent:Ao,removeForbiddenRuleUrl:so,removeGroup:Io,removeOptionalRuleUrl:no,removeRequiredRuleUrl:Zi,removeRule:vo,ruleAsMarkdown:Ko,setAgent:So,setForbiddenRuleUrl:lo,setGroup:Ro,setOptionalRuleUrl:io,setRequiredRuleUrl:eo,setRule:bo},...{addMockAcrTo:va,mockAcrFor:ya},...{hasLinkedAcr:ri,addAcrPolicyUrl:ni,addMemberAcrPolicyUrl:ii,getAcrPolicyUrlAll:oi,getMemberAcrPolicyUrlAll:ai,removeAcrPolicyUrl:si,removeAcrPolicyUrlAll:ui,removeMemberAcrPolicyUrl:li,removeMemberAcrPolicyUrlAll:ci},...{createControl:Kn,getControl:function(e,t,r){const n=mt($n(e),t,r);return null!==n&&at(n,C).includes(L.AccessControl)?n:null},getAllControl:Jn,getControlAll:Jn,setControl:zn,removeControl:function(e,t){const r=_t($n(e),t);return Vn(e,r)},addPolicyUrl:Gn,getPolicyUrlAll:qn,removePolicyUrl:Yn,removePolicyUrlAll:Qn,addMemberPolicyUrl:Xn,getMemberPolicyUrlAll:Zn,removeMemberPolicyUrl:Zn,removeMemberPolicyUrlAll:ei,getForbiddenRuleurlAll:uo,setPublic:ma,setAuthenticated:ba,setCreator:wa}};const Ea={...{getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getLinkedAcrUrl:Yi,getReferencedPolicyUrlAll:Gi,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,hasAccessibleAcr:Ji,saveAcrFor:Ki,isAcpControlled:qi},...{acrAsMarkdown:bi,addAcrPolicyUrl:ni,addMemberAcrPolicyUrl:ii,addMemberPolicyUrl:fi,addPolicyUrl:di,getAcrPolicyUrlAll:oi,getMemberAcrPolicyUrlAll:ai,getMemberPolicyUrlAll:pi,getPolicyUrlAll:hi,hasLinkedAcr:ri,removeAcrPolicyUrl:si,removeAcrPolicyUrlAll:ui,removeMemberAcrPolicyUrl:li,removeMemberAcrPolicyUrlAll:ci,removeMemberPolicyUrl:yi,removeMemberPolicyUrlAll:mi,removePolicyUrl:gi,removePolicyUrlAll:vi},...{createPolicy:zo,getAllowModes:ta,getDenyModes:oa,getPolicy:Go,getPolicyAll:qo,policyAsMarkdown:ga,removePolicy:Yo,setAllowModes:Zo,setDenyModes:na,setPolicy:Qo,createResourcePolicyFor:aa,getResourceAcrPolicy:la,getResourceAcrPolicyAll:ca,getResourcePolicy:sa,getResourcePolicyAll:ua,removeResourceAcrPolicy:fa,removeResourcePolicy:da,setResourceAcrPolicy:pa,setResourcePolicy:ha},...{addAgent:Eo,addGroup:ko,createRule:co,getAgentAll:_o,getGroupAll:xo,getRule:ho,getRuleAll:go,removeAgent:Ao,removeGroup:Io,removeRule:vo,ruleAsMarkdown:Ko,setAgent:So,setGroup:Ro,setRule:bo,addClient:Bo,getClientAll:Uo,hasAnyClient:Wo,removeClient:Ho,setAnyClient:$o,setClient:Mo,removeAnyClient:Vo,hasAuthenticated:Oo,hasCreator:Do,hasPublic:Co,setAuthenticated:No,setCreator:jo,setPublic:To,removeAuthenticated:Fo,removeCreator:Lo,removePublic:Po,getAnyOfRuleUrlAll:oo,addAnyOfRuleUrl:ro,removeAnyOfRuleUrl:no,setAnyOfRuleUrl:io,getAllOfRuleUrlAll:to,addAllOfRuleUrl:Xi,removeAllOfRuleUrl:Zi,setAllOfRuleUrl:eo,getNoneOfRuleUrlAll:uo,addNoneOfRuleUrl:ao,removeNoneOfRuleUrl:so,setNoneOfRuleUrl:lo,createResourceRuleFor:fo,getResourceRule:po,getResourceRuleAll:yo,removeResourceRule:mo,setResourceRule:wo},...{addMockAcrTo:va,mockAcrFor:ya}};function Aa(e,t){return Object.assign(m(e),{internal_acp:{...e.internal_acp,acr:wt(e.internal_acp.acr,t)}})}function xa(e){return e.includes("Member")?_i.memberAccessControl:_i.accessControl}function Ra(e,t){const r=Ci(e,t),n=$n(e);let i=Ai(e);null!==i&&"undefined"!==typeof i||(i=St({url:J(n)}));return at(i,xa(t)).includes(r)?e:(i=Fr(i).addUrl(xa(t),r).build(),Aa(e,i))}function ka(e,t){const r=Ra(e,Ri);return Aa(r,Fr(Ti(r,Ri)).addUrl(_i.access,t).build())}function Ia(e,t){const r=Ra(e,Ii);return Aa(r,Fr(Ti(r,Ii)).addUrl(_i.access,t).build())}function Ca(e,t){const r=Ra(e,ki);return Aa(r,Fr(Ti(r,ki)).addUrl(_i.apply,t).build())}function Ta(e,t){const r=Ra(e,xi);return Aa(r,Fr(Ti(r,xi)).addUrl(_i.apply,t).build())}function Pa(e){const t=Ai(e);return null===t?[]:at(t,_i.accessControl)}function Oa(e,t,r){const n=$n(e);return Array.from(new Set(t.map((e=>{const t=mt(n,e);return null!==t?at(t,r):[]})).reduce(((e,t)=>e.concat(t)),[])))}function Na(e){return Oa(e,Pa(e),_i.access)}function Fa(e){const t=Ai(e);return null===t?[]:at(t,_i.memberAccessControl)}function Da(e){return Oa(e,Fa(e),_i.access)}function ja(e){return Oa(e,Fa(e),_i.apply)}function La(e){return Oa(e,Pa(e),_i.apply)}function Ua(e,t){const r=Ti(e,Ri);return Aa(e,ur(r,_i.access,t))}function Ma(e,t){const r=Ti(e,Ii);return Aa(e,ur(r,_i.access,t))}function Ba(e,t){const r=Ti(e,ki);return Aa(e,ur(r,_i.apply,t))}function Ha(e,t){const r=Ti(e,xi);return Aa(e,ur(r,_i.apply,t))}function Wa(e,t){return Aa(e,t)}function $a(e){return at(e,C).includes(L.Matcher)}function Va(e,t){return Gt(e,L.allOf,t)}function Ka(e,t){return ur(e,L.allOf,t)}function Ja(e,t){return Sr(e,L.allOf,t)}function za(e){return at(e,L.allOf)}function Ga(e,t){return Gt(e,L.anyOf,t)}function qa(e,t){return ur(e,L.anyOf,t)}function Ya(e,t){return Sr(e,L.anyOf,t)}function Qa(e){return at(e,L.anyOf)}function Xa(e,t){return Gt(e,L.noneOf,t)}function Za(e,t){return ur(e,L.noneOf,t)}function es(e,t){return Sr(e,L.noneOf,t)}function ts(e){return at(e,L.noneOf)}function rs(e){let t=St({url:g(e)});return t=_r(t,C,L.Matcher),t}function ns(e,t){const r=$n(e),n=new URL(J(r));n.hash=`#${t}`;let i=St({url:n.href});return i=_r(i,C,L.Matcher),i}function is(e,t){const r=mt(e,t);return null!==r&&$a(r)?r:null}function os(e,t){const r=$n(e),n=J(r),i=new URL(n);i.hash=`#${t}`;const o=mt(r,i.href);return null!==o&&$a(o)?o:null}function as(e){return bt(e).filter($a)}function ss(e){return bt($n(e)).filter($a)}function ls(e,t){return _t(e,t)}function us(e,t){const r=$n(e);let n;if("string"===typeof t)if(xe(t))n=t;else{const e=new URL(J(r));e.hash=`#${t}`,n=e.href}else n=Se(t)?g(t):At(t);const i=os(e,new URL(n).hash.substring(1));if(null===i)return e;return Vn(e,_t(r,i))}function cs(e,t){return wt(e,t)}function ds(e,t){return Vn(e,wt($n(e),t))}function fs(e){return at(e,L.agent).filter((e=>e!==L.PublicAgent&&e!==L.AuthenticatedAgent&&e!==L.CreatorAgent))}function hs(e,t){const r=ys(e),n=bs(e),i=Ss(e);let o=Sr(e,L.agent,t);return r&&(o=vs(o)),n&&(o=ws(o)),i&&(o=Es(o)),o}function ps(e,t){return Gt(e,L.agent,t)}function gs(e,t){return ur(e,L.agent,t)}function ys(e){return at(e,L.agent).filter((e=>e===L.PublicAgent)).length>0}function vs(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Gt(e,L.agent,L.PublicAgent)}function ms(e){return ur(e,L.agent,L.PublicAgent)}function bs(e){return at(e,L.agent).filter((e=>e===L.AuthenticatedAgent)).length>0}function ws(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Gt(e,L.agent,L.AuthenticatedAgent)}function _s(e){return ur(e,L.agent,L.AuthenticatedAgent)}function Ss(e){return at(e,L.agent).filter((e=>e===L.CreatorAgent)).length>0}function Es(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Gt(e,L.agent,L.CreatorAgent)}function As(e){return ur(e,L.agent,L.CreatorAgent)}function xs(e){return at(e,L.client).filter((e=>e!==U)).concat(ut(e,L.client))}function Rs(e,t){return xe(t)?Gt(e,L.client,t):rr(e,L.client,t)}function ks(e,t){return xe(t)?ur(e,L.client,t):vr(e,L.client,t)}function Is(e){return at(e,L.client).filter((e=>e===U)).length>0}function Cs(e){return Gt(e,L.client,U)}const Ts={...{getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getReferencedPolicyUrlAll:Gi,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,hasAccessibleAcr:Ji,saveAcrFor:Ki,isAcpControlled:qi,getVcAccess:Ui,setVcAccess:Di},...{addAcrPolicyUrl:ka,addMemberAcrPolicyUrl:Ia,addMemberPolicyUrl:Ca,addPolicyUrl:Ta,getAcrPolicyUrlAll:Na,getMemberAcrPolicyUrlAll:Da,getMemberPolicyUrlAll:ja,getPolicyUrlAll:La,hasLinkedAcr:ri,removeAcrPolicyUrl:Ua,removeAcrPolicyUrlAll:ui,removeMemberAcrPolicyUrl:Ma,removeMemberAcrPolicyUrlAll:ci,removeMemberPolicyUrl:Ba,removeMemberPolicyUrlAll:mi,removePolicyUrl:Ha,removePolicyUrlAll:vi},...{createPolicy:zo,getAllowModes:ea,getDenyModes:ia,getPolicy:Go,getPolicyAll:qo,removePolicy:Yo,setAllowModes:Xo,setDenyModes:ra,setPolicy:Qo,createResourcePolicyFor:aa,getResourceAcrPolicy:la,getResourceAcrPolicyAll:ca,getResourcePolicy:sa,getResourcePolicyAll:ua,removeResourceAcrPolicy:fa,removeResourcePolicy:da,setResourcePolicy:Wa},...{addAgent:ps,createMatcher:rs,getAgentAll:fs,getMatcher:is,getMatcherAll:as,removeAgent:gs,removeMatcher:ls,setAgent:hs,setMatcher:cs,addClient:Rs,getClientAll:xs,hasAnyClient:Is,removeClient:ks,setAnyClient:Cs,setClient:function(e,t){const r=Is(e);let n=Sr(e,L.client,t);return r&&(n=Cs(n)),n},removeAnyClient:function(e){return ur(e,L.client,U)},hasAuthenticated:bs,hasCreator:Ss,hasPublic:ys,setAuthenticated:ws,setCreator:Es,setPublic:vs,removeAuthenticated:_s,removeCreator:As,removePublic:ms,getAnyOfMatcherUrlAll:Qa,addAnyOfMatcherUrl:Ga,removeAnyOfMatcherUrl:qa,setAnyOfMatcherUrl:Ya,getAllOfMatcherUrlAll:za,addAllOfMatcherUrl:Va,removeAllOfMatcherUrl:Ka,setAllOfMatcherUrl:Ja,getNoneOfMatcherUrlAll:ts,addNoneOfMatcherUrl:Xa,removeNoneOfMatcherUrl:Za,setNoneOfMatcherUrl:es,createResourceMatcherFor:ns,getResourceMatcher:os,getResourceMatcherAll:ss,removeResourceMatcher:us,setResourceMatcher:ds},...{addMockAcrTo:va,mockAcrFor:ya}},Ps=[L.agent,L.group];function Os(e,t,r){if(e.inaccessibleUrls.length>0)return null;const n=e.acrPolicies.filter((n=>Ns(n,t,r,e))),i=e.policies.filter((n=>Ns(n,t,r,e))),o=n.reduce(((e,t)=>{const r={...e},n=ta(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce(((e,t)=>{const r={...e},n=ta(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce(((e,t)=>{const r={...e},n=oa(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce(((e,t)=>{const r={...e},n=oa(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function Ns(e,t,r,n){const i=at(e,L.allow),o=at(e,L.deny);if(i.length+o.length===0)return!1;const a=to(e).map((e=>n.rules.find((t=>xt(t)===e)))),s=oo(e).map((e=>n.rules.find((t=>xt(t)===e)))),l=uo(e).map((e=>n.rules.find((t=>xt(t)===e))));return a.every((e=>Ds(e,t,r)))&&(0===s.length||s.some((e=>Ds(e,t,r))))&&0===l.length}function Fs(e,t){const r=at(e,L.allow),n=at(e,L.deny);return!0===t.read&&n.includes(L.Read)||!1===t.read&&r.includes(L.Read)&&!n.includes(L.Read)||!0===t.append&&n.includes(L.Append)||!1===t.append&&r.includes(L.Append)&&!n.includes(L.Append)||!0===t.write&&n.includes(L.Write)||!1===t.write&&r.includes(L.Write)&&!n.includes(L.Write)}function Ds(e,t,r){let n=!0;return Ps.forEach((t=>{n&&(n=null===it(e,t))})),n||at(e,t).includes(r)}function js(e,t){if(e.inaccessibleUrls.length>0)return null;const r={},n=function(e,t){const r=new Set;return e.rules.forEach((e=>{at(e,t).filter((e=>![L.PublicAgent,L.CreatorAgent,L.AuthenticatedAgent].includes(e)||t!==L.agent)).forEach((e=>r.add(e)))})),r}(e,t);return n.forEach((n=>{const i=Os(e,t,n);r[n]=i})),r}function Ls(e,t,r,n,i){var o,a,s,l,u;if(!Ji(e)||t.inaccessibleUrls.length>0)return null;const d=Os(t,r,n);if(null===d)return null;const f=t.acrPolicies.filter((e=>Ns(e,r,n,t))),h=t.policies.filter((e=>Ns(e,r,n,t))),p=f.filter((e=>Fs(e,{read:i.controlRead,write:i.controlWrite}))),g=h.filter((e=>Fs(e,{read:i.read,append:i.append,write:i.write}))),y=p.filter((e=>Us(e,r,n,t))),v=g.filter((e=>Us(e,r,n,t))),m=Os({...t,acrPolicies:t.acrPolicies.filter((e=>!y.includes(e))),policies:t.policies.filter((e=>!v.includes(e)))},r,n);if(null===m)return null;let b=e;y.forEach((i=>{const[o,a]=Bs(i,e,t,r,n);b=pa(b,o),b=a.reduce(wo,b)})),v.forEach((i=>{const[o,a]=Bs(i,e,t,r,n);b=ha(b,o),b=a.reduce(wo,b)}));const w=`rule_${encodeURIComponent(`${r}_${n}`)}`;let _=fo(e,w);_=Sr(_,r,n);const S=null!==(o=i.controlRead)&&void 0!==o?o:d.controlRead,E=null!==(a=i.controlWrite)&&void 0!==a?a:d.controlWrite;let A=y;if(S!==m.controlRead||E!==m.controlWrite){const t=c.v4();let r=aa(e,t);r=Zo(r,{read:!0===S,append:!1,write:!0===E}),r=Gt(r,L.allOf,_),b=pa(b,r),b=wo(b,_),A=p}const x=null!==(s=i.read)&&void 0!==s?s:d.read,R=null!==(l=i.append)&&void 0!==l?l:d.append,k=null!==(u=i.write)&&void 0!==u?u:d.write;let I=v;if(x!==m.read||R!==m.append||k!==m.write){const t=c.v4();let r=aa(e,t);r=Zo(r,{read:!0===x,append:!0===R,write:!0===k}),r=Gt(r,L.allOf,_),b=ha(b,r),b=wo(b,_),I=g}return A.forEach((e=>{b=si(b,xt(e))})),I.forEach((e=>{b=gi(b,xt(e))})),b}function Us(e,t,r,n){const i=at(e,L.allOf).map((e=>n.rules.find((t=>xt(t)===e)))).some((e=>Ms(e,t,r))),o=at(e,L.anyOf).map((e=>n.rules.find((t=>xt(t)===e)))).some((e=>Ms(e,t,r))),a=at(e,L.noneOf).map((e=>n.rules.find((t=>xt(t)===e)))).some((e=>Ms(e,t,r)));return i||o||a}function Ms(e,t,r){const n=[];return Ps.forEach((i=>{const o=at(e,i).filter((e=>e!==r||i!==t));n.push(...o)})),n.length>0}function Bs(e,t,r,n,i){const o=c.v4(),a=Hs(at(e,L.allOf),t,r,o,n,i),s=Hs(at(e,L.anyOf),t,r,o,n,i),l=Hs(at(e,L.noneOf),t,r,o,n,i);let u=aa(t,encodeURI(xt(e))+o);return at(e,L.allow).forEach((e=>{u=Gt(u,L.allow,e)})),at(e,L.deny).forEach((e=>{u=Gt(u,L.deny,e)})),a.forEach((e=>{u=Gt(u,L.allOf,e)})),s.forEach((e=>{u=Gt(u,L.anyOf,e)})),l.forEach((e=>{u=Gt(u,L.noneOf,e)})),[u,a.concat(s).concat(l)]}function Hs(e,t,r,n,i,o){return e.map((e=>{const a=r.rules.find((t=>xt(t)===e));if("undefined"===typeof a)return null;let s=fo(t,encodeURI(xt(a))+n),l=!1;return Ps.forEach((e=>{at(a,e).forEach((t=>{e===i&&t===o||(l=!0,s=Gt(s,e,t))}))})),l?s:null})).filter(Ws)}function Ws(e){return null!==e}async function $s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=oi(e),n=hi(e),i=Ks(r).concat(Ks(n)),o=await Js(i,t),a=zs(r,o).filter(Ws),s=zs(n,o).filter(Ws),l=new Set;a.forEach((e=>{Gs(e).forEach((e=>{l.add(e)}))})),s.forEach((e=>{Gs(e).forEach((e=>{l.add(e)}))}));const u=Array.from(l),c=u.map((e=>Vs(e))).filter((e=>!i.includes(e))),d=await Js(c,t),f={...o,...d},h=zs(u,f).filter(Ws);return{inaccessibleUrls:Object.keys(f).filter((e=>null===f[e])),acrPolicies:a,policies:s,rules:h}}function Vs(e){const t=new URL(e);return t.hash="",t.href}function Ks(e){const t=[];return e.forEach((e=>{const r=Vs(e);t.includes(r)||t.push(r)})),t}async function Js(e,t){const r=Array.from(new Set(e)),n={};return await Promise.all(r.map((async e=>{try{const r=await jt(e,t);n[e]=r}catch(r){n[e]=null}}))),n}function zs(e,t){return e.map((e=>{const r=Vs(e),n=t[r];return n?mt(n,e):null}))}function Gs(e){return to(e).concat(oo(e)).concat(uo(e))}function qs(e,t){var r,n,i,o;if(e.controlRead!==e.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:null!==(r=e.read)&&void 0!==r?r:t.read,append:null!==(n=e.append)&&void 0!==n?n:t.append,write:null!==(i=e.write)&&void 0!==i?i:t.write,control:null!==(o=e.controlRead)&&void 0!==o?o:t.control}}function Ys(e){return{read:e.read,write:e.write,append:e.append,controlRead:e.control,controlWrite:e.control}}async function Qs(e,t,r,n){const i=r(Qr(e,await jr(e,n)),t);return null===i?null:Ys(i)}async function Xs(e,t,r){const n=t(Qr(e,await jr(e,r)));if(null===n)return null;const i={};for(const[o,a]of Object.entries(n))i[o]=Ys(a);return i}function Zs(e,t){return Qs(e,t,fn,arguments.length>2&&void 0!==arguments[2]?arguments[2]:H)}function el(e,t){return Qs(e,t,En,arguments.length>2&&void 0!==arguments[2]?arguments[2]:H)}function tl(e){return async function(e,t,r){const n=t(Qr(e,await jr(e,r)));return null===n?null:Ys(n)}(e,On,arguments.length>1&&void 0!==arguments[1]?arguments[1]:H)}function rl(e){return Xs(e,hn,arguments.length>1&&void 0!==arguments[1]?arguments[1]:H)}async function nl(e,t){if(!dn(e))return null;const r=Qr(e,await jr(e,t));let n;if(nn(r))n=function(e){return e.internal_acl.resourceAcl}(r);else{if(!an(r))return null;n=un(r)}return tn(r,n)}async function il(e,t,r){let n=null;try{return n=await cn(e,t,r),tn(e,n)}catch(i){return null}}async function ol(e,t,r,n,i,o){const a=await nl(e,o);if(null===a)return null;const s=n(a,t);return il(a,i(on(a),t,qs(r,s)),o)}async function al(e,t,r){return ol(e,t,r,fn,yn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:H)}async function sl(e,t){return async function(e,t,r,n,i){const o=await nl(e,i);return null===o?null:il(o,n(on(o),qs(t,r(o))),i)}(e,t,On,Dn,arguments.length>2&&void 0!==arguments[2]?arguments[2]:H)}var ll=Object.freeze({__proto__:null,getAccessFor:ul,getAccessForAll:cl,getAgentAccess:fl,getAgentAccessAll:pl,getGroupAccess:gl,getGroupAccessAll:yl,getPublicAccess:ml,setAccessFor:dl,setAgentAccess:hl,setGroupAccess:vl,setPublicAccess:bl});async function ul(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;if("agent"===t){if("string"!==typeof r)throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");return fl(e,r,n)}if("group"===t){if("string"!==typeof r)throw new Error("When reading Group-specific access, the given group cannot be left undefined.");return gl(e,r,n)}if("public"===t){if("string"===typeof r)throw new Error(`When reading public access, no actor type should be specified (here [${r}]).`);return ml(e,r)}return null}async function cl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return"agent"===t?pl(e,r):"group"===t?yl(e,r):null}async function dl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:H;if("agent"===t){if("string"!==typeof n)throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");return hl(e,n,r,i)}if("group"===t){if("string"!==typeof n)throw new Error("When writing Group-specific access, the given group cannot be left undefined.");return vl(e,n,r,i)}if("public"===t){if("string"===typeof n)throw new Error(`When writing public access, no actor type should be specified (here [${n}]).`);return bl(e,r,n)}return null}async function fl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await Hi(e,r);if(Ji(n)){return function(e,t){return Os(e,L.agent,t)}(await $s(n,r),t)}return dn(n)?Zs(n,t,r):null}async function hl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;const i=await Hi(e,n);if(Ji(i)){const a=function(e,t,r,n){return Ls(e,t,L.agent,r,n)}(i,await $s(i,n),t,r);if(a)try{return await Ki(a,n),await fl(e,t,n)}catch(o){return null}return null}if(dn(i)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${z(i)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await al(i,t,e,n),Zs(i,t,n)}return null}async function pl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Hi(e,t);if(Ji(r)){return function(e){return js(e,L.agent)}(await $s(r,t))}return dn(r)?rl(r,t):null}async function gl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await Hi(e,r);if(Ji(n)){return function(e,t){return Os(e,L.group,t)}(await $s(n,r),t)}return dn(n)?el(n,t,r):null}async function yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Hi(e,t);if(Ji(r)){return function(e){return js(e,L.group)}(await $s(r,t))}return dn(r)?function(e){return Xs(e,An,arguments.length>1&&void 0!==arguments[1]?arguments[1]:H)}(r,t):null}async function vl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;const i=await Hi(e,n);if(Ji(i)){const a=function(e,t,r,n){return Ls(e,t,L.group,r,n)}(i,await $s(i,n),t,r);if(a)try{return await Ki(a,n),await gl(e,t,n)}catch(o){return null}return null}if(dn(i)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${z(i)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await async function(e,t,r){return ol(e,t,r,En,Pn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:H)}(i,t,e,n),el(i,t,n)}return null}async function ml(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Hi(e,t);if(Ji(r)){return function(e){return Os(e,L.agent,L.PublicAgent)}(await $s(r,t))}return dn(r)?tl(r,t):null}async function bl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await Hi(e,r);if(Ji(n)){const o=function(e,t,r){return Ls(e,t,L.agent,L.PublicAgent,r)}(n,await $s(n,r),t);if(o)try{return await Ki(o,r),await ml(e,r)}catch(i){return null}return null}if(dn(n)){if(t.controlRead!==t.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${z(n)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=t;return await sl(n,e,r),tl(n,r)}return null}var wl=Object.freeze({__proto__:null,getAccessFor:ul,getAccessForAll:cl,getAgentAccess:fl,getAgentAccessAll:pl,getGroupAccess:gl,getGroupAccessAll:yl,getPublicAccess:ml,setAccessFor:dl,setAgentAccess:hl,setGroupAccess:vl,setPublicAccess:bl});const _l=[L.agent];function Sl(e,t,r){if(e.inaccessibleUrls.length>0)return null;const n=e.acrPolicies.filter((n=>El(n,t,r,e))),i=e.policies.filter((n=>El(n,t,r,e))),o=n.reduce(((e,t)=>{const r={...e},n=ea(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce(((e,t)=>{const r={...e},n=ea(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce(((e,t)=>{const r={...e},n=ia(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce(((e,t)=>{const r={...e},n=ia(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function El(e,t,r,n){const i=at(e,L.allow),o=at(e,L.deny);if(i.length+o.length===0)return!1;const a=za(e).map((e=>n.matchers.find((t=>xt(t)===e)))),s=Qa(e).map((e=>n.matchers.find((t=>xt(t)===e)))),l=ts(e).map((e=>n.matchers.find((t=>xt(t)===e))));return a.every((e=>xl(e,t,r)))&&(0===s.length||s.some((e=>xl(e,t,r))))&&a.length+s.length>0&&0===l.length}function Al(e,t){const r=at(e,L.allow),n=at(e,L.deny);return!0===t.read&&n.includes(zr.read)||!1===t.read&&r.includes(zr.read)&&!n.includes(zr.read)||!0===t.append&&n.includes(zr.append)||!1===t.append&&r.includes(zr.append)&&!n.includes(zr.append)||!0===t.write&&n.includes(zr.write)||!1===t.write&&r.includes(zr.write)&&!n.includes(zr.write)}function xl(e,t,r){return at(e,t).includes(r)}function Rl(e,t){if(e.inaccessibleUrls.length>0)return null;const r={},n=function(e,t){const r=new Set;return e.matchers.forEach((e=>{at(e,t).filter((e=>![L.PublicAgent,L.CreatorAgent,L.AuthenticatedAgent].includes(e)||t!==L.agent)).forEach((e=>r.add(e)))})),r}(e,t);return n.forEach((n=>{const i=Sl(e,t,n);r[n]=i})),r}function kl(e,t,r,n,i){var o,a,s,l,u;if(!Ji(e)||t.inaccessibleUrls.length>0)return null;const d=Sl(t,r,n);if(null===d)return null;const f=t.acrPolicies.filter((e=>El(e,r,n,t))),h=t.policies.filter((e=>El(e,r,n,t))),p=f.filter((e=>Al(e,{read:i.controlRead,write:i.controlWrite}))),g=h.filter((e=>Al(e,{read:i.read,append:i.append,write:i.write}))),y=p.filter((e=>Il(e,r,n,t))),v=g.filter((e=>Il(e,r,n,t))),m=Sl({...t,acrPolicies:t.acrPolicies.filter((e=>!y.includes(e))),policies:t.policies.filter((e=>!v.includes(e)))},r,n);if(null===m)return null;let b=e;y.forEach((i=>{const[o,a]=Tl(i,e,t,r,n);b=pa(b,o),b=a.reduce(ds,b)})),v.forEach((i=>{const[o,a]=Tl(i,e,t,r,n);b=ha(b,o),b=a.reduce(ds,b)}));const w=`matcher_${encodeURIComponent(`${r}_${n}`)}`;let _=ns(e,w);_=Sr(_,r,n);const S=null!==(o=i.controlRead)&&void 0!==o?o:d.controlRead,E=null!==(a=i.controlWrite)&&void 0!==a?a:d.controlWrite;let A=y;if(S!==m.controlRead||E!==m.controlWrite){const t=c.v4();let r=aa(e,t);r=Xo(r,{read:!0===S,append:!1,write:!0===E}),r=Gt(r,L.allOf,_),b=pa(b,r),b=ds(b,_),A=p}const x=null!==(s=i.read)&&void 0!==s?s:d.read,R=null!==(l=i.append)&&void 0!==l?l:d.append,k=null!==(u=i.write)&&void 0!==u?u:d.write;let I=v;if(x!==m.read||R!==m.append||k!==m.write){const t=c.v4();let r=aa(e,t);r=Xo(r,{read:!0===x,append:!0===R,write:!0===k}),r=Gt(r,L.allOf,_),b=ha(b,r),b=ds(b,_),I=g}return A.forEach((e=>{b=si(b,xt(e))})),I.forEach((e=>{b=gi(b,xt(e))})),b}function Il(e,t,r,n){const i=at(e,L.allOf).map((e=>n.matchers.find((t=>xt(t)===e)))).some((e=>Cl(e,t,r))),o=at(e,L.anyOf).map((e=>n.matchers.find((t=>xt(t)===e)))).some((e=>Cl(e,t,r))),a=at(e,L.noneOf).map((e=>n.matchers.find((t=>xt(t)===e)))).some((e=>Cl(e,t,r)));return i||o||a}function Cl(e,t,r){const n=[];return _l.forEach((i=>{const o=at(e,i).filter((e=>e!==r||i!==t));n.push(...o)})),n.length>0}function Tl(e,t,r,n,i){const o=c.v4(),a=Pl(at(e,L.allOf),t,r,o,n,i),s=Pl(at(e,L.anyOf),t,r,o,n,i),l=Pl(at(e,L.noneOf),t,r,o,n,i);let u=aa(t,encodeURI(xt(e))+o);return at(e,L.allow).forEach((e=>{u=Gt(u,L.allow,e)})),at(e,L.deny).forEach((e=>{u=Gt(u,L.deny,e)})),a.forEach((e=>{u=Gt(u,L.allOf,e)})),s.forEach((e=>{u=Gt(u,L.anyOf,e)})),l.forEach((e=>{u=Gt(u,L.noneOf,e)})),[u,a.concat(s).concat(l)]}function Pl(e,t,r,n,i,o){return e.map((e=>{const a=r.matchers.find((t=>xt(t)===e));if("undefined"===typeof a)return null;let s=ns(t,encodeURI(xt(a))+n),l=!1;return _l.forEach((e=>{at(a,e).forEach((t=>{e===i&&t===o||(l=!0,s=Gt(s,e,t))}))})),l?s:null})).filter(Ol)}function Ol(e){return null!==e}async function Nl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=oi(e),n=hi(e),i=Dl(r).concat(Dl(n)),o=await jl(i,t),a=Ll(r,o).filter(Ol),s=Ll(n,o).filter(Ol),l=new Set;a.forEach((e=>{Ul(e).forEach((e=>{l.add(e)}))})),s.forEach((e=>{Ul(e).forEach((e=>{l.add(e)}))}));const u=Array.from(l),c=u.map((e=>Fl(e))).filter((e=>!i.includes(e))),d=await jl(c,t),f={...o,...d},h=Ll(u,f).filter(Ol);return{inaccessibleUrls:Object.keys(f).filter((e=>null===f[e])),acrPolicies:a,policies:s,matchers:h}}function Fl(e){const t=new URL(e);return t.hash="",t.href}function Dl(e){const t=[];return e.forEach((e=>{const r=Fl(e);t.includes(r)||t.push(r)})),t}async function jl(e,t){const r=Array.from(new Set(e)),n={};return await Promise.all(r.map((async e=>{try{const r=await jt(e,t);n[e]=r}catch(r){n[e]=null}}))),n}function Ll(e,t){return e.map((e=>{const r=Fl(e),n=t[r];return n?mt(n,e):null}))}function Ul(e){return za(e).concat(Qa(e)).concat(ts(e))}async function Ml(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await Hi(e,r);if(Ji(n)){return function(e,t){return Sl(e,L.agent,t)}(await Nl(n,r),t)}return dn(n)?Zs(n,t,r):null}async function Bl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Hi(e,t);if(Ji(r)){return function(e){return Sl(e,L.agent,L.PublicAgent)}(await Nl(r,t))}return dn(r)?tl(r,t):null}var Hl=Object.freeze({__proto__:null,getAccessFor:ul,getAccessForAll:cl,getAgentAccess:Ml,getAgentAccessAll:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Hi(e,t);if(Ji(r)){return function(e){return Rl(e,L.agent)}(await Nl(r,t))}return dn(r)?rl(r,t):null},getPublicAccess:Bl,setAccessFor:dl,setAgentAccess:async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;const i=await Hi(e,n);if(Ji(i)){const a=function(e,t,r,n){return kl(e,t,L.agent,r,n)}(i,await Nl(i,n),t,r);if(a)try{return await Ki(a,n),await Ml(e,t,n)}catch(o){return null}return null}if(dn(i)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${z(i)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await al(i,t,e,n),Zs(i,t,n)}return null},setPublicAccess:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await Hi(e,r);if(Ji(n)){const o=function(e,t,r){return kl(e,t,L.agent,L.PublicAgent,r)}(n,await Nl(n,r),t);if(o)try{return await Ki(o,r),await Bl(e,r)}catch(i){return null}return null}if(dn(n)){if(t.controlRead!==t.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${z(n)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=t;return await sl(n,e,r),tl(n,r)}return null}});async function Wl(e,t){if("string"!==typeof e.internal_resourceInfo.aclUrl)return null;try{return await W(e.internal_resourceInfo.aclUrl,t)}catch(r){return null}}function $l(e,t,r){const n=ot(t,_i.allOf).map((t=>mt($n(e),t))).filter((e=>null!==e)),i=n.every((e=>ot(e,_i.agent).includes(r))),o=ot(t,_i.anyOf).map((t=>mt($n(e),t))).filter((e=>null!==e)),a=o.some((e=>ot(e,_i.agent).includes(r))),s=ot(t,_i.noneOf).map((t=>mt($n(e),t))).filter((e=>null!==e)),l=s.some((e=>ot(e,_i.agent).includes(r)));return n.length+o.length>0&&(0===n.length||i)&&(0===o.length||a)&&(0===s.length||!l)}function Vl(e,t,r){const n=function(e){return Pi(e,_i.allow)}(e),i=function(e){return Pi(e,_i.deny)}(e);return"control"===r?{read:t.read,append:t.append,write:t.write,controlRead:(t.controlRead||n.read)&&!i.read,controlWrite:(t.controlWrite||n.write)&&!i.write}:{read:(t.read||n.read)&&!i.read,append:(t.append||n.append)&&!i.append,write:(t.write||n.write)&&!i.write,controlRead:t.controlRead,controlWrite:t.controlWrite}}async function Kl(e,t){let r={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};La(e).map((t=>mt($n(e),t))).filter((e=>null!==e)).forEach((n=>{$l(e,n,t)&&(r=Vl(n,r,"resource"))}));return Na(e).map((t=>mt($n(e),t))).filter((e=>null!==e)).forEach((n=>{$l(e,n,t)&&(r=Vl(n,r,"control"))})),r}async function Jl(e,t){const r=function(e){const t=e.internal_resourceInfo.linkedResources[_i.accessControl];return Array.isArray(t)&&1===t.length?t[0]:null}(e);if(null!==r)return r;const n=await Wl(e,t);if(null===n)return null;const i=q(n).type;return Array.isArray(i)&&i.includes(_i.AccessControlResource)?J(n):null}async function zl(e,t){const r=await Jl(e,t);if(null===r)return null;let n;try{n=await jt(r,t)}catch(i){return null}return{...e,internal_acp:{acr:{...n,accessTo:J(e)}}}}async function Gl(e,t,r){const n=await W(e,r),i=await zl(n,r);return null===i?Zs(n,t,r):Kl(i,t)}async function ql(e){return(await Promise.all((t=e,Array.from(new Set(bt($n(t)).map((e=>ot(e,_i.agent))).reduce(((e,t)=>e.concat(t)),[])))).map((async t=>({[t]:await Kl(e,t)}))))).reduce(((e,t)=>({...e,...t})),{});var t}async function Yl(e,t){const r=await W(e,t),n=await zl(r,t);return null===n?tl(r,t):async function(e){return Kl(e,_i.PublicAgent)}(n)}function Ql(e,t,r){return Ci(e,t).concat("AgentMatcher").concat(r.charAt(0).toUpperCase()+r.slice(1)).concat("Policy")}function Xl(e,t,r){return Ql(e,t,r).concat("Matcher")}const Zl=_i.anyOf;function eu(e,t,r){const n=Ql(e,t,r),i=Xl(e,t,r);let o=mt($n(e),n);o||(e=function(e,t,r){const n=Ql(e,t,r);return n.includes("Acr")?ka(e,n):Ta(e,n)}(e,t,r),o=St({url:n}),o=Oi(o,{[r]:!0},_i.allow));return at(o,Zl).includes(i)?e:(o=Fr(o).addUrl(Zl,i).build(),Aa(e,o))}function tu(e,t,r,n,i){var o;const a=Xl(e,r,n),s=eu(e,r,n),l=null!==(o=mt($n(s),a))&&void 0!==o?o:St({url:a});return Aa(s,"add"===i?ps(l,t):gs(l,t))}async function ru(e,t,r){const n=await Kl(e,t);return"boolean"===typeof r.read&&n.read!==r.read&&(e=tu(e,t,xi,"read",r.read?"add":"remove")),"boolean"===typeof r.append&&n.append!==r.append&&(e=tu(e,t,xi,"append",r.append?"add":"remove")),"boolean"===typeof r.write&&n.write!==r.write&&(e=tu(e,t,xi,"write",r.write?"add":"remove")),"boolean"===typeof r.controlRead&&n.controlRead!==r.controlRead&&(e=tu(e,t,Ri,"controlRead",r.controlRead?"add":"remove")),"boolean"===typeof r.controlWrite&&n.controlWrite!==r.controlWrite&&(e=tu(e,t,Ri,"controlWrite",r.controlWrite?"add":"remove")),e}var nu=Object.freeze({__proto__:null,getAclServerResourceInfo:Wl,getAgentAccess:Gl,getAgentAccessAll:async function(e,t){const r=await W(e,t),n=await zl(r,t);return null===n?rl(r,t):ql(n)},getPublicAccess:Yl,setAgentAccess:async function(e,t,r,n){const i=await W(e,n),o=await zl(i,n);if(null===o)return await al(i,t,r,n),Zs(i,t,n);try{return await Ki(await ru(o,t,r),n),await Gl(e,t,n)}catch(a){return null}},setPublicAccess:async function(e,t,r){const n=await W(e,r),i=await zl(n,r);if(null===i)return await sl(n,t,r),tl(n,r);try{return await Ki(await async function(e,t){return ru(e,_i.PublicAgent,t)}(i,t),r),await Yl(e,r)}catch(o){return null}}}),iu=Object.freeze({__proto__:null,acrAsMarkdown:bi,addAcrPolicyUrl:ni,addAgent:Eo,addAllOfRuleUrl:Xi,addAnyOfRuleUrl:ro,addClient:Bo,addGroup:ko,addMemberAcrPolicyUrl:ii,addMemberPolicyUrl:fi,addMockAcrTo:va,addNoneOfRuleUrl:ao,addPolicyUrl:di,createPolicy:zo,createResourcePolicyFor:aa,createResourceRuleFor:fo,createRule:co,getAcrPolicyUrlAll:oi,getAgentAll:_o,getAllOfRuleUrlAll:to,getAllowModes:ta,getAnyOfRuleUrlAll:oo,getClientAll:Uo,getDenyModes:oa,getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getGroupAll:xo,getLinkedAcrUrl:Yi,getMemberAcrPolicyUrlAll:ai,getMemberPolicyUrlAll:pi,getNoneOfRuleUrlAll:uo,getPolicy:Go,getPolicyAll:qo,getPolicyUrlAll:hi,getReferencedPolicyUrlAll:Gi,getResourceAcrPolicy:la,getResourceAcrPolicyAll:ca,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getResourcePolicy:sa,getResourcePolicyAll:ua,getResourceRule:po,getResourceRuleAll:yo,getRule:ho,getRuleAll:go,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,hasAccessibleAcr:Ji,hasAnyClient:Wo,hasAuthenticated:Oo,hasCreator:Do,hasLinkedAcr:ri,hasPublic:Co,isAcpControlled:qi,mockAcrFor:ya,policyAsMarkdown:ga,removeAcrPolicyUrl:si,removeAcrPolicyUrlAll:ui,removeAgent:Ao,removeAllOfRuleUrl:Zi,removeAnyClient:Vo,removeAnyOfRuleUrl:no,removeAuthenticated:Fo,removeClient:Ho,removeCreator:Lo,removeGroup:Io,removeMemberAcrPolicyUrl:li,removeMemberAcrPolicyUrlAll:ci,removeMemberPolicyUrl:yi,removeMemberPolicyUrlAll:mi,removeNoneOfRuleUrl:so,removePolicy:Yo,removePolicyUrl:gi,removePolicyUrlAll:vi,removePublic:Po,removeResourceAcrPolicy:fa,removeResourcePolicy:da,removeResourceRule:mo,removeRule:vo,ruleAsMarkdown:Ko,saveAcrFor:Ki,setAgent:So,setAllOfRuleUrl:eo,setAllowModes:Zo,setAnyClient:$o,setAnyOfRuleUrl:io,setAuthenticated:No,setClient:Mo,setCreator:jo,setDenyModes:na,setGroup:Ro,setNoneOfRuleUrl:lo,setPolicy:Qo,setPublic:To,setResourceAcrPolicy:pa,setResourcePolicy:ha,setResourceRule:wo,setRule:bo}),ou=Object.freeze({__proto__:null,addAcrPolicyUrl:ka,addAgent:ps,addAllOfMatcherUrl:Va,addAnyOfMatcherUrl:Ga,addClient:Rs,addMemberAcrPolicyUrl:Ia,addMemberPolicyUrl:Ca,addMockAcrTo:va,addNoneOfMatcherUrl:Xa,addPolicyUrl:Ta,createMatcher:rs,createPolicy:zo,createResourceMatcherFor:ns,createResourcePolicyFor:aa,getAcrPolicyUrlAll:Na,getAgentAll:fs,getAllOfMatcherUrlAll:za,getAllowModes:ea,getAnyOfMatcherUrlAll:Qa,getClientAll:xs,getDenyModes:ia,getFileWithAccessDatasets:$i,getFileWithAcr:Bi,getLinkedAcrUrl:Yi,getMatcher:is,getMatcherAll:as,getMemberAcrPolicyUrlAll:Da,getMemberPolicyUrlAll:ja,getNoneOfMatcherUrlAll:ts,getPolicy:Go,getPolicyAll:qo,getPolicyUrlAll:La,getReferencedPolicyUrlAll:Gi,getResourceAcrPolicy:la,getResourceAcrPolicyAll:ca,getResourceInfoWithAccessDatasets:Vi,getResourceInfoWithAcr:Hi,getResourceMatcher:os,getResourceMatcherAll:ss,getResourcePolicy:sa,getResourcePolicyAll:ua,getSolidDatasetWithAccessDatasets:Wi,getSolidDatasetWithAcr:Mi,getVcAccess:Ui,hasAccessibleAcr:Ji,hasAuthenticated:bs,hasCreator:Ss,hasLinkedAcr:ri,hasPublic:ys,isAcpControlled:qi,mockAcrFor:ya,removeAcrPolicyUrl:Ua,removeAcrPolicyUrlAll:ui,removeAgent:gs,removeAllOfMatcherUrl:Ka,removeAnyOfMatcherUrl:qa,removeAuthenticated:_s,removeClient:ks,removeCreator:As,removeMatcher:ls,removeMemberAcrPolicyUrl:Ma,removeMemberAcrPolicyUrlAll:ci,removeMemberPolicyUrl:Ba,removeMemberPolicyUrlAll:mi,removeNoneOfMatcherUrl:Za,removePolicy:Yo,removePolicyUrl:Ha,removePolicyUrlAll:vi,removePublic:ms,removeResourceAcrPolicy:fa,removeResourceMatcher:us,removeResourcePolicy:da,saveAcrFor:Ki,setAgent:hs,setAllOfMatcherUrl:Ja,setAllowModes:Xo,setAnyOfMatcherUrl:Ya,setAuthenticated:ws,setCreator:Es,setDenyModes:ra,setMatcher:cs,setNoneOfMatcherUrl:es,setPolicy:Qo,setPublic:vs,setResourceMatcher:ds,setResourcePolicy:Wa,setVcAccess:Di});const{getJsonLdParser:au,getTurtleParser:su,solidDatasetAsTurtle:lu}=Ke;t.FetchError=Y,t.SolidClientError=p,t.ThingExpectedError=It,t.access=ll,t.access_v1=wl,t.access_v2=Hl,t.acp_ess_1=iu,t.acp_ess_2=ou,t.acp_v1=Sa,t.acp_v2=_a,t.acp_v3=Ea,t.acp_v4=Ts,t.addBoolean=qt,t.addDate=Qt,t.addDatetime=Yt,t.addDecimal=Zt,t.addInteger=er,t.addIri=Gt,t.addJwkToJwks=Mn,t.addLiteral=ir,t.addMockFallbackAclTo=function(e){const t=Mr(z(e)),r=`${t}.acl`,n=ln(function(e,t){return Object.assign(m(e),{internal_resourceInfo:{...e.internal_resourceInfo,aclUrl:t}})}(Jt(t),r));return Qr(m(e),{resourceAcl:null,fallbackAcl:n})},t.addMockResourceAclTo=function(e){var t;const r=null!==(t=e.internal_resourceInfo.aclUrl)&&void 0!==t?t:"https://your.pod/mock-acl.ttl",n=Object.assign(m(e),{internal_resourceInfo:{...e.internal_resourceInfo,aclUrl:r}});return Qr(n,{resourceAcl:ln(n),fallbackAcl:null})},t.addNamedNode=nr,t.addPublicKeyToProfileJwks=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n=await jt(t,{fetch:r.fetch});if(null===n)throw new Error(`The profile document associated with WebID [${t}] could not be retrieved.`);const i=Un(n,t);if(null===i)throw new Error(`No key set is declared for the property [${M}] in the profile of [${t}]`);const o=await Mn(e,i,r);return qe(i,new Blob([JSON.stringify(o)]),{contentType:"application/json",fetch:r.fetch})},t.addStringEnglish=function(e,t,r){return tr(e,t,r,"en")},t.addStringNoLocale=rr,t.addStringWithLocale=tr,t.addTerm=or,t.addTime=Xt,t.addUrl=zt,t.asIri=xt,t.asUrl=At,t.buildThing=Fr,t.changeLogAsMarkdown=Ht,t.createAcl=ln,t.createAclFromFallbackAcl=un,t.createContainerAt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;var r;e=(e=g(e)).endsWith("/")?e:`${e}/`;const n={...H,...t},i=await n.fetch(e,{method:"PUT",body:n.initialContent?await He(je(n.initialContent).map(Wt)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${P}>; rel="type"`}});if(b(i)){const t=void 0===n.initialContent?"empty":"non-empty";throw new Y(`Creating the ${t} Container at [${e}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i)}const o=v(i);return Z({...null!==(r=t.initialContent)&&void 0!==r?r:Ft(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:o})},t.createContainerInContainer=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;e=g(e);const r={...H,...t},n={"Content-Type":"text/turtle",Link:`<${P}>; rel="type"`};t.slugSuggestion&&(n.slug=t.slugSuggestion);const i=await r.fetch(e,{method:"POST",headers:n});if(b(i))throw new Y(`Creating an empty Container in the Container at [${e}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i);const o=v(i);if(!o.location)throw new Error("Could not determine the location of the newly created Container.");try{const e=new URL(o.location).toString();return Z({...Ft(),internal_resourceInfo:{...o,sourceIri:e}})}catch(a){}return Z({...Ft(),internal_resourceInfo:{...o,sourceIri:new URL(o.location,i.url).href}})},t.createSolidDataset=Ft,t.createThing=St,t.deleteAclFor=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r={...H,...t},n=await r.fetch(e.internal_resourceInfo.aclUrl,{method:"DELETE"});if(!n.ok)throw new Error(`Deleting the ACL of the Resource at [${J(e)}] failed: [${n.status}] [${n.statusText}].`);return Object.assign(m(e),{acl:{resourceAcl:null}})},t.deleteContainer=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=d(e)?g(J(e)):g(e);if(!V(e))throw new Error(`You're trying to delete the Container at [${r}], but Container URLs should end in a \`/\`. Are you sure this is a Container?`);const n={...H,...t},i=await n.fetch(r,{method:"DELETE"});if(b(i))throw new Y(`Deleting the Container at [${r}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i)},t.deleteFile=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;const r={...Je,...t},n=d(e)?g(z(e)):g(e),i=await r.fetch(n,{...r.init,method:"DELETE"});if(b(i))throw new Y(`Deleting the file at [${n}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i)},t.deleteSolidDataset=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r={...H,...t},n=d(e)?g(J(e)):g(e),i=await r.fetch(n,{method:"DELETE"});if(b(i))throw new Y(`Deleting the SolidDataset at [${n}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i)},t.fromRdfJsDataset=function(e){const t=Array.from(e),r=De(t);return t.filter((e=>r.every((t=>!t.equals(e.subject))))).reduce(((e,n)=>Ce(e,n,{otherQuads:t,chainBlankNodes:r})),{graphs:{default:{}},type:"Dataset"})},t.getAgentAccess=fn,t.getAgentAccessAll=hn,t.getAgentDefaultAccess=vn,t.getAgentDefaultAccessAll=mn,t.getAgentResourceAccess=pn,t.getAgentResourceAccessAll=gn,t.getAltProfileUrlAllFrom=Bn,t.getBoolean=function(e,t){et(e);const r=yt(e,t,oe);return null===r?null:he(r)},t.getBooleanAll=function(e,t){return et(e),vt(e,t,oe).map(he).filter((e=>null!==e))},t.getContainedResourceUrlAll=function(e){const t=J(e),r=mt(e,t);return null===r?[]:at(r,N).filter((e=>Mt(e,t)))},t.getContentType=K,t.getDate=function(e,t){et(e);const r=yt(e,t,se);return null===r?null:ye(r)},t.getDateAll=function(e,t){return et(e),vt(e,t,se).map(ye).filter((e=>null!==e))},t.getDatetime=function(e,t){et(e);const r=yt(e,t,ae);return null===r?null:ge(r)},t.getDatetimeAll=function(e,t){return et(e),vt(e,t,ae).map(ge).filter((e=>null!==e))},t.getDecimal=function(e,t){et(e);const r=yt(e,t,ue);return null===r?null:be(r)},t.getDecimalAll=function(e,t){return et(e),vt(e,t,ue).map((e=>be(e))).filter((e=>null!==e))},t.getEffectiveAccess=function(e){var t,r,n,i,o,a,s;if("object"===typeof e.internal_resourceInfo.permissions)return{user:{read:e.internal_resourceInfo.permissions.user.read,append:e.internal_resourceInfo.permissions.user.append,write:e.internal_resourceInfo.permissions.user.write},public:{read:e.internal_resourceInfo.permissions.public.read,append:e.internal_resourceInfo.permissions.public.append,write:e.internal_resourceInfo.permissions.public.write}};const l=q(e);return{user:{read:null!==(r=null===(t=l[L.allow])||void 0===t?void 0:t.includes(L.Read))&&void 0!==r&&r,append:null!==(o=(null===(n=l[L.allow])||void 0===n?void 0:n.includes(L.Append))||(null===(i=l[L.allow])||void 0===i?void 0:i.includes(L.Write)))&&void 0!==o&&o,write:null!==(s=null===(a=l[L.allow])||void 0===a?void 0:a.includes(L.Write))&&void 0!==s&&s}}},t.getFallbackAcl=sn,t.getFile=Ge,t.getFileWithAcl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await Ge(e,t);return Qr(r,await jr(r,t))},t.getGroupAccess=En,t.getGroupAccessAll=An,t.getGroupDefaultAccess=kn,t.getGroupDefaultAccessAll=In,t.getGroupResourceAccess=xn,t.getGroupResourceAccessAll=Rn,t.getInteger=function(e,t){et(e);const r=yt(e,t,ce);return null===r?null:we(r)},t.getIntegerAll=function(e,t){return et(e),vt(e,t,ce).map((e=>we(e))).filter((e=>null!==e))},t.getIri=it,t.getIriAll=at,t.getJsonLdParser=au,t.getLinkedResourceUrlAll=q,t.getLiteral=ft,t.getLiteralAll=ht,t.getNamedNode=ct,t.getNamedNodeAll=dt,t.getPodOwner=G,t.getPodUrlAll=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;return Wn(await Hn(e,t),e)},t.getPodUrlAllFrom=Wn,t.getProfileAll=Hn,t.getProfileJwksIri=Un,t.getPropertyAll=function(e){return Object.keys(e.predicates).filter((t=>null!==pt(e,t)))},t.getPublicAccess=On,t.getPublicDefaultAccess=Fn,t.getPublicResourceAccess=Nn,t.getResourceAcl=on,t.getResourceInfo=W,t.getResourceInfoWithAcl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await W(e,t);return Qr(r,await jr(r,t))},t.getSolidDataset=jt,t.getSolidDatasetWithAcl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=await jt(e,t);return Qr(r,await jr(r,t))},t.getSourceIri=z,t.getSourceUrl=J,t.getStringByLocaleAll=function(e,t){var r,n;if(et(e),!xe(t))throw new Ct(t);const i=g(t),o=null!==(n=null===(r=e.predicates[i])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{};return new Map(Object.entries(o).map((e=>{let[t,r]=e;return[t,[...r]]})))},t.getStringEnglish=function(e,t){return st(e,t,"en")},t.getStringEnglishAll=function(e,t){return lt(e,t,"en")},t.getStringNoLocale=function(e,t){return et(e),yt(e,t,de)},t.getStringNoLocaleAll=ut,t.getStringWithLocale=st,t.getStringWithLocaleAll=lt,t.getTerm=pt,t.getTermAll=gt,t.getThing=mt,t.getThingAll=bt,t.getTime=function(e,t){et(e);const r=yt(e,t,le);return null===r?null:pe(r)},t.getTimeAll=function(e,t){return et(e),vt(e,t,le).map(pe).filter((e=>null!==e))},t.getTurtleParser=su,t.getUrl=nt,t.getUrlAll=ot,t.getWebIdDataset=async function(e){return jt(e,{fetch:y})},t.getWellKnownSolid=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;const r=g(e);try{const e=new URL("/.well-known/solid",new URL(r).origin).href;return await jt(e,{fetch:y})}catch(o){}const n=q(await W(r,{fetch:t.fetch,ignoreAuthenticationErrors:!0}))[B],i=1===(null===n||void 0===n?void 0:n.length)?n[0]:null;if(null!==i){return jt(new URL(".well-known/solid",i.endsWith("/")?i:`${i}/`).href,{...t,parsers:{"application/ld+json":Q()}})}throw new Error("Could not determine storage root or well-known solid resource.")},t.hasAccessibleAcl=dn,t.hasAcl=function(e){return"object"===typeof e.internal_acl},t.hasFallbackAcl=an,t.hasResourceAcl=nn,t.hasResourceInfo=d,t.hasServerResourceInfo=f,t.isContainer=V,t.isPodOwner=function(e,t){const r=G(t);return"string"!==typeof r?null:r===e},t.isRawData=function(e){return e.internal_resourceInfo.isRawData},t.isThing=Et,t.isThingLocal=kt,t.mockContainerFrom=Jt,t.mockFetchError=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:404,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Not Found";const n=new o.Response(void 0,{status:t,statusText:r});return new Y(`Fetching the Resource at [${e}] failed: [${n.status}] [${n.statusText}].`,n)},t.mockFileFrom=function(e,t){const r=new Blob;return Object.assign(r,{internal_resourceInfo:{sourceIri:g(e),isRawData:!0,contentType:null===t||void 0===t?void 0:t.contentType,linkedResources:{}}})},t.mockSolidDatasetFrom=Kt,t.mockThingFrom=function(e){return{type:"Subject",predicates:{},url:g(e)}},t.overwriteFile=qe,t.removeAll=sr,t.removeBoolean=cr,t.removeDate=fr,t.removeDatetime=dr,t.removeDecimal=pr,t.removeInteger=gr,t.removeIri=ur,t.removeLiteral=br,t.removeNamedNode=mr,t.removeStringEnglish=function(e,t,r){return yr(e,t,r,"en")},t.removeStringNoLocale=vr,t.removeStringWithLocale=yr,t.removeThing=_t,t.removeTime=hr,t.removeUrl=lr,t.responseToResourceInfo=$,t.responseToSolidDataset=Dt,t.saveAclFor=cn,t.saveFileInContainer=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Je;const n=g(e),i=await Qe(n,t,"POST",r);if(b(i))throw new Y(`Saving the file in [${e}] failed: [${i.status}] [${i.statusText}] ${await i.text()}.`,i);const o=i.headers.get("Location");if(null===o)throw new Error("Could not determine the location of the newly saved file.");const a=new URL(o,new URL(n).origin).href,s=m(t),l={internal_resourceInfo:{isRawData:!0,sourceIri:a,contentType:Xe(t,r.contentType)}};return Object.assign(s,l)},t.saveSolidDatasetAt=Lt,t.saveSolidDatasetInContainer=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const n={...H,...r};e=g(e);const i=await He(je(t).map(Wt)),o={"Content-Type":"text/turtle",Link:`<${O}>; rel="type"`};r.slugSuggestion&&(o.slug=r.slugSuggestion);const a=await n.fetch(e,{method:"POST",body:i,headers:o});if(b(a))throw new Y(`Storing the Resource in the Container at [${e}] failed: [${a.status}] [${a.statusText}] ${await a.text()}.\n\nThe SolidDataset that was sent to the Pod is listed below.\n\n${Bt(t)}`,a);const s=v(a);if(!s.location)throw new Error("Could not determine the location of the newly saved SolidDataset.");let l;try{l=new URL(s.location).href}catch(c){l=new URL(s.location,a.url).href}const u={internal_resourceInfo:{isRawData:!1,sourceIri:l}};return Vt(Z({...t,...u}))},t.setAgentDefaultAccess=function(e,t,r){return en(e,r,S,"default",t)},t.setAgentResourceAccess=yn,t.setBoolean=Er,t.setDate=xr,t.setDatetime=Ar,t.setDecimal=kr,t.setGroupDefaultAccess=function(e,t,r){return en(e,r,E,"default",t)},t.setGroupResourceAccess=Pn,t.setInteger=Ir,t.setIri=Sr,t.setLiteral=Or,t.setNamedNode=Pr,t.setProfileJwks=function(e,t,r){return wt(e,Sr(Ln(e,t),M,r))},t.setPublicDefaultAccess=function(e,t){return en(e,t,A,"default",F)},t.setPublicResourceAccess=Dn,t.setStringNoLocale=Tr,t.setStringWithLocale=Cr,t.setTerm=Nr,t.setThing=wt,t.setTime=Rr,t.setUrl=_r,t.solidDatasetAsMarkdown=Bt,t.solidDatasetAsTurtle=lu,t.thingAsMarkdown=Rt,t.toRdfJsDataset=Ve,t.universalAccess=nu,t.validateContainedResourceAll=function(e){const t=J(e),r=mt(e,t);if(null===r)return{isValid:!0,invalidContainedResources:[]};const n=at(r,N).filter((e=>!Mt(e,t)));return n.length>0?{isValid:!1,invalidContainedResources:n}:{isValid:!0,invalidContainedResources:[]}}},7787:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(4990),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),u=o("nodejs.stream.writable"),c=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function y(e){return!(!e||g(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function v(e){return!(!e||g(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function m(e){return!(!e||g(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function b(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!==n&&void 0!==n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!h(e))return null;const r=e._readableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!b(e)&&(h(e)&&e.readable&&!_(e))}function E(e){return e&&null!=e[u]?e[u]:"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!b(e)&&(p(e)&&e.writable&&!w(e))}function A(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function x(e){return"boolean"===typeof e._sent100&&A(e)}e.exports={isDestroyed:b,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,i,o,a,l,u,c,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:S,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!g(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===r||void 0===r?void 0:r.closed)?(null===t||void 0===t?void 0:t.closed)||(null===r||void 0===r?void 0:r.closed):"boolean"===typeof e._closed&&A(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return g(e)?!!b(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!S(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[n]:!1===t?"function"===typeof e[i]:"function"===typeof e[n]||"function"===typeof e[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return y(e)||v(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:v,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:x,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&x(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}},7885:(e,t,r)=>{"use strict";r.d(t,{JU:()=>d,Yp:()=>c,Y5:()=>u});var n=r(9857),i=r(7692),o=r(9904),a=r(7251),s=r(449);const l=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:(0,a.lF)(e)};if(!(0,i.R)(e))throw new TypeError((0,o.A)(e,...s.g,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:r,alg:n,use:l,...u}=await i.A.subtle.exportKey("jwk",e);return u};async function u(e){return(0,n.Nj)(e)}async function c(e){return(0,n.Jq)(e)}async function d(e){return l(e)}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7958:(e,t,r)=>{"use strict";const n=r(2285),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(7045),{Symbol:s}=r(1632),{kIsDestroyed:l,isDestroyed:u,isFinished:c,isServerRequest:d}=r(97),f=s("kDestroy"),h=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(v,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function y(e,t){m(e,t),v(e)}function v(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==r&&void 0!==r&&r.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function m(e,t){const r=e._readableState,n=e._writableState;null!==n&&void 0!==n&&n.errorEmitted||null!==r&&void 0!==r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,r){const i=e._readableState,o=e._writableState;if(null!==o&&void 0!==o&&o.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==o&&void 0!==o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(m,e,t):m(e,t))}function w(e){let t=!1;function r(r){if(t)return void b(e,null!==r&&void 0!==r?r:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,r):r?b(e,r,!0):n.nextTick(_,e)}try{e._construct((e=>{n.nextTick(r,e)}))}catch(i){n.nextTick(r,i)}}function _(e){e.emit(h)}function S(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function E(e){e.emit("close")}function A(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||c(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?n.nextTick(A,e,t):n.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!==n&&void 0!==n&&n.destroyed||null!==r&&void 0!==r&&r.destroyed?("function"===typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g(this,e,t):this.once(f,(function(r){g(this,i(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}},7964:(e,t,r)=>{"use strict";const n=r(2285),{AbortError:i,codes:o}=r(7045),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:u}=r(6854),{validateAbortSignal:c,validateFunction:d,validateObject:f,validateBoolean:h}=r(2099),{Promise:p,PromisePrototypeThen:g,SymbolDispose:y}=r(1632),{isClosed:v,isReadable:m,isReadableNodeStream:b,isReadableStream:w,isReadableFinished:_,isReadableErrored:S,isWritable:E,isWritableNodeStream:A,isWritableStream:x,isWritableFinished:R,isWritableErrored:k,isNodeStream:I,willEmitClose:C,kIsClosedPromise:T}=r(97);let P;const O=()=>{};function N(e,t,o){var h,p;if(2===arguments.length?(o=t,t=l):null==t?t=l:f(t,"options"),d(o,"callback"),c(t.signal,"options.signal"),o=u(o),w(e)||x(e))return function(e,t,o){let a=!1,s=O;if(t.signal)if(s=()=>{a=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{P=P||r(6854).addAbortListener;const n=P(t.signal,s),i=o;o=u((function(){n[y]();for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i.apply(e,r)}))}const l=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];a||n.nextTick((()=>o.apply(e,r)))};return g(e[T].promise,l,l),O}(e,t,o);if(!I(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const N=null!==(h=t.readable)&&void 0!==h?h:b(e),F=null!==(p=t.writable)&&void 0!==p?p:A(e),D=e._writableState,j=e._readableState,L=()=>{e.writable||B()};let U=C(e)&&b(e)===N&&A(e)===F,M=R(e,!1);const B=()=>{M=!0,e.destroyed&&(U=!1),(!U||e.readable&&!N)&&(N&&!H||o.call(e))};let H=_(e,!1);const W=()=>{H=!0,e.destroyed&&(U=!1),(!U||e.writable&&!F)&&(F&&!M||o.call(e))},$=t=>{o.call(e,t)};let V=v(e);const K=()=>{V=!0;const t=k(e)||S(e);return t&&"boolean"!==typeof t?o.call(e,t):N&&!H&&b(e,!0)&&!_(e,!1)?o.call(e,new s):!F||M||R(e,!1)?void o.call(e):o.call(e,new s)},J=()=>{V=!0;const t=k(e)||S(e);if(t&&"boolean"!==typeof t)return o.call(e,t);o.call(e)},z=()=>{e.req.on("finish",B)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?F&&!D&&(e.on("end",L),e.on("close",L)):(e.on("complete",B),U||e.on("abort",K),e.req?z():e.on("request",z)),U||"boolean"!==typeof e.aborted||e.on("aborted",K),e.on("end",W),e.on("finish",B),!1!==t.error&&e.on("error",$),e.on("close",K),V?n.nextTick(K):null!==D&&void 0!==D&&D.errorEmitted||null!==j&&void 0!==j&&j.errorEmitted?U||n.nextTick(J):(N||U&&!m(e)||!M&&!1!==E(e))&&(F||U&&!E(e)||!H&&!1!==m(e))?j&&e.req&&e.aborted&&n.nextTick(J):n.nextTick(J);const G=()=>{o=O,e.removeListener("aborted",K),e.removeListener("complete",B),e.removeListener("abort",K),e.removeListener("request",z),e.req&&e.req.removeListener("finish",B),e.removeListener("end",L),e.removeListener("close",L),e.removeListener("finish",B),e.removeListener("end",W),e.removeListener("error",$),e.removeListener("close",K)};if(t.signal&&!V){const a=()=>{const r=o;G(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{P=P||r(6854).addAbortListener;const n=P(t.signal,a),i=o;o=u((function(){n[y]();for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i.apply(e,r)}))}}return G}e.exports=N,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(h(t.cleanup,"cleanup"),n=t.cleanup),new p(((r,i)=>{const o=N(e,t,(e=>{n&&o(),e?i(e):r()}))}))}},7987:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(7251),i=r(4129),o=r(7692),a=r(1374),s=r(9291);const l=async(e,t,r,n)=>{const l=await(0,s.A)(e,t,"verify");(0,a.A)(e,l);const u=(0,i.A)(e,l.algorithm);try{return await o.A.subtle.verify(u,l,r,n)}catch(c){return!1}};var u=r(2142),c=r(2510),d=r(885),f=r(9306),h=r(1675),p=r(4915),g=r(1861);async function y(e,t,r){var i;if(!(0,f.A)(e))throw new u.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new u.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!==typeof e.protected)throw new u.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new u.JWSInvalid("JWS Payload missing");if("string"!==typeof e.signature)throw new u.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,f.A)(e.header))throw new u.JWSInvalid("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{const t=(0,n.D4)(e.protected);o=JSON.parse(c.D0.decode(t))}catch(E){throw new u.JWSInvalid("JWS Protected Header is invalid")}if(!(0,d.A)(o,e.header))throw new u.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...o,...e.header};let s=!0;if((0,p.A)(u.JWSInvalid,new Map([["b64",!0]]),null===r||void 0===r?void 0:r.crit,o,a).has("b64")&&(s=o.b64,"boolean"!==typeof s))throw new u.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:y}=a;if("string"!==typeof y||!y)throw new u.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const v=r&&(0,g.A)("algorithms",r.algorithms);if(v&&!v.has(y))throw new u.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(s){if("string"!==typeof e.payload)throw new u.JWSInvalid("JWS Payload must be a string")}else if("string"!==typeof e.payload&&!(e.payload instanceof Uint8Array))throw new u.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let m=!1;"function"===typeof t&&(t=await t(o,e),m=!0),(0,h.A)(y,t,"verify");const b=(0,c.xW)(c.Rd.encode(null!==(i=e.protected)&&void 0!==i?i:""),c.Rd.encode("."),"string"===typeof e.payload?c.Rd.encode(e.payload):e.payload);let w;try{w=(0,n.D4)(e.signature)}catch(A){throw new u.JWSInvalid("Failed to base64url decode the signature")}if(!await l(y,t,w,b))throw new u.JWSSignatureVerificationFailed;let _;if(s)try{_=(0,n.D4)(e.payload)}catch(x){throw new u.JWSInvalid("Failed to base64url decode the payload")}else _="string"===typeof e.payload?c.Rd.encode(e.payload):e.payload;const S={payload:_};return void 0!==e.protected&&(S.protectedHeader=o),void 0!==e.header&&(S.unprotectedHeader=e.header),m?{...S,key:t}:S}},8004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerContainer=void 0;const n=r(2122),i=r(6433),o=r(9103),a=r(6741),s=r(6016);class l{static isSimpleGraphContainer(e){return"@graph"in e&&("@set"in e&&2===Object.keys(e).length||1===Object.keys(e).length)}static isComplexGraphContainer(e){return"@graph"in e&&("@set"in e&&Object.keys(e).length>2||!("@set"in e)&&Object.keys(e).length>1)}static getContainerGraphIndex(e,t,r){let n=l.isSimpleGraphContainer(e),i="";for(let o=t;o<r.length;o++)n&&"number"!==typeof r[o]||(i+=":"+r[o]),n||"number"===typeof r[o]||(n=!0);return i}static async getContainerHandler(e,t,r){const n={containers:{"@set":!0},depth:r,fallback:!0};let i=!1;const o=await e.getContext(t,2);for(let a=r-1;a>=0;a--)if("number"!==typeof t[a]){const e=s.Util.getContextValue(o,"@container",t[a],!1);if(e&&l.isSimpleGraphContainer(e))return{containers:e,depth:a+1,fallback:!1};const r=s.Util.getContextValue(o,"@container",t[a-1],!1);if(r){const e="@graph"in r;for(const t in l.CONTAINER_HANDLERS)if(r[t])return e?l.CONTAINER_HANDLERS[t].canCombineWithGraph()?{containers:r,depth:a,fallback:!1}:n:i?n:{containers:r,depth:a,fallback:!1};return n}if(i)return n;i=!0}return n}static async isBufferableContainerHandler(e,t,r){const n=await l.getContainerHandler(e,t,r);return!n.fallback&&!("@graph"in n.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,t,r,n,i){return!!await this.test(e,t,null,r,n)}async test(e,t,r,n,i){const o=s.Util.getContextValueContainer(await e.getContext(n,2),n[i-1]);for(const a in l.CONTAINER_HANDLERS)if(o[a])return{containers:o,handler:l.CONTAINER_HANDLERS[a]};return null}async handle(e,t,r,n,i,o,a){return a.handler.handle(a.containers,e,t,n,i,o)}}l.CONTAINER_HANDLERS={"@id":new n.ContainerHandlerIdentifier,"@index":new i.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new a.ContainerHandlerType},t.EntryHandlerContainer=l},8029:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=r(4990),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(3995),{normalizeEncoding:E}=r(6600),{isAsyncFunction:A,isArrayBufferView:x}=r(6600).types,R={};const k=/^[0-7]+$/;const I=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),C=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),T=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)}));function P(e,t){if("string"!==typeof e)throw new b(t,"string",e)}const O=v(((e,t,r)=>{if(!i(r,e)){const n=o(a(r,(e=>"string"===typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function N(e,t){if("boolean"!==typeof e)throw new b(t,"boolean",e)}function F(e,t,r){return null!=e&&f(e,t)?e[t]:r}const D=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=F(r,"allowArray",!1),o=F(r,"allowFunction",!1);if(!F(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new b(t,"Object",e)})),j=v(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new b(t,"a dictionary",e)})),L=v((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!n(e))throw new b(t,"Array",e);if(e.length<r){throw new w(t,e,`must be longer than ${r}`)}}));const U=v((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!x(e))throw new b(t,["Buffer","TypedArray","DataView"],e)}));const M=v(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)})),B=v(((e,t)=>{if("function"!==typeof e)throw new b(t,"Function",e)})),H=v(((e,t)=>{if("function"!==typeof e||A(e))throw new b(t,"Function",e)})),W=v(((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)}));const $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if("undefined"===typeof e||!h($,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if("undefined"===typeof e&&(e=r),"string"===typeof e){if(null===h(k,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return T(e,t),e},validateArray:L,validateStringArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new b(i,"AbortSignal",n);M(n,i)}},validateBoolean:N,validateBuffer:U,validateDictionary:j,validateEncoding:function(e,t){const r=E(t),n=e.length;if("hex"===r&&n%2!==0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:B,validateInt32:C,validateInteger:I,validateNumber:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:D,validateOneOf:O,validatePlainFunction:H,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e){if(P(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===R[e]){if(void 0!==R[g(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:P,validateUint32:T,validateUndefined:W,validateUnion:function(e,t,r){if(!i(r,e))throw new b(t,`('${o(r,"|")}')`,e)},validateAbortSignal:M,validateLinkHeaderValue:function(e){if("string"===typeof e)return V(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8082:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},8163:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(1632),{Buffer:s}=r(6382),{inspect:l}=r(6854);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),r=e;let n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}o(t,s,r-e),e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},8203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(3218)),i=f(r(6984)),o=f(r(3549)),a=f(r(334)),s=f(r(3100)),l=f(r(9443)),u=f(r(9697)),c=f(r(1514)),d=f(r(8788));function f(e){return e&&e.__esModule?e:{default:e}}},8225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},8252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9225)),i=o(r(2943));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},8297:e=>{class t{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="Variable",e.exports=t},8464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4245))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},8494:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let r=0;r<a;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];s[r]=t}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<a;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=s[l][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=i[0],a=i[1],u=i[2],c=i[3],d=i[4];for(let i=0;i<80;++i){const s=Math.floor(i/20),l=n(o,5)+r(s,a,u,c)+d+t[s]+e[i]>>>0;d=c,c=u,u=n(a,30)>>>0,a=o,o=l}i[0]=i[0]+o>>>0,i[1]=i[1]+a>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},8634:(e,t,r)=>{"use strict";r.d(t,{A:()=>h,J:()=>f});var n=r(8944),i=r(4209),o=r(7103),a=r(4539),s=r(7644);const l=Symbol("iter");function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(0===r)return Object.assign(e,t);for(const n in t)e[n]=u(e[n]||Object.create(null),t[n],r-1);return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=!1;for(const i in e)if(i in t){const o=0===r?null:c(e[i],t[i],r-1);if(!1!==o)n=n||Object.create(null),n[i]=o;else if(3===r)return!1}return n}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=!1;for(const i in e)if(i in t){if(0!==r){const o=d(e[i],t[i],r-1);if(!1!==o)n=n||Object.create(null),n[i]=o;else if(3===r)return!1}}else n=n||Object.create(null),n[i]=0===r?null:u({},e[i],r-1);return n}class f{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||i.Ay}_termFromId(e){if("."===e[0]){const t=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(t[r[1]]),this._termFromId(t[r[2]]),this._termFromId(t[r[3]]),r[4]&&this._termFromId(t[r[4]]))}return(0,i.iN)(e,this._factory)}_termToNumericId(e){if("Quad"===e.termType){const t=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),n=this._termToNumericId(e.object);let i;return t&&r&&n&&((0,a.isDefaultGraph)(e.graph)||(i=this._termToNumericId(e.graph)))&&this._ids[i?`.${t}.${r}.${n}.${i}`:`.${t}.${r}.${n}`]}return this._ids[(0,i.FL)(e)]}_termToNewNumericId(e){const t=e&&"Quad"===e.termType?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${(0,a.isDefaultGraph)(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:(0,i.FL)(e);return this._ids[t]||(this._ids[this._entities[++this._id]=t]=this._id)}createBlankNode(e){let t,r;if(e)for(t=e=`_:${e}`,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}}class h{constructor(e,t){this._size=0,this._graphs=Object.create(null),t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||i.Ay,this._entityIndex=t.entityIndex||new f({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const o in r=t[i].subjects)for(const t in n=r[o])e+=Object.keys(n[t]).length;return this._size=e}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(e,t,r,n){const i=e[t],o=i[r];delete o[n];for(const a in o)return;delete i[r];for(const a in i)return;delete e[t]}*_findInIndex(e,t,r,n,i,o,a,s){let l,u,c;const d=this._entities,f=this._termFromId(d[s]),h={subject:null,predicate:null,object:null};t&&((l=e,e={})[t]=l[t]);for(const p in e)if(u=e[p]){h[i]=this._termFromId(d[p]),r&&((l=u,u={})[r]=l[r]);for(const e in u)if(c=u[e]){h[o]=this._termFromId(d[e]);const t=n?n in c?[n]:[]:Object.keys(c);for(let e=0;e<t.length;e++)h[a]=this._termFromId(d[t[e]]),yield this._factory.quad(h.subject,h.predicate,h.object,f)}}}_loop(e,t){for(const r in e)t(r)}_loopByKey0(e,t,r){let n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){let n,i;for(n in e)i=e[n],i[t]&&r(n)}_loopBy2Keys(e,t,r,n){let i,o,a;if((i=e[t])&&(o=i[r]))for(a in o)n(a)}_countInIndex(e,t,r,n){let i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(const l in e)if(o=e[l]){r&&((i=o,o={})[r]=i[r]);for(const e in o)(a=o[e])&&(n?n in a&&s++:s+=Object.keys(a).length)}return s}_getGraphs(e){return"number"!==typeof(e=""===e?1:e&&(this._termToNumericId(e)||-1))?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const t=Object.create(null);return r=>{r in t||(t[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n?this._termToNewNumericId(n):1;let i=this._graphs[n];return i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i)),e=this._termToNewNumericId(e),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),!!this._addToIndex(i.subjects,e,t,r)&&(this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,!0)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,r,n){return e&&e.subject&&({subject:e,predicate:t,object:r,graph:n}=e),!this.readQuads(e,t,r,n).next().done}import(e){return e.on("data",(e=>{this.addQuad(e)})),e}removeQuad(e,t,r,n){t||({subject:e,predicate:t,object:r,graph:n}=e),n=n?this._termToNumericId(n):1;const i=this._graphs;let o,a,s;if(!(e=e&&this._termToNumericId(e))||!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(o=i[n])||!(a=o.subjects[e])||!(s=a[t])||!(r in s))return!1;for(e in this._removeFromIndex(o.subjects,e,t,r),this._removeFromIndex(o.predicates,t,r,e),this._removeFromIndex(o.objects,r,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete i[n],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",(e=>{this.removeQuad(e)})),e}removeMatches(e,t,r,i){const o=new n.Readable({objectMode:!0}),a=this.readQuads(e,t,r,i);return o._read=e=>{for(;--e>=0;){const{done:e,value:t}=a.next();if(e)return void o.push(null);o.push(t)}},this.remove(o)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){return[...this.readQuads(e,t,r,n)]}*readQuads(e,t,r,n){const i=this._getGraphs(n);let o,a,s,l;if(!(e&&!(a=this._termToNumericId(e))||t&&!(s=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))))for(const u in i)(o=i[u])&&(a?l?yield*this._findInIndex(o.objects,l,a,s,"object","subject","predicate",u):yield*this._findInIndex(o.subjects,a,s,null,"subject","predicate","object",u):s?yield*this._findInIndex(o.predicates,s,l,null,"predicate","object","subject",u):l?yield*this._findInIndex(o.objects,l,null,null,"object","subject","predicate",u):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",u))}match(e,t,r,n){return new g(this,e,t,r,n,{entityIndex:this._entityIndex})}countQuads(e,t,r,n){const i=this._getGraphs(n);let o,a,s,l,u=0;if(e&&!(a=this._termToNumericId(e))||t&&!(s=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r)))return 0;for(const c in i)(o=i[c])&&(u+=e?r?this._countInIndex(o.objects,l,a,s):this._countInIndex(o.subjects,a,s,l):t?this._countInIndex(o.predicates,s,l,a):this._countInIndex(o.objects,l,a,s));return u}forEach(e,t,r,n,i){this.some((t=>(e(t,this),!1)),t,r,n,i)}every(e,t,r,n,i){return!this.some((t=>!e(t,this)),t,r,n,i)}some(e,t,r,n,i){for(const o of this.readQuads(t,r,n,i))if(e(o))return!0;return!1}getSubjects(e,t,r){const n=[];return this.forSubjects((e=>{n.push(e)}),e,t,r),n}forSubjects(e,t,r,n){const i=this._getGraphs(n);let o,a,s;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(o=i[n])&&(a?s?this._loopBy2Keys(o.predicates,a,s,e):this._loopByKey1(o.subjects,a,e):s?this._loopByKey0(o.objects,s,e):this._loop(o.subjects,e))}getPredicates(e,t,r){const n=[];return this.forPredicates((e=>{n.push(e)}),e,t,r),n}forPredicates(e,t,r,n){const i=this._getGraphs(n);let o,a,s;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(o=i[n])&&(a?s?this._loopBy2Keys(o.objects,s,a,e):this._loopByKey0(o.subjects,a,e):s?this._loopByKey1(o.predicates,s,e):this._loop(o.predicates,e))}getObjects(e,t,r){const n=[];return this.forObjects((e=>{n.push(e)}),e,t,r),n}forObjects(e,t,r,n){const i=this._getGraphs(n);let o,a,s;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(o=i[n])&&(a?s?this._loopBy2Keys(o.subjects,a,s,e):this._loopByKey1(o.objects,a,e):s?this._loopByKey0(o.predicates,s,e):this._loop(o.objects,e))}getGraphs(e,t,r){const n=[];return this.forGraphs((e=>{n.push(e)}),e,t,r),n}forGraphs(e,t,r,n){for(const i in this._graphs)this.some((t=>(e(t.graph),!0)),t,r,n,this._termFromId(this._entities[i]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists(){let{remove:e=!1,ignoreErrors:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={},n=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,o.A.rdf.rest,o.A.rdf.nil,null),a=e?[...i]:[];return i.forEach((t=>{const i=[];let s,l,u=!1;const c=t.graph;let d=t.subject;for(;d&&!u;){const e=this.getQuads(null,null,d,null),t=this.getQuads(d,null,null,null);let r,f=null,h=null,p=null;for(let i=0;i<t.length&&!u;i++)r=t[i],r.graph.equals(c)?s?u=n(d,"has non-list arcs out"):r.predicate.value===o.A.rdf.first?f?u=n(d,"has multiple rdf:first arcs"):a.push(f=r):r.predicate.value===o.A.rdf.rest?h?u=n(d,"has multiple rdf:rest arcs"):a.push(h=r):e.length?u=n(d,"can't be subject and object"):(s=r,l="subject"):u=n(d,"not confined to single graph");for(let i=0;i<e.length&&!u;++i)r=e[i],s?u=n(d,"can't have coreferences"):r.predicate.value===o.A.rdf.rest?p?u=n(d,"has incoming rdf:rest arcs"):p=r:(s=r,l="object");f?i.unshift(f.object):u=n(d,"has no list head"),d=p&&p.subject}u?e=!1:s&&(r[s[l].value]=i)})),e&&this.removeQuads(a),r}addAll(e){if(e instanceof g&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof h&&e._entityIndex===this._entityIndex)0!==e._size&&(this._graphs=u(this._graphs,e._graphs),this._size=null);else for(const t of e)this.add(t);return this}contains(e){if(e instanceof g&&(e=e.filtered),e===this)return!0;if(!(e instanceof h)||this._entityIndex!==e._entityIndex)return e.every((e=>this.has(e)));const t=this._graphs,r=e._graphs;let n,i,o,a,s;for(const l in r){if(!(n=t[l]))return!1;n=n.subjects;for(const e in i=r[l].subjects){if(!(o=n[e]))return!1;for(const t in a=i[e]){if(!(s=o[t]))return!1;for(const e in a[t])if(!(e in s))return!1}}}return!0}deleteMatches(e,t,r,n){for(const i of this.match(e,t,r,n))this.removeQuad(i);return this}difference(e){if(e&&e instanceof g&&(e=e.filtered),e===this)return new h({entityIndex:this._entityIndex});if(e instanceof h&&e._entityIndex===this._entityIndex){const t=new h({entityIndex:this._entityIndex}),r=d(this._graphs,e._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter((t=>!e.has(t)))}equals(e){return e instanceof g&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const t=new h({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&t.add(r);return t}intersection(e){if(e instanceof g&&(e=e.filtered),e===this){const e=new h({entityIndex:this._entityIndex});return e._graphs=u(Object.create(null),this._graphs),e._size=this._size,e}if(e instanceof h&&this._entityIndex===e._entityIndex){const t=new h({entityIndex:this._entityIndex}),r=c(e._graphs,this._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter((t=>e.has(t)))}map(e){const t=new h({entityIndex:this._entityIndex});for(const r of this)t.add(e(r,this));return t}reduce(e,t){const r=this.readQuads();let n=void 0===t?r.next().value:t;for(const i of r)n=e(n,i,this);return n}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return(new s.A).quadsToString(this)}union(e){const t=new h({entityIndex:this._entityIndex});return t._graphs=u(Object.create(null),this._graphs),t._size=this._size,t.addAll(e),t}*[Symbol.iterator](){yield*this.readQuads()}}function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t[r];if(n&&!(n in e))return!1;let i=!1;for(const o in n?{[n]:e[n]}:e){const n=2===r?null:p(e[o],t,r+1);!1!==n&&(i=i||Object.create(null),i[o]=n)}return i}class g extends n.Readable{constructor(e,t,r,n,i,o){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:r,object:n,graph:i,options:o})}get filtered(){if(!this._filtered){const{n3Store:e,graph:t,object:r,predicate:n,subject:i}=this,o=this._filtered=new h({factory:e._factory,entityIndex:this.options.entityIndex});let a,s,l;if(i&&!(a=o._termToNumericId(i))||n&&!(s=o._termToNumericId(n))||r&&!(l=o._termToNumericId(r)))return o;const u=e._getGraphs(t);for(const c in u){let e,t,r,n;(n=u[c])&&(!a&&s?(t=p(n.predicates,[s,l,a]))&&(e=p(n.subjects,[a,s,l]),r=p(n.objects,[l,a,s])):l?(r=p(n.objects,[l,a,s]))&&(e=p(n.subjects,[a,s,l]),t=p(n.predicates,[s,l,a])):(e=p(n.subjects,[a,s,l]))&&(t=p(n.predicates,[s,l,a]),r=p(n.objects,[l,a,s])),e&&(o._graphs[c]={subjects:e,predicates:t,objects:r}))}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[l]&&(this[l]=this[Symbol.iterator]());const t=this[l];for(;--e>=0;){const{done:e,value:r}=t.next();if(e)return void this.push(null);this.push(r)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,t,r,n){return this.filtered.deleteMatches(e,t,r,n)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,t,r,n,i){return this.filtered.every(e,t,r,n,i)}filter(e){return this.filtered.filter(e)}forEach(e,t,r,n,i){return this.filtered.forEach(e,t,r,n,i)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,t,r,n,i){return this.filtered.some(e,t,r,n,i)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,t){return this.filtered.reduce(e,t)}toString(){return(new s.A).quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,r,n){return new g(this.filtered,e,t,r,n,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}},8694:(e,t,r)=>{"use strict";var n=r(9966).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(9697))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},8835:(e,t,r)=>{"use strict";r.d(t,{Og:()=>f,Lf:()=>d,jU:()=>u,Mh:()=>c});var n=r(7251),i=r(9857),o=r(7692),a=r(2142);const s=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:s}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new a.JOSENotSupported(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),l=[i,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:s];if("PBKDF2"===i.name)return o.A.subtle.importKey("raw",(0,n.D4)(e.k),...l);const u={...e};return delete u.alg,delete u.use,o.A.subtle.importKey("jwk",u,...l)};var l=r(9306);async function u(e,t,r){if("string"!==typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return(0,i.sc)(e,t,r)}async function c(e,t,r){if("string"!==typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return(0,i.zp)(e,t,r)}async function d(e,t,r){if("string"!==typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.IG)(e,t,r)}async function f(e,t,r){var i;if(!(0,l.A)(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!==typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!==r&&void 0!==r||(r=!0!==e.ext),r?s({...e,alg:t,ext:null!==(i=e.ext)&&void 0!==i&&i}):(0,n.D4)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return s({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},8836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},8871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(8225);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=i.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},8944:(e,t,r)=>{"use strict";const n=r(1484),i=r(2193),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},8956:(e,t,r)=>{"use strict";const n=r(2285),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(4990),{Buffer:s}=r(6382),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(3995).codes;e.exports=function(e,t,r){let c,d;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,c=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);d=!1,c=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let h=!1;return f._read=function(){h||(h=!0,async function(){for(;;){try{const{value:e,done:t}=d?await c.next():c.next();if(t)f.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw h=!1,new u;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=void 0!==e&&null!==e,r="function"===typeof c.throw;if(t&&r){const{value:t,done:r}=await c.throw(e);if(await t,r)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},f}},9028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeyword=void 0;t.EntryHandlerKeyword=class{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,t,r,n,i){return!1}async test(e,t,r,n,i){return r===this.keyword}}},9051:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class r{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!r.isPotentialKeyword(e)&&(t.allowPrefixNonGenDelims||"string"===typeof e&&("_"===e[0]||r.isPrefixIriEndingWithGenDelim(e)))}static isPotentialKeyword(e){return"string"===typeof e&&r.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return r.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return Boolean(e&&r.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&":"!==e[0]&&r.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return r.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(r.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}static deepEqual(e,t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((r=>{const n=e[r],i=t[r];return n===i||null!==n&&null!==i&&"object"===typeof n&&"object"===typeof i&&this.deepEqual(n,i)}))}}r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"],t.Util=r},9103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerHandlerLanguage=void 0;const n=r(7139);t.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(e,t,r,i,o,a){const s=await r.getContainerKey(i[a],i,a);if(Array.isArray(o))o=o.map((e=>({"@value":e,"@language":s})));else{if("string"!==typeof o)throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":s}}await t.newOnValueJob(i.slice(0,i.length-1),o,a-1,!0),t.emittedStack[a]=!1}}},9212:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(3437),i=r(4209),o=r(7103);let a=0;class s{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&u(this,e.factory);const t="string"===typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),i=/trig/.test(t),o=/triple/.test(t),a=/quad/.test(t),s=this._n3Mode=/n3/.test(t),l=o||a;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||s),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=""===t||/star|\*$/.test(t),l&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!==typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new n.A({lineMode:l,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){a=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:i,graph:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);r=this._factory.namedNode(t);break;case"type":case"prefixed":const n=this._prefixes[e.prefix];if(void 0===n)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._factory.namedNode(n+e.value);break;case"blank":r=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(void 0===r)return;t=this._factory.literal(this._literalValue,r),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const o=this._predicate,a=this._object;this._subject=this._factory.quad(n,o,a,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==n){const e=this._predicate,t=this._object;i?this._emit(t,e,n,r):this._emit(n,e,t,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._factory.blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._factory.blankNode();let r,n;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._factory.quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=l}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,i=-1,o=0,a="/";for(;n<t;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<t&&"/"!==e[i];)n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(a=e[1+ ++n],a){case"/":r+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return r+e.substring(o,n)+e.substr(n+1);case".":if(a=e[1+ ++n],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=e.substring(o,n-2),(o=r.lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return`${r}/${e.substr(n+1)}`;o=n+1}}}a=e[++n]}return r+e.substring(o)}parse(e,t,r){let n,i,o;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(n=t.onQuad,i=t.onPrefix,o=t.onComment):(n=t,i=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${a++}_`,this._prefixCallback=i||l,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const t=[];let r;if(this._callback=(e,n)=>{e?r=e:n&&t.push(n)},this._lexer.tokenize(e).every((e=>this._readCallback=this._readCallback(e))),r)throw r;return t}let s=(e,t)=>{null!==e?(this._callback(e),this._callback=l):this._readCallback&&(this._readCallback=this._readCallback(t))};o&&(this._lexer.comments=!0,s=(e,t)=>{null!==e?(this._callback(e),this._callback=l):this._readCallback&&("comment"===t.type?o(t.value):this._readCallback=this._readCallback(t))}),this._callback=n,this._lexer.tokenize(e,s)}}function l(){}function u(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(o.A.rdf.first),e.RDF_REST=t.namedNode(o.A.rdf.rest),e.RDF_NIL=t.namedNode(o.A.rdf.nil),e.N3_FORALL=t.namedNode(o.A.r.forAll),e.N3_FORSOME=t.namedNode(o.A.r.forSome),e.ABBREVIATIONS={a:t.namedNode(o.A.rdf.type),"=":t.namedNode(o.A.owl.sameAs),">":t.namedNode(o.A.log.implies),"<":t.namedNode(o.A.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}u(s.prototype,i.Ay)},9218:e=>{class t{constructor(e){this.value=e||"b"+ ++t.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="BlankNode",t.nextId=0,e.exports=t},9225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var l;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,o.default)(n)),16!==(null===(l=n)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(l){}return n.DNS=a,n.URL=s,n};var n,i=r(6318),o=(n=r(8464))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},9291:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(7692),i=r(3431),o=r(9904),a=r(449);function s(e,t,r){if((0,n.R)(t))return(0,i.Y)(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,o.A)(t,...a.g));return n.A.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError((0,o.A)(t,...a.g,"Uint8Array"))}},9306:(e,t,r)=>{"use strict";function n(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}r.d(t,{A:()=>n})},9381:e=>{"use strict";e.exports={format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o]=t;const a=r.shift();if("f"===o)return a.toFixed(6);if("j"===o)return JSON.stringify(a);if("s"===o&&"object"===typeof a){return`${a.constructor!==Object?a.constructor.name:""} {}`.trim()}return a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},9443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(9697))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},9454:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(6605),i=r(9306),o=r(1268);class a{constructor(e){if(!(0,i.A)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"===typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0,n.A)(new Date)+(0,o.A)(e)},this}setExpirationTime(e){return this._payload="number"===typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0,n.A)(new Date)+(0,o.A)(e)},this}setIssuedAt(e){return this._payload="undefined"===typeof e?{...this._payload,iat:(0,n.A)(new Date)}:{...this._payload,iat:e},this}}},9569:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(1632),{AbortError:i,codes:o}=r(7045),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:l}=r(97),u=r(7964),{ERR_INVALID_ARG_TYPE:c}=o;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new c(t,"AbortSignal",e)})(t,"signal"),!a(r)&&!s(r))throw new c("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const o=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[l](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{d=d||r(6854).addAbortListener;const i=d(e,o);u(t,i[n])}return t}},9593:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompactEncrypt:()=>te,CompactSign:()=>re.T,EmbeddedJWK:()=>he,EncryptJWT:()=>le,FlattenedEncrypt:()=>J,FlattenedSign:()=>ne.n,GeneralEncrypt:()=>G,GeneralSign:()=>oe,SignJWT:()=>ae.P,UnsecuredJWT:()=>Se,base64url:()=>n,calculateJwkThumbprint:()=>de,calculateJwkThumbprintUri:()=>fe,compactDecrypt:()=>H,compactVerify:()=>q.B,createLocalJWKSet:()=>me,createRemoteJWKSet:()=>_e,cryptoRuntime:()=>Te,decodeJwt:()=>Re,decodeProtectedHeader:()=>xe,errors:()=>a,exportJWK:()=>$.JU,exportPKCS8:()=>$.Yp,exportSPKI:()=>$.Y5,flattenedDecrypt:()=>B,flattenedVerify:()=>Y.Z,generalDecrypt:()=>W,generalVerify:()=>Q,generateKeyPair:()=>ke.T,generateSecret:()=>Ce,importJWK:()=>F.Og,importPKCS8:()=>F.Lf,importSPKI:()=>F.jU,importX509:()=>F.Mh,jwtDecrypt:()=>ee,jwtVerify:()=>X.V});var n={};r.r(n),r.d(n,{decode:()=>Ae,encode:()=>Ee});var i=r(7251),o=r(2510),a=r(2142),s=r(7560);function l(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const u=e=>(0,s.A)(new Uint8Array(l(e)>>3)),c=(e,t)=>{if(t.length<<3!==l(e))throw new a.JWEInvalid("Invalid Initialization Vector length")},d=(e,t)=>{const r=e.byteLength<<3;if(r!==t)throw new a.JWEInvalid(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},f=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const r=e.length;let n=0,i=-1;for(;++i<r;)n|=e[i]^t[i];return 0===n};var h=r(7692),p=r(3431),g=r(9904),y=r(449);const v=async(e,t,r,n,i,s)=>{if(!(0,h.R)(t)&&!(t instanceof Uint8Array))throw new TypeError((0,g.A)(t,...y.g,"Uint8Array"));switch(c(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&d(t,parseInt(e.slice(-3),10)),async function(e,t,r,n,i,s){if(!(t instanceof Uint8Array))throw new TypeError((0,g.A)(t,"Uint8Array"));const l=parseInt(e.slice(1,4),10),u=await h.A.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),c=await h.A.subtle.importKey("raw",t.subarray(0,l>>3),{hash:"SHA-"+(l<<1),name:"HMAC"},!1,["sign"]),d=(0,o.xW)(s,n,r,(0,o.mx)(s.length<<3)),p=new Uint8Array((await h.A.subtle.sign("HMAC",c,d)).slice(0,l>>3));let y,v;try{y=f(i,p)}catch(m){}if(!y)throw new a.JWEDecryptionFailed;try{v=new Uint8Array(await h.A.subtle.decrypt({iv:n,name:"AES-CBC"},u,r))}catch(b){}if(!v)throw new a.JWEDecryptionFailed;return v}(e,t,r,n,i,s);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&d(t,parseInt(e.slice(1,4),10)),async function(e,t,r,n,i,s){let l;t instanceof Uint8Array?l=await h.A.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):((0,p.$)(t,e,"decrypt"),l=t);try{return new Uint8Array(await h.A.subtle.decrypt({additionalData:s,iv:n,name:"AES-GCM",tagLength:128},l,(0,o.xW)(r,i)))}catch(u){throw new a.JWEDecryptionFailed}}(e,t,r,n,i,s);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},m=async()=>{throw new a.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},b=async()=>{throw new a.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')};var w=r(885),_=r(9306);const S=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function E(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function A(e,t,r){if((0,h.R)(e))return(0,p.$)(e,t,r),e;if(e instanceof Uint8Array)return h.A.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError((0,g.A)(e,...y.g,"Uint8Array"))}const x=async(e,t,r)=>{const n=await A(t,e,"wrapKey");E(n,e);const i=await h.A.subtle.importKey("raw",r,...S);return new Uint8Array(await h.A.subtle.wrapKey("raw",i,n,"AES-KW"))},R=async(e,t,r)=>{const n=await A(t,e,"unwrapKey");E(n,e);const i=await h.A.subtle.unwrapKey("raw",r,n,"AES-KW",...S);return new Uint8Array(await h.A.subtle.exportKey("raw",i))};async function k(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Uint8Array(0),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Uint8Array(0);if(!(0,h.R)(e))throw new TypeError((0,g.A)(e,...y.g));if((0,p.$)(e,"ECDH"),!(0,h.R)(t))throw new TypeError((0,g.A)(t,...y.g));(0,p.$)(t,"ECDH","deriveBits");const s=(0,o.xW)((0,o.Kp)(o.Rd.encode(r)),(0,o.Kp)(i),(0,o.Kp)(a),(0,o.VS)(n));let l;l="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const u=new Uint8Array(await h.A.subtle.deriveBits({name:e.algorithm.name,public:e},t,l));return(0,o.yI)(u,n,s)}function I(e){if(!(0,h.R)(e))throw new TypeError((0,g.A)(e,...y.g));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function C(e,t,r,n){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new a.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}(e);const i=(0,o.MT)(t,e),s=parseInt(t.slice(13,16),10),l={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},u={length:s,name:"AES-KW"},c=await function(e,t){if(e instanceof Uint8Array)return h.A.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if((0,h.R)(e))return(0,p.$)(e,t,"deriveBits","deriveKey"),e;throw new TypeError((0,g.A)(e,...y.g,"Uint8Array"))}(n,t);if(c.usages.includes("deriveBits"))return new Uint8Array(await h.A.subtle.deriveBits(l,c,s));if(c.usages.includes("deriveKey"))return h.A.subtle.deriveKey(l,c,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function T(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var P=r(1374);function O(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new a.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const N=e=>(0,s.A)(new Uint8Array(O(e)>>3));var F=r(8835),D=r(1675);const j=async(e,t,r,n,i)=>{if(!(0,h.R)(r)&&!(r instanceof Uint8Array))throw new TypeError((0,g.A)(r,...y.g,"Uint8Array"));switch(c(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&d(r,parseInt(e.slice(-3),10)),async function(e,t,r,n,i){if(!(r instanceof Uint8Array))throw new TypeError((0,g.A)(r,"Uint8Array"));const a=parseInt(e.slice(1,4),10),s=await h.A.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),l=await h.A.subtle.importKey("raw",r.subarray(0,a>>3),{hash:"SHA-"+(a<<1),name:"HMAC"},!1,["sign"]),u=new Uint8Array(await h.A.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),c=(0,o.xW)(i,n,u,(0,o.mx)(i.length<<3));return{ciphertext:u,tag:new Uint8Array((await h.A.subtle.sign("HMAC",l,c)).slice(0,a>>3))}}(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&d(r,parseInt(e.slice(1,4),10)),async function(e,t,r,n,i){let o;r instanceof Uint8Array?o=await h.A.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):((0,p.$)(r,e,"encrypt"),o=r);const a=new Uint8Array(await h.A.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t)),s=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:s}}(e,t,r,n,i);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};const L=async function(e,t,r,n,o){switch((0,D.A)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new a.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new a.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,_.A)(n.epk))throw new a.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!I(t))throw new a.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const o=await(0,F.Og)(n.epk,e);let u,c;if(void 0!==n.apu){if("string"!==typeof n.apu)throw new a.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{u=(0,i.D4)(n.apu)}catch(s){throw new a.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!==typeof n.apv)throw new a.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{c=(0,i.D4)(n.apv)}catch(l){throw new a.JWEInvalid("Failed to base64url decode the apv")}}const d=await k(o,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?O(n.enc):parseInt(e.slice(-5,-2),10),u,c);if("ECDH-ES"===e)return d;if(void 0===r)throw new a.JWEInvalid("JWE Encrypted Key missing");return R(e.slice(-6),d,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new a.JWEInvalid("JWE Encrypted Key missing");return(async(e,t,r)=>{if(!(0,h.R)(t))throw new TypeError((0,g.A)(t,...y.g));if((0,p.$)(t,e,"decrypt","unwrapKey"),(0,P.A)(e,t),t.usages.includes("decrypt"))return new Uint8Array(await h.A.subtle.decrypt(T(e),t,r));if(t.usages.includes("unwrapKey")){const n=await h.A.subtle.unwrapKey("raw",r,t,T(e),...S);return new Uint8Array(await h.A.subtle.exportKey("raw",n))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===r)throw new a.JWEInvalid("JWE Encrypted Key missing");if("number"!==typeof n.p2c)throw new a.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');const s=(null===o||void 0===o?void 0:o.maxPBES2Count)||1e4;if(n.p2c>s)throw new a.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!==typeof n.p2s)throw new a.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let l;try{l=(0,i.D4)(n.p2s)}catch(u){throw new a.JWEInvalid("Failed to base64url decode the p2s")}return(async(e,t,r,n,i)=>{const o=await C(i,e,n,t);return R(e.slice(-6),o,r)})(e,t,r,n.p2c,l)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new a.JWEInvalid("JWE Encrypted Key missing");return R(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===r)throw new a.JWEInvalid("JWE Encrypted Key missing");if("string"!==typeof n.iv)throw new a.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!==typeof n.tag)throw new a.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let o,s;try{o=(0,i.D4)(n.iv)}catch(c){throw new a.JWEInvalid("Failed to base64url decode the iv")}try{s=(0,i.D4)(n.tag)}catch(d){throw new a.JWEInvalid("Failed to base64url decode the tag")}return async function(e,t,r,n,i){const o=e.slice(0,7);return v(o,t,r,n,i,new Uint8Array(0))}(e,t,r,o,s)}default:throw new a.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}};var U=r(4915),M=r(1861);async function B(e,t,r){var n;if(!(0,_.A)(e))throw new a.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new a.JWEInvalid("JOSE Header missing");if("string"!==typeof e.iv)throw new a.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!==typeof e.ciphertext)throw new a.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!==typeof e.tag)throw new a.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!==typeof e.protected)throw new a.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!==typeof e.encrypted_key)throw new a.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!==typeof e.aad)throw new a.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,_.A)(e.header))throw new a.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,_.A)(e.unprotected))throw new a.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let s;if(e.protected)try{const t=(0,i.D4)(e.protected);s=JSON.parse(o.D0.decode(t))}catch(k){throw new a.JWEInvalid("JWE Protected Header is invalid")}if(!(0,w.A)(s,e.header,e.unprotected))throw new a.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...s,...e.header,...e.unprotected};if((0,U.A)(a.JWEInvalid,new Map,null===r||void 0===r?void 0:r.crit,s,l),void 0!==l.zip){if(!s||!s.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==l.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:u,enc:c}=l;if("string"!==typeof u||!u)throw new a.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!==typeof c||!c)throw new a.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const d=r&&(0,M.A)("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&(0,M.A)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(d&&!d.has(u))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(f&&!f.has(c))throw new a.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let h;if(void 0!==e.encrypted_key)try{h=(0,i.D4)(e.encrypted_key)}catch(I){throw new a.JWEInvalid("Failed to base64url decode the encrypted_key")}let p,g,y,b=!1;"function"===typeof t&&(t=await t(s,e),b=!0);try{p=await L(u,t,h,l,r)}catch(C){if(C instanceof TypeError||C instanceof a.JWEInvalid||C instanceof a.JOSENotSupported)throw C;p=N(c)}try{g=(0,i.D4)(e.iv)}catch(T){throw new a.JWEInvalid("Failed to base64url decode the iv")}try{y=(0,i.D4)(e.tag)}catch(P){throw new a.JWEInvalid("Failed to base64url decode the tag")}const S=o.Rd.encode(null!==(n=e.protected)&&void 0!==n?n:"");let E,A;E=void 0!==e.aad?(0,o.xW)(S,o.Rd.encode("."),o.Rd.encode(e.aad)):S;try{A=(0,i.D4)(e.ciphertext)}catch(O){throw new a.JWEInvalid("Failed to base64url decode the ciphertext")}let x=await v(c,p,A,g,y,E);"DEF"===l.zip&&(x=await((null===r||void 0===r?void 0:r.inflateRaw)||m)(x));const R={plaintext:x};if(void 0!==e.protected&&(R.protectedHeader=s),void 0!==e.aad)try{R.additionalAuthenticatedData=(0,i.D4)(e.aad)}catch(F){throw new a.JWEInvalid("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(R.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(R.unprotectedHeader=e.header),b?{...R,key:t}:R}async function H(e,t,r){if(e instanceof Uint8Array&&(e=o.D0.decode(e)),"string"!==typeof e)throw new a.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:n,1:i,2:s,3:l,4:u,length:c}=e.split(".");if(5!==c)throw new a.JWEInvalid("Invalid Compact JWE");const d=await B({ciphertext:l,iv:s||void 0,protected:n||void 0,tag:u||void 0,encrypted_key:i||void 0},t,r),f={plaintext:d.plaintext,protectedHeader:d.protectedHeader};return"function"===typeof t?{...f,key:d.key}:f}async function W(e,t,r){if(!(0,_.A)(e))throw new a.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(_.A))throw new a.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new a.JWEInvalid("JWE Recipients has no members");for(const i of e.recipients)try{return await B({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch(n){}throw new a.JWEDecryptionFailed}var $=r(7885);const V=async function(e,t,r,n){let o,l,c,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch((0,D.A)(e,r,"encrypt"),e){case"dir":c=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!I(r))throw new a.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:s,apv:u}=d;let{epk:f}=d;f||(f=(await async function(e){if(!(0,h.R)(e))throw new TypeError((0,g.A)(e,...y.g));return h.A.subtle.generateKey(e.algorithm,!0,["deriveBits"])}(r)).privateKey);const{x:p,y:v,crv:m,kty:b}=await(0,$.JU)(f),w=await k(r,f,"ECDH-ES"===e?t:e,"ECDH-ES"===e?O(t):parseInt(e.slice(-5,-2),10),s,u);if(l={epk:{x:p,crv:m,kty:b}},"EC"===b&&(l.epk.y=v),s&&(l.apu=(0,i.lF)(s)),u&&(l.apv=(0,i.lF)(u)),"ECDH-ES"===e){c=w;break}c=n||N(t);const _=e.slice(-6);o=await x(_,w,c);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":c=n||N(t),o=await(async(e,t,r)=>{if(!(0,h.R)(t))throw new TypeError((0,g.A)(t,...y.g));if((0,p.$)(t,e,"encrypt","wrapKey"),(0,P.A)(e,t),t.usages.includes("encrypt"))return new Uint8Array(await h.A.subtle.encrypt(T(e),t,r));if(t.usages.includes("wrapKey")){const n=await h.A.subtle.importKey("raw",r,...S);return new Uint8Array(await h.A.subtle.wrapKey("raw",n,t,T(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,r,c);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{c=n||N(t);const{p2c:a,p2s:u}=d;({encryptedKey:o,...l}=await async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2048,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,s.A)(new Uint8Array(16));const a=await C(o,e,n,t);return{encryptedKey:await x(e.slice(-6),a,r),p2c:n,p2s:(0,i.lF)(o)}}(e,r,c,a,u));break}case"A128KW":case"A192KW":case"A256KW":c=n||N(t),o=await x(e,r,c);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{c=n||N(t);const{iv:a}=d;({encryptedKey:o,...l}=await async function(e,t,r,n){const o=e.slice(0,7);n||(n=u(o));const{ciphertext:a,tag:s}=await j(o,r,t,n,new Uint8Array(0));return{encryptedKey:a,iv:(0,i.lF)(n),tag:(0,i.lF)(s)}}(e,r,c,a));break}default:throw new a.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:c,encryptedKey:o,parameters:l}},K=Symbol();class J{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new a.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,w.A)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new a.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,U.A)(a.JWEInvalid,new Map,null===t||void 0===t?void 0:t.crit,this._protectedHeader,r),void 0!==r.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==r.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:n,enc:s}=r;if("string"!==typeof n||!n)throw new a.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!==typeof s||!s)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let l,c,d,f,h,p,g;if("dir"===n){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===n&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let r;({cek:c,encryptedKey:l,parameters:r}=await V(n,s,e,this._cek,this._keyManagementParameters)),r&&(t&&K in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...r}:this.setUnprotectedHeader(r):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...r}:this.setProtectedHeader(r))}if(this._iv||(this._iv=u(s)),f=this._protectedHeader?o.Rd.encode((0,i.lF)(JSON.stringify(this._protectedHeader))):o.Rd.encode(""),this._aad?(h=(0,i.lF)(this._aad),d=(0,o.xW)(f,o.Rd.encode("."),o.Rd.encode(h))):d=f,"DEF"===r.zip){const e=await((null===t||void 0===t?void 0:t.deflateRaw)||b)(this._plaintext);({ciphertext:p,tag:g}=await j(s,e,c,this._iv,d))}else({ciphertext:p,tag:g}=await j(s,this._plaintext,c,this._iv,d));const y={ciphertext:(0,i.lF)(p),iv:(0,i.lF)(this._iv),tag:(0,i.lF)(g)};return l&&(y.encrypted_key=(0,i.lF)(l)),h&&(y.aad=h),this._protectedHeader&&(y.protected=o.D0.decode(f)),this._sharedUnprotectedHeader&&(y.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(y.header=this._unprotectedHeader),y}}class z{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(){return this.parent.addRecipient(...arguments)}encrypt(){return this.parent.encrypt(...arguments)}done(){return this.parent}}class G{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const r=new z(this,e,{crit:null===t||void 0===t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,n;if(!this._recipients.length)throw new a.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null===e||void 0===e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,r=await new J(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let n={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(n.aad=r.aad),r.protected&&(n.protected=r.protected),r.unprotected&&(n.unprotected=r.unprotected),r.encrypted_key&&(n.recipients[0].encrypted_key=r.encrypted_key),r.header&&(n.recipients[0].header=r.header),n}let o;for(let i=0;i<this._recipients.length;i++){const e=this._recipients[i];if(!(0,w.A)(this._protectedHeader,this._unprotectedHeader,e.unprotectedHeader))throw new a.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const t={...this._protectedHeader,...this._unprotectedHeader,...e.unprotectedHeader},{alg:r}=t;if("string"!==typeof r||!r)throw new a.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===r||"ECDH-ES"===r)throw new a.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!==typeof t.enc||!t.enc)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(o){if(o!==t.enc)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else o=t.enc;if((0,U.A)(a.JWEInvalid,new Map,e.options.crit,this._protectedHeader,t),void 0!==t.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const s=N(o);let l={ciphertext:"",iv:"",recipients:[],tag:""};for(let a=0;a<this._recipients.length;a++){const u=this._recipients[a],c={};l.recipients.push(c);const d={...this._protectedHeader,...this._unprotectedHeader,...u.unprotectedHeader}.alg.startsWith("PBES2")?2048+a:void 0;if(0===a){const t=await new J(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(u.unprotectedHeader).setKeyManagementParameters({p2c:d}).encrypt(u.key,{...u.options,...e,[K]:!0});l.ciphertext=t.ciphertext,l.iv=t.iv,l.tag=t.tag,t.aad&&(l.aad=t.aad),t.protected&&(l.protected=t.protected),t.unprotected&&(l.unprotected=t.unprotected),c.encrypted_key=t.encrypted_key,t.header&&(c.header=t.header);continue}const{encryptedKey:f,parameters:h}=await V((null===(t=u.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(n=this._unprotectedHeader)||void 0===n?void 0:n.alg),o,u.key,s,{p2c:d});c.encrypted_key=(0,i.lF)(f),(u.unprotectedHeader||h)&&(c.header={...u.unprotectedHeader,...h})}return l}}var q=r(4476),Y=r(7987);async function Q(e,t,r){if(!(0,_.A)(e))throw new a.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(_.A))throw new a.JWSInvalid("JWS Signatures missing or incorrect type");for(const i of e.signatures)try{return await(0,Y.Z)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch(n){}throw new a.JWSSignatureVerificationFailed}var X=r(4697),Z=r(7058);async function ee(e,t,r){const n=await H(e,t,r),i=(0,Z.A)(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==i.iss)throw new a.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new a.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new a.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:i,protectedHeader:o};return"function"===typeof t?{...s,key:n.key}:s}class te{constructor(e){this._flattened=new J(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}var re=r(5416),ne=r(4640);class ie{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(){return this.parent.addSignature(...arguments)}sign(){return this.parent.sign(...arguments)}done(){return this.parent}}class oe{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const r=new ie(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new a.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const r=this._signatures[t],n=new ne.n(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);const{payload:i,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new a.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}var ae=r(785),se=r(9454);class le extends se.G{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const r=new te(o.Rd.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}var ue=r(5515);const ce=(e,t)=>{if("string"!==typeof e||!e)throw new a.JWKInvalid(`${t} missing or invalid`)};async function de(e,t){if(!(0,_.A)(e))throw new TypeError("JWK must be an object");if(null!==t&&void 0!==t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":ce(e.crv,'"crv" (Curve) Parameter'),ce(e.x,'"x" (X Coordinate) Parameter'),ce(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ce(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ce(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ce(e.e,'"e" (Exponent) Parameter'),ce(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":ce(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new a.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const n=o.Rd.encode(JSON.stringify(r));return(0,i.lF)(await(0,ue.A)(t,n))}async function fe(e,t){null!==t&&void 0!==t||(t="sha256");const r=await de(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function he(e,t){const r={...e,...null===t||void 0===t?void 0:t.header};if(!(0,_.A)(r.jwk))throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const n=await(0,F.Og)({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||"public"!==n.type)throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function pe(e){return e&&"object"===typeof e&&Array.isArray(e.keys)&&e.keys.every(ge)}function ge(e){return(0,_.A)(e)}class ye{constructor(e){if(this._cached=new WeakMap,!pe(e))throw new a.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"===typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:n}={...e,...null===t||void 0===t?void 0:t.header},i=function(e){switch("string"===typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new a.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter((e=>{let t=i===e.kty;if(t&&"string"===typeof n&&(t=n===e.kid),t&&"string"===typeof e.alg&&(t=r===e.alg),t&&"string"===typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:s,length:l}=o;if(0===l)throw new a.JWKSNoMatchingKey;if(1!==l){const e=new a.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const n of o)try{yield await ve(t,n,r)}catch(e){continue}},e}return ve(this._cached,s,r)}}async function ve(e,t,r){const n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){const e=await(0,F.Og)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new a.JWKSInvalid("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function me(e){const t=new ye(e);return async function(e,r){return t.getKey(e,r)}}const be=async(e,t,r)=>{let n,i,o=!1;"function"===typeof AbortController&&(n=new AbortController,i=setTimeout((()=>{o=!0,n.abort()}),t));const s=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch((e=>{if(o)throw new a.JWKSTimeout;throw e}));if(void 0!==i&&clearTimeout(i),200!==s.status)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch(l){throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class we extends ye{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null===t||void 0===t?void 0:t.agent,headers:null===t||void 0===t?void 0:t.headers},this._timeoutDuration="number"===typeof(null===t||void 0===t?void 0:t.timeoutDuration)?null===t||void 0===t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"===typeof(null===t||void 0===t?void 0:t.cooldownDuration)?null===t||void 0===t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"===typeof(null===t||void 0===t?void 0:t.cacheMaxAge)?null===t||void 0===t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof a.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!==typeof WebSocketPair||"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!==typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=be(this._url,this._timeoutDuration,this._options).then((e=>{if(!pe(e))throw new a.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function _e(e,t){const r=new we(e,t);return async function(e,t){return r.getKey(e,t)}}class Se extends se.G{encode(){return`${i.lF(JSON.stringify({alg:"none"}))}.${i.lF(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!==typeof e)throw new a.JWTInvalid("Unsecured JWT must be a string");const{0:r,1:n,2:s,length:l}=e.split(".");if(3!==l||""!==s)throw new a.JWTInvalid("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(o.D0.decode(i.D4(r))),"none"!==u.alg)throw new Error}catch(c){throw new a.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,Z.A)(u,i.D4(n),t),header:u}}}const Ee=i.lF,Ae=i.D4;function xe(e){let t;if("string"===typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r)}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;const e=JSON.parse(o.D0.decode(Ae(t)));if(!(0,_.A)(e))throw new Error;return e}catch(r){throw new TypeError("Invalid Token or Protected Header formatting")}}function Re(e){if("string"!==typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new a.JWTInvalid("Invalid JWT");if(!t)throw new a.JWTInvalid("JWTs must contain a payload");let n,i;try{n=Ae(t)}catch(s){throw new a.JWTInvalid("Failed to base64url decode the payload")}try{i=JSON.parse(o.D0.decode(n))}catch(l){throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,_.A)(i))throw new a.JWTInvalid("Invalid JWT Claims Set");return i}var ke=r(2052),Ie=r(7184);async function Ce(e,t){return(0,Ie.K)(e,t)}const Te="WebCryptoAPI"},9670:(e,t,r)=>{const n=r(2285),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=r(4990),l=r(9958),{once:u}=r(6600),c=r(1168),d=r(6594),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:m}=r(3995),{validateFunction:b,validateAbortSignal:w}=r(8029),{isIterable:_,isReadable:S,isReadableNodeStream:E,isNodeStream:A,isTransformStream:x,isWebStream:R,isReadableStream:k,isReadableFinished:I}=r(7787),C=globalThis.AbortController||r(3641).AbortController;let T,P,O;function N(e,t,r){let n=!1;e.on("close",(()=>{n=!0}));return{destroy:t=>{n||(n=!0,c.destroyer(e,t||new y("pipe")))},cleanup:l(e,{readable:t,writable:r},(e=>{n=!e}))}}function F(e){if(_(e))return e;if(E(e))return async function*(e){P||(P=r(9824));yield*P.prototype[a].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function D(e,t,r,n){let i,{end:a}=n,s=null;const u=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},c=()=>new o(((e,t)=>{i?t(i):s=()=>{i?t(i):e()}}));t.on("drain",u);const d=l(t,{readable:!1},u);try{t.writableNeedDrain&&await c();for await(const r of e)t.write(r)||await c();a&&(t.end(),await c()),r()}catch(h){r(i!==h?f(i,h):h)}finally{d(),t.off("drain",u)}}async function j(e,t,r,n){let{end:i}=n;x(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,i&&await o.close(),r()}catch(a){try{await o.abort(a),r(a)}catch(a){r(a)}}}function L(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new g("streams");const a=new C,l=a.signal,u=null===o||void 0===o?void 0:o.signal,c=[];function f(){B(new m)}let y,v,b;w(u,"options.signal"),O=O||r(6600).addAbortListener,u&&(y=O(u,f));const I=[];let P,L=0;function M(e){B(e,0===--L)}function B(e,r){var i;if(!e||v&&"ERR_STREAM_PREMATURE_CLOSE"!==v.code||(v=e),v||r){for(;I.length;)I.shift()(v);null===(i=y)||void 0===i||i[s](),a.abort(),r&&(v||c.forEach((e=>e())),n.nextTick(t,v,b))}}for(let V=0;V<e.length;V++){const K=e[V],J=V<e.length-1,z=V>0,G=J||!1!==(null===o||void 0===o?void 0:o.end),q=V===e.length-1;if(A(K)){if(G){const{destroy:Y,cleanup:Q}=N(K,J,z);I.push(Y),S(K)&&q&&c.push(Q)}function H(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&M(e)}K.on("error",H),S(K)&&q&&c.push((()=>{K.removeListener("error",H)}))}if(0===V)if("function"===typeof K){if(P=K({signal:l}),!_(P))throw new p("Iterable, AsyncIterable or Stream","source",P)}else P=_(K)||E(K)||x(K)?K:d.from(K);else if("function"===typeof K){var W;if(x(P))P=F(null===(W=P)||void 0===W?void 0:W.readable);else P=F(P);if(P=K(P,{signal:l}),J){if(!_(P,!0))throw new p("AsyncIterable",`transform[${V-1}]`,P)}else{var $;T||(T=r(1092));const X=new T({objectMode:!0}),Z=null===($=P)||void 0===$?void 0:$.then;if("function"===typeof Z)L++,Z.call(P,(e=>{b=e,null!=e&&X.write(e),G&&X.end(),n.nextTick(M)}),(e=>{X.destroy(e),n.nextTick(M,e)}));else if(_(P,!0))L++,D(P,X,M,{end:G});else{if(!k(P)&&!x(P))throw new p("AsyncIterable or Promise","destination",P);{const re=P.readable||P;L++,D(re,X,M,{end:G})}}P=X;const{destroy:ee,cleanup:te}=N(P,!1,!0);I.push(ee),q&&c.push(te)}}else if(A(K)){if(E(P)){L+=2;const ne=U(P,K,M,{end:G});S(K)&&q&&c.push(ne)}else if(x(P)||k(P)){const ie=P.readable||P;L++,D(ie,K,M,{end:G})}else{if(!_(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);L++,D(P,K,M,{end:G})}P=K}else if(R(K)){if(E(P))L++,j(F(P),K,M,{end:G});else if(k(P)||_(P))L++,j(P,K,M,{end:G});else{if(!x(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);L++,j(P.readable,K,M,{end:G})}P=K}else P=d.from(K)}return(null!==l&&void 0!==l&&l.aborted||null!==u&&void 0!==u&&u.aborted)&&n.nextTick(f),P}function U(e,t,r,i){let{end:o}=i,a=!1;if(t.on("close",(()=>{a||r(new v)})),e.pipe(t,{end:!1}),o){function s(){a=!0,t.end()}I(e)?n.nextTick(s):e.once("end",s)}else r();return l(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),l(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:L,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return L(t,u(function(e){return b(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},9677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(6344))&&n.__esModule?n:{default:n};const o=[];for(let l=0;l<256;++l)o.push((l+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=s},9697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(8836))&&n.__esModule?n:{default:n};var o=function(e){return"string"===typeof e&&i.default.test(e)};t.default=o},9822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryHandlerKeywordUnknownFallback=void 0;const n=r(7139);class i{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,t,r,i,o){const a=await t.unaliasKeyword(r[i],r,i);return!!n.Util.isPotentialKeyword(a)&&!(!o&&"@list"===a)}async test(e,t,r,i,o){return n.Util.isPotentialKeyword(r)}async handle(e,t,r,o,a,s){const l=i.VALID_KEYWORDS_TYPES[r];void 0!==l?l&&typeof a!==l.type&&e.emitError(new n.ErrorCoded(`Invalid value type for '${r}' with value '${a}'`,l.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${r}' with value '${a}'`)),e.emittedStack[s]=!1}}i.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:n.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:n.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},t.EntryHandlerKeywordUnknownFallback=i},9824:(e,t,r)=>{"use strict";const n=r(2285),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:u,ObjectSetPrototypeOf:c,Promise:d,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:g}=r(4990);e.exports=z,z.ReadableState=J;const{EventEmitter:y}=r(7284),{Stream:v,prependListener:m}=r(731),{Buffer:b}=r(6382),{addAbortSignal:w}=r(1691),_=r(9958);let S=r(6600).debuglog("stream",(e=>{S=e}));const E=r(6049),A=r(1168),{getHighWaterMark:x,getDefaultHighWaterMark:R}=r(7683),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:N}=r(3995),{validateObject:F}=r(8029),D=g("kPaused"),{StringDecoder:j}=r(8694),L=r(8956);c(z.prototype,v.prototype),c(z,v);const U=()=>{},{errorOrDestroy:M}=A,B=1,H=16,W=32,$=2048,V=4096;function K(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function J(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(6594)),this.state=$|V|H|W,e&&e.objectMode&&(this.state|=B),n&&e&&e.readableObjectMode&&(this.state|=B),this.highWaterMark=e?x(this,e,"readableHighWaterMark",n):R(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,e&&!1===e.emitClose&&(this.state&=~$),e&&!1===e.autoDestroy&&(this.state&=~V),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function z(e){if(!(this instanceof z))return new z(e);const t=this instanceof r(6594);this._readableState=new J(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),v.call(this,e),A.construct(this,(()=>{this._readableState.needReadable&&Z(this,this._readableState)}))}function G(e,t,r,n){S("readableAddChunk",t);const i=e._readableState;let o;if(0===(i.state&B)&&("string"===typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=b.from(t,r).toString(i.encoding):(t=b.from(t,r),r=""))):t instanceof b?r="":v._isUint8Array(t)?(t=v._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new I("chunk",["string","Buffer","Uint8Array"],t))),o)M(e,o);else if(null===t)i.state&=-9,function(e,t){if(S("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Q(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}(e,i);else if(0!==(i.state&B)||t&&t.length>0)if(n)if(0!==(4&i.state))M(e,new O);else{if(i.destroyed||i.errored)return!1;q(e,i,t,!0)}else if(i.ended)M(e,new P);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?q(e,i,t,!1):Z(e,i)):q(e,i,t,!1)}else n||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(0!==(65536&t.state)?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),0!==(64&t.state)&&Q(e)),Z(e,t)}l(J.prototype,{objectMode:K(B),ended:K(2),endEmitted:K(4),reading:K(8),constructed:K(H),sync:K(W),needReadable:K(64),emittedReadable:K(128),readableListening:K(256),resumeScheduled:K(512),errorEmitted:K(1024),emitClose:K($),autoDestroy:K(V),destroyed:K(8192),closed:K(16384),closeEmitted:K(32768),multiAwaitDrain:K(65536),readingMore:K(1<<17),dataEmitted:K(1<<18)}),z.prototype.destroy=A.destroy,z.prototype._undestroy=A.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},z.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new N,this.destroy(e)),new d(((t,r)=>_(this,(n=>n&&n!==e?r(n):t(null)))))},z.prototype.push=function(e,t){return G(this,e,t,!1)},z.prototype.unshift=function(e,t){return G(this,e,t,!0)},z.prototype.isPaused=function(){const e=this._readableState;return!0===e[D]||!1===e.flowing},z.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const i of r)n+=t.write(i);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function Y(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&B)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Q(e){const t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(X,e))}function X(e){const t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){S("readable nexttick read 0"),e.read(0)}function ne(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!==typeof e.read&&(e=z.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=U;function i(t){this===e?(n(),n=U):n=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{r=e?k(r,e):null,n(),n=U}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(i)}}}catch(a){throw r=k(r,a),r}finally{!r&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):A.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function se(e){const t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(le,t,e))}function le(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ue,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ue(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ce;function de(){return void 0===ce&&(ce={}),ce}z.prototype.read=function(e){S("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new T("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):Q(this),null;if(0===(e=Y(e,t))&&t.ended)return 0===t.length&&se(this),null;let n,i=0!==(64&t.state);if(S("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,S("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,S("reading, ended or constructing",i);else if(i){S("do read"),t.state|=8|W,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(a){M(this,a)}t.state&=~W,t.reading||(e=Y(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&se(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},z.prototype._read=function(e){throw new C("_read()")},z.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),S("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:y;function a(t,n){S("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){S("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),l&&e.removeListener("drain",l);e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),u=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){S("onend"),e.end()}let l;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);let u=!1;function c(){u||(1===i.pipes.length&&i.pipes[0]===e?(S("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(S("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),l||(l=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(S("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(S("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",l))}function d(t){S("ondata");const r=e.write(t);S("dest.write",r),!1===r&&c()}function h(t){if(S("onerror",t),y(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?M(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",g),y()}function g(){S("onfinish"),e.removeListener("close",p),y()}function y(){S("unpipe"),r.unpipe(e)}return r.on("data",d),m(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),!0===e.writableNeedDrain?c():i.flowing||(S("pipe resume"),r.resume()),e},z.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.on=function(e,t){const r=v.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?Q(this):i.reading||n.nextTick(re,this))),r},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(e,t){const r=v.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){const t=v.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},z.prototype.resume=function(){const e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[D]=!1,this},z.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},z.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{M(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let n=1;n<r.length;n++){const t=r[n];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},z.prototype[p]=function(){return oe(this)},z.prototype.iterator=function(e){return void 0!==e&&F(e,"options"),oe(this,e)},l(z.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(J.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),z._fromList=ae,z.from=function(e,t){return L(z,e,t)},z.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},z.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},z.wrap=function(e,t){var r,n;return new z({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}},9857:(e,t,r)=>{"use strict";r.d(t,{IG:()=>g,sc:()=>y,zp:()=>w,Jq:()=>d,Nj:()=>c});var n=r(7692),i=r(9904),o=r(7251);const a=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`;var s=r(2142),l=r(449);const u=async(e,t,r)=>{if(!(0,n.R)(r))throw new TypeError((0,i.A)(r,...l.g));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==e)throw new TypeError(`key is not a ${e} key`);return a((0,o.WG)(new Uint8Array(await n.A.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},c=e=>u("public","spki",e),d=e=>u("private","pkcs8",e),f=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;const i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every(((e,r)=>e===t[r]))||f(e,t,n+1))},h=e=>{switch(!0){case f(e,[42,134,72,206,61,3,1,7]):return"P-256";case f(e,[43,129,4,0,34]):return"P-384";case f(e,[43,129,4,0,35]):return"P-521";case f(e,[43,101,110]):return"X25519";case f(e,[43,101,111]):return"X448";case f(e,[43,101,112]):return"Ed25519";case f(e,[43,101,113]):return"Ed448";default:throw new s.JOSENotSupported("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},p=async(e,t,r,i,o)=>{var a;let l,u;const c=new Uint8Array(atob(r.replace(e,"")).split("").map((e=>e.charCodeAt(0)))),d="spki"===t;switch(i){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},u=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},u=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},u=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},u=d?["verify"]:["sign"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},u=d?["verify"]:["sign"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},u=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const e=h(c);l=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},u=d?[]:["deriveBits"];break}case"EdDSA":l={name:h(c)},u=d?["verify"]:["sign"];break;default:throw new s.JOSENotSupported('Invalid or unsupported "alg" (Algorithm) value')}return n.A.subtle.importKey(t,c,l,null!==(a=null===o||void 0===o?void 0:o.extractable)&&void 0!==a&&a,u)},g=(e,t,r)=>p(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),y=(e,t,r)=>p(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function v(e){let t=[],r=0;for(;r<e.length;){let n=m(e.subarray(r));t.push(n),r+=n.byteLength}return t}function m(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else{if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw new TypeError("invalid indefinite form length");n++}const r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}{let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++}}const i=t+n;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}function b(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=(0,o.y4)(t);return a(function(e){const t=v(v(m(e).contents)[0].contents);return(0,o.WG)(t[160===t[0].raw[0]?6:5].raw)}(r),"PUBLIC KEY")}const w=(e,t,r)=>{let n;try{n=b(e)}catch(i){throw new TypeError("Failed to parse the X.509 certificate",{cause:i})}return y(n,t,r)}},9872:(e,t,r)=>{const n=r(2285),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=r(1632),l=r(7964),{once:u}=r(6854),c=r(7958),d=r(1256),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:m}=r(7045),{validateFunction:b,validateAbortSignal:w}=r(2099),{isIterable:_,isReadable:S,isReadableNodeStream:E,isNodeStream:A,isTransformStream:x,isWebStream:R,isReadableStream:k,isReadableFinished:I}=r(97),C=globalThis.AbortController||r(3641).AbortController;let T,P,O;function N(e,t,r){let n=!1;e.on("close",(()=>{n=!0}));return{destroy:t=>{n||(n=!0,c.destroyer(e,t||new y("pipe")))},cleanup:l(e,{readable:t,writable:r},(e=>{n=!e}))}}function F(e){if(_(e))return e;if(E(e))return async function*(e){P||(P=r(5470));yield*P.prototype[a].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function D(e,t,r,n){let i,{end:a}=n,s=null;const u=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},c=()=>new o(((e,t)=>{i?t(i):s=()=>{i?t(i):e()}}));t.on("drain",u);const d=l(t,{readable:!1},u);try{t.writableNeedDrain&&await c();for await(const r of e)t.write(r)||await c();a&&(t.end(),await c()),r()}catch(h){r(i!==h?f(i,h):h)}finally{d(),t.off("drain",u)}}async function j(e,t,r,n){let{end:i}=n;x(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,i&&await o.close(),r()}catch(a){try{await o.abort(a),r(a)}catch(a){r(a)}}}function L(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new g("streams");const a=new C,l=a.signal,u=null===o||void 0===o?void 0:o.signal,c=[];function f(){B(new m)}let y,v,b;w(u,"options.signal"),O=O||r(6854).addAbortListener,u&&(y=O(u,f));const I=[];let P,L=0;function M(e){B(e,0===--L)}function B(e,r){var i;if(!e||v&&"ERR_STREAM_PREMATURE_CLOSE"!==v.code||(v=e),v||r){for(;I.length;)I.shift()(v);null===(i=y)||void 0===i||i[s](),a.abort(),r&&(v||c.forEach((e=>e())),n.nextTick(t,v,b))}}for(let V=0;V<e.length;V++){const K=e[V],J=V<e.length-1,z=V>0,G=J||!1!==(null===o||void 0===o?void 0:o.end),q=V===e.length-1;if(A(K)){if(G){const{destroy:Y,cleanup:Q}=N(K,J,z);I.push(Y),S(K)&&q&&c.push(Q)}function H(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&M(e)}K.on("error",H),S(K)&&q&&c.push((()=>{K.removeListener("error",H)}))}if(0===V)if("function"===typeof K){if(P=K({signal:l}),!_(P))throw new p("Iterable, AsyncIterable or Stream","source",P)}else P=_(K)||E(K)||x(K)?K:d.from(K);else if("function"===typeof K){var W;if(x(P))P=F(null===(W=P)||void 0===W?void 0:W.readable);else P=F(P);if(P=K(P,{signal:l}),J){if(!_(P,!0))throw new p("AsyncIterable",`transform[${V-1}]`,P)}else{var $;T||(T=r(4346));const X=new T({objectMode:!0}),Z=null===($=P)||void 0===$?void 0:$.then;if("function"===typeof Z)L++,Z.call(P,(e=>{b=e,null!=e&&X.write(e),G&&X.end(),n.nextTick(M)}),(e=>{X.destroy(e),n.nextTick(M,e)}));else if(_(P,!0))L++,D(P,X,M,{end:G});else{if(!k(P)&&!x(P))throw new p("AsyncIterable or Promise","destination",P);{const re=P.readable||P;L++,D(re,X,M,{end:G})}}P=X;const{destroy:ee,cleanup:te}=N(P,!1,!0);I.push(ee),q&&c.push(te)}}else if(A(K)){if(E(P)){L+=2;const ne=U(P,K,M,{end:G});S(K)&&q&&c.push(ne)}else if(x(P)||k(P)){const ie=P.readable||P;L++,D(ie,K,M,{end:G})}else{if(!_(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);L++,D(P,K,M,{end:G})}P=K}else if(R(K)){if(E(P))L++,j(F(P),K,M,{end:G});else if(k(P)||_(P))L++,j(P,K,M,{end:G});else{if(!x(P))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);L++,j(P.readable,K,M,{end:G})}P=K}else P=d.from(K)}return(null!==l&&void 0!==l&&l.aborted||null!==u&&void 0!==u&&u.aborted)&&n.nextTick(f),P}function U(e,t,r,i){let{end:o}=i,a=!1;if(t.on("close",(()=>{a||r(new v)})),e.pipe(t,{end:!1}),o){function s(){a=!0,t.end()}I(e)?n.nextTick(s):e.once("end",s)}else r();return l(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),l(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:L,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return L(t,u(function(e){return b(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},9904:(e,t,r)=>{"use strict";function n(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(n.length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"===typeof t&&t.name?e+=` Received function ${t.name}`:"object"===typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}r.d(t,{A:()=>i,t:()=>o});const i=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n("Key must be ",e,...r)};function o(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return n(`Key for the ${e} algorithm must be `,t,...i)}},9934:(e,t,r)=>{"use strict";const{pipeline:n}=r(9670),i=r(6594),{destroyer:o}=r(1168),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:u,isTransformStream:c,isWritableStream:d,isReadableStream:f}=r(7787),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(3995),y=r(9958);e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new g("streams");if(1===t.length)return i.from(t[0]);const v=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let n=0;n<t.length;++n)if(a(t[n])||u(t[n])){if(n<t.length-1&&!(s(t[n])||f(t[n])||c(t[n])))throw new p(`streams[${n}]`,v[n],"must be readable");if(n>0&&!(l(t[n])||d(t[n])||c(t[n])))throw new p(`streams[${n}]`,v[n],"must be writable")}let m,b,w,_,S;const E=t[0],A=n(t,(function(e){const t=_;_=null,t?t(e):e?S.destroy(e):R||x||S.destroy()})),x=!!(l(E)||d(E)||c(E)),R=!!(s(A)||f(A)||c(A));if(S=new i({writableObjectMode:!(null===E||void 0===E||!E.writableObjectMode),readableObjectMode:!(null===A||void 0===A||!A.readableObjectMode),writable:x,readable:R}),x){if(a(E))S._write=function(e,t,r){E.write(e,t)?r():m=r},S._final=function(e){E.end(),b=e},E.on("drain",(function(){if(m){const e=m;m=null,e()}}));else if(u(E)){const e=(c(E)?E.writable:E).getWriter();S._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(i){n(i)}},S._final=async function(t){try{await e.ready,e.close().catch((()=>{})),b=t}catch(r){t(r)}}}const e=c(A)?A.readable:A;y(e,(()=>{if(b){const e=b;b=null,e()}}))}if(R)if(a(A))A.on("readable",(function(){if(w){const e=w;w=null,e()}})),A.on("end",(function(){S.push(null)})),S._read=function(){for(;;){const e=A.read();if(null===e)return void(w=S._read);if(!S.push(e))return}};else if(u(A)){const e=(c(A)?A.readable:A).getReader();S._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!S.push(t))return;if(r)return void S.push(null)}catch{return}}}return S._destroy=function(e,t){e||null===_||(e=new h),w=null,m=null,b=null,null===_?t(e):(_=t,a(A)&&o(A,e))},S}},9938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var l;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,o.default)(n)),16!==(null===(l=n)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(l){}return n.DNS=a,n.URL=s,n};var n,i=r(9677),o=(n=r(5123))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},9958:(e,t,r)=>{"use strict";const n=r(2285),{AbortError:i,codes:o}=r(3995),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:u}=r(6600),{validateAbortSignal:c,validateFunction:d,validateObject:f,validateBoolean:h}=r(8029),{Promise:p,PromisePrototypeThen:g,SymbolDispose:y}=r(4990),{isClosed:v,isReadable:m,isReadableNodeStream:b,isReadableStream:w,isReadableFinished:_,isReadableErrored:S,isWritable:E,isWritableNodeStream:A,isWritableStream:x,isWritableFinished:R,isWritableErrored:k,isNodeStream:I,willEmitClose:C,kIsClosedPromise:T}=r(7787);let P;const O=()=>{};function N(e,t,o){var h,p;if(2===arguments.length?(o=t,t=l):null==t?t=l:f(t,"options"),d(o,"callback"),c(t.signal,"options.signal"),o=u(o),w(e)||x(e))return function(e,t,o){let a=!1,s=O;if(t.signal)if(s=()=>{a=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{P=P||r(6600).addAbortListener;const n=P(t.signal,s),i=o;o=u((function(){n[y]();for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i.apply(e,r)}))}const l=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];a||n.nextTick((()=>o.apply(e,r)))};return g(e[T].promise,l,l),O}(e,t,o);if(!I(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const N=null!==(h=t.readable)&&void 0!==h?h:b(e),F=null!==(p=t.writable)&&void 0!==p?p:A(e),D=e._writableState,j=e._readableState,L=()=>{e.writable||B()};let U=C(e)&&b(e)===N&&A(e)===F,M=R(e,!1);const B=()=>{M=!0,e.destroyed&&(U=!1),(!U||e.readable&&!N)&&(N&&!H||o.call(e))};let H=_(e,!1);const W=()=>{H=!0,e.destroyed&&(U=!1),(!U||e.writable&&!F)&&(F&&!M||o.call(e))},$=t=>{o.call(e,t)};let V=v(e);const K=()=>{V=!0;const t=k(e)||S(e);return t&&"boolean"!==typeof t?o.call(e,t):N&&!H&&b(e,!0)&&!_(e,!1)?o.call(e,new s):!F||M||R(e,!1)?void o.call(e):o.call(e,new s)},J=()=>{V=!0;const t=k(e)||S(e);if(t&&"boolean"!==typeof t)return o.call(e,t);o.call(e)},z=()=>{e.req.on("finish",B)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?F&&!D&&(e.on("end",L),e.on("close",L)):(e.on("complete",B),U||e.on("abort",K),e.req?z():e.on("request",z)),U||"boolean"!==typeof e.aborted||e.on("aborted",K),e.on("end",W),e.on("finish",B),!1!==t.error&&e.on("error",$),e.on("close",K),V?n.nextTick(K):null!==D&&void 0!==D&&D.errorEmitted||null!==j&&void 0!==j&&j.errorEmitted?U||n.nextTick(J):(N||U&&!m(e)||!M&&!1!==E(e))&&(F||U&&!E(e)||!H&&!1!==m(e))?j&&e.req&&e.aborted&&n.nextTick(J):n.nextTick(J);const G=()=>{o=O,e.removeListener("aborted",K),e.removeListener("complete",B),e.removeListener("abort",K),e.removeListener("request",z),e.req&&e.req.removeListener("finish",B),e.removeListener("end",L),e.removeListener("close",L),e.removeListener("finish",B),e.removeListener("end",W),e.removeListener("error",$),e.removeListener("close",K)};if(t.signal&&!V){const a=()=>{const r=o;G(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{P=P||r(6600).addAbortListener;const n=P(t.signal,a),i=o;o=u((function(){n[y]();for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i.apply(e,r)}))}}return G}e.exports=N,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(h(t.cleanup,"cleanup"),n=t.cleanup),new p(((r,i)=>{const o=N(e,t,(e=>{n&&o(),e?i(e):r()}))}))}},9966:(e,t,r)=>{var n=r(6382),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".84396627.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="solid-todo-app:";r.l=(n,i,o,a)=>{if(e[n])e[n].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[i];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/solid-todo-app/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((r,n)=>i=e[t]=[r,n]));n.push(i[2]=o);var a=r.p+r.u(t),s=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,a=n[0],s=n[1],l=n[2],u=0;if(a.some((t=>0!==e[t]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(l)l(r)}for(t&&t(n);u<a.length;u++)o=a[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunksolid_todo_app=self.webpackChunksolid_todo_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=r(5043),t=r(4391),n=r(4166),i=r(8634),o=r(4209);const a="https://inrupt.com/.well-known/sdk-local-node/",{freeze:s}=Object;function l(e){return e.substring(0,46)===a}function u(e){return e.substring(46)}function c(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function d(e){return e.substring(2)}function f(e){return"string"===typeof e?e:e.value}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URL(e);return r.pathname=r.pathname.replace(/\/\/+/g,"/"),!1===t.trailingSlash&&"/"===r.pathname.slice(-1)&&(r.pathname=r.pathname.slice(0,r.pathname.length-1)),!0===t.trailingSlash&&"/"!==r.pathname.slice(-1)&&(r.pathname=`${r.pathname}/`),r.href}const p="http://www.w3.org/2001/XMLSchema#boolean",g="http://www.w3.org/2001/XMLSchema#dateTime",y="http://www.w3.org/2001/XMLSchema#decimal",v="http://www.w3.org/2001/XMLSchema#integer",m="http://www.w3.org/2001/XMLSchema#string",b="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function w(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,r]=e.split("T"),[n,i]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[o,a,s]=i.split("-"),l=Number.parseInt(o,10)*n,u=Number.parseInt(a,10)-1,c=Number.parseInt(s,10),[d,f]=_(r),[h,p]="string"===typeof f?S(f):[0,0],[g,y,v]=d.split(":"),m=Number.parseInt(g,10)+h,b=Number.parseInt(y,10)+p,[w,E]=v.split("."),A=Number.parseInt(w,10),x=E?Number.parseInt(E,10):0,R=new Date(Date.UTC(l,u,c,m,b,A,x));return l>=0&&l<100&&R.setUTCFullYear(R.getUTCFullYear()-1900),R}function _(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];const t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],`+${t[1]}`]:[r[0],`-${r[1]}`]}function S(e){if("Z"===e)return[0,0];const t="+"===e.charAt(0)?1:-1,[r,n]=e.substring(1).split(":");return[Number.parseInt(r,10)*t,Number.parseInt(n,10)*t]}function E(e){return A(e)&&"NamedNode"===e.termType}function A(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function x(e){return E(e)&&l(e.value)}function R(e){const t=f(e);if("function"!==typeof URL)return!0;try{return new URL(t),!0}catch(r){return!1}}function k(e,t){return o.Ay.namedNode(I(u(e.value),t))}function I(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");const r=new URL(t);return r.hash=e,r.href}function C(e,t){var r;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.subject.termType}] as their Subject node.`);const n="BlankNode"===t.subject.termType?`_:${t.subject.value}`:t.subject.value,i=null!==(r=e[n])&&void 0!==r?r:{type:"Subject",url:n,predicates:{}};return s({...e,[n]:T(i,t)})}function T(e,t){return s({...e,predicates:P(e.predicates,t)})}function P(e,t){var r;if(!["NamedNode"].includes(t.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.predicate.termType}] as their Predicate node.`);const n=t.predicate.value,i=null!==(r=e[n])&&void 0!==r?r:{};return s({...e,[n]:O(i,t)})}function O(e,t){var r,n,i,o,a,l,u,c,d;if("NamedNode"===t.object.termType){const n=s([...null!==(r=e.namedNodes)&&void 0!==r?r:[],t.object.value]);return s({...e,namedNodes:n})}if("Literal"===t.object.termType){if(t.object.datatype.value===b){const r=t.object.language.toLowerCase(),a=s([...null!==(i=null===(n=e.langStrings)||void 0===n?void 0:n[r])&&void 0!==i?i:[],t.object.value]),l=s({...null!==(o=e.langStrings)&&void 0!==o?o:{},[r]:a});return s({...e,langStrings:l})}const r=s([...null!==(l=null===(a=e.literals)||void 0===a?void 0:a[t.object.datatype.value])&&void 0!==l?l:[],t.object.value]),c=s({...null!==(u=e.literals)&&void 0!==u?u:{},[t.object.datatype.value]:r});return s({...e,literals:c})}if("BlankNode"===t.object.termType){const r=s([...null!==(c=e.blankNodes)&&void 0!==c?c:[],(d=t.object,`_:${d.value}`)]);return s({...e,blankNodes:r})}throw new Error(`Objects of type [${t.object.termType}] are not supported.`)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const n=[],i=null!==(r=t.dataFactory)&&void 0!==r?r:o.Ay;return Object.keys(e.graphs).forEach((r=>{const o=e.graphs[r],a="default"===r?i.defaultGraph():i.namedNode(r);Object.keys(o).forEach((e=>{const{predicates:r}=o[e],s=c(e)?i.blankNode(d(e)):i.namedNode(e);n.push(...F(r,s,a,t))}))})),n}function F(e,t,r){var n;const i=[],a=null!==(n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).dataFactory)&&void 0!==n?n:o.Ay;return Object.keys(e).forEach((n=>{var o,s,l,u;const f=a.namedNode(n),h=null!==(o=e[n].langStrings)&&void 0!==o?o:{},p=null!==(s=e[n].namedNodes)&&void 0!==s?s:[],g=null!==(l=e[n].literals)&&void 0!==l?l:{},y=null!==(u=e[n].blankNodes)&&void 0!==u?u:[];Object.keys(g).forEach((e=>{const n=a.namedNode(e);g[e].forEach((e=>{const o=a.literal(e,n);i.push(a.quad(t,f,o,r))}))}));Object.keys(h).forEach((e=>{h[e].forEach((n=>{const o=a.literal(n,e);i.push(a.quad(t,f,o,r))}))})),p.forEach((e=>{const n=a.namedNode(e);i.push(a.quad(t,f,n,r))})),y.forEach((e=>{if(c(e)){const n=a.blankNode(d(e));i.push(a.quad(t,f,n,r))}else{const n=a.blankNode(),o=a.quad(t,f,n,r),s=F(e,n,r);i.push(o),i.push(...s)}}))})),i}const D="http://www.w3.org/ns/ldp#Resource";var j=r(9212),L=r(7644);class U extends Error{}const M=new URL("about:blank");function B(e,t){if(void 0!==e)try{return new URL(e,t)}catch{}}class H extends U{constructor(e,t,r,n){if(super(r,n),e.status>=200&&e.status<400)throw new U(`A ClientHttpError cannot be built from a success response, got ${e.status} ${e.statusText}`);this.errorResponse=Object.freeze({status:e.status,statusText:e.statusText,headers:e.headers,url:e.url,body:t,ok:!1}),this.details=function(e){let t,r,n,i,o;if("application/problem+json"===e.headers.get("Content-Type"))try{const a=JSON.parse(e.body),s=B(a.type,e.url);void 0!==s&&(t=s),"string"===typeof a.title&&(r=a.title),"number"===typeof a.status&&(n=a.status),"string"===typeof a.detail&&(i=a.detail);const l=B(a.instance,e.url);void 0!==l&&(o=l)}catch{}return Object.freeze({type:t??M,title:r??e.statusText,status:n??e.status,detail:i,instance:o})}(this.errorResponse)}get response(){return this.errorResponse}get problemDetails(){return this.details}}function W(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function $(e){const t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function V(e){const t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}class K extends Error{}var J=r(6915);function z(e){var t,r,n,i,o;const a=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],s=a.length>0&&["text/turtle","application/ld+json"].includes(a[0]),l={sourceIri:e.url,isRawData:!s,contentLocation:null!==(n=e.headers.get("Content-Location"))&&void 0!==n?n:void 0,contentType:null!==(i=e.headers.get("Content-Type"))&&void 0!==i?i:void 0,linkedResources:{},location:null!==(o=e.headers.get("Location"))&&void 0!==o?o:void 0},u=e.headers.get("Link");if(u){const e=J.parse(u),t=e.get("rel","acl");1===t.length&&(l.aclUrl=new URL(t[0].uri,l.sourceIri).href),l.linkedResources=e.refs.reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,l.sourceIri).href),e}),l.linkedResources)}const c=e.headers.get("WAC-Allow");return c&&(l.permissions=function(e){function t(e){const t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){const r=e.split(",").map((e=>e.split("="))).filter((e=>2===e.length&&e[0].trim()===t));if(1!==r.length)return"";const n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(c)),l}function G(e){return!e.ok}function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(G(e)&&(!function(e){return 401===e.status||403===e.status}(e)||!t.ignoreAuthenticationErrors))throw new Q(`Fetching the metadata of the Resource at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);return{internal_resourceInfo:z(e)}}function Y(e){return W(e)?e.internal_resourceInfo.sourceIri:null}class Q extends K{constructor(e,t,r){super(e),this.response=t,this.httpError=new H(t,"string"===typeof r?r:"",e)}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}get problemDetails(){return this.httpError.problemDetails}}const X=()=>{const e=[],t=[],r=[];return{onQuad:t=>{e.push(t)},onError:e=>{r.push(e)},onComplete:e=>{t.push(e)},parse:(n,i)=>{var o;(o=Y(i),new j.A({format:"text/turtle",baseIRI:o})).parse(n,((n,i)=>{n?r.forEach((e=>e(n))):i?e.forEach((e=>e(i))):t.forEach((e=>e()))}))}}};async function Z(e,t){const r=new L.A({format:"text/turtle",prefixes:null===t||void 0===t?void 0:t.prefixes}),n=e.map((e=>o.Ay.quad(e.subject,e.predicate,e.object,void 0)));r.addQuads(n);const i=new Promise(((e,t)=>{r.end(((r,n)=>{r?t(r):e(n)}))}));return await i}const ee={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var te,re=new Uint8Array(16);function ne(){if(!te&&!(te="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(re)}for(var ie=[],oe=0;oe<256;++oe)ie.push((oe+256).toString(16).slice(1));function ae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]).toLowerCase()}const se=function(e,t,r){if(ee.randomUUID&&!t&&!e)return ee.randomUUID();var n=(e=e||{}).random||(e.rng||ne)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return ae(n)};function le(e){var t,r,n,i,o,a,s,l;if(E(e))return`<${e.value}> (URL)`;if(function(e){return A(e)&&"Literal"===e.termType}(e)){if(!E(e.datatype))return`[${e.value}] (RDF/JS Literal of unknown type)`;let u;switch(e.datatype.value){case p:return u=null!==(r=null===(t=function(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:`Invalid data: \`${e.value}\``,`${u} (boolean)`;case g:return u=null!==(i=null===(n=w(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==i?i:`Invalid data: \`${e.value}\``,`${u} (datetime)`;case y:return u=null!==(a=null===(o=function(e){const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:`Invalid data: \`${e.value}\``,`${u} (decimal)`;case v:return u=null!==(l=null===(s=function(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}(e.value))||void 0===s?void 0:s.toString())&&void 0!==l?l:`Invalid data: \`${e.value}\``,`${u} (integer)`;case b:return`"${e.value}" (${e.language} string)`;case m:return`"${e.value}" (string)`;default:return`[${e.value}] (RDF/JS Literal of type: \`${e.datatype.value}\`)`}}return"BlankNode"===e.termType?`[${e.value}] (RDF/JS BlankNode)`:"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?`?${e.value} (RDF/JS Variable)`:e}function ue(e){if(!Ee(e))throw new Re(e)}function ce(e,t){const r=V(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,i]=t.filter((e=>!de(e))).reduce(((e,t)=>{let[r,n]=e;return"undefined"!==typeof r.find((e=>e.equals(t)))?[r.filter((e=>!e.equals(t))),n]:[r,n.concat(t)]}),[r.additions,r.deletions]);return s({...e,internal_changeLog:{additions:n,deletions:i}})}function de(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function fe(e,t){var r,n,i;if(ue(e),!R(t))throw new ke(t);const o=f(t),a=null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==i?i:null;return null===a?null:l(a)?`#${u(a)}`:a}function he(e,t){var r,n,i;if(ue(e),!R(t))throw new ke(t);const o=f(t);return null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((e=>l(e)?`#${u(e)}`:e)))&&void 0!==i?i:[]}const pe=he;function ge(e,t){ue(e);const r=me(e,t,g);return null===r?null:w(r)}function ye(e,t){ue(e);return me(e,t,m)}function ve(e,t){var r,n;ue(e);const i=function(e,t){return pe(e,t).map((e=>o.Ay.namedNode(e)))}(e,t),a=function(e,t){var r,n,i,a;if(ue(e),!R(t))throw new ke(t);const s=f(t);let l=[];const u=null!==(n=null===(r=e.predicates[s])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},c=Object.keys(u);for(const f of c){const e=u[f].map((e=>o.Ay.literal(e,f)));l=l.concat(e)}const d=null!==(a=null===(i=e.predicates[s])||void 0===i?void 0:i.literals)&&void 0!==a?a:{},h=Object.keys(d);for(const f of h){const e=d[f],t=o.Ay.namedNode(f),r=e.map((e=>o.Ay.literal(e,t)));l=l.concat(r)}return l}(e,t),s=f(t),l=(null!==(n=null===(r=e.predicates[s])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((e=>{const t=c(e)?d(e):void 0;return o.Ay.blankNode(t)}));return i.concat(a).concat(l)}function me(e,t,r){var n,i,o,a;if(!R(t))throw new ke(t);const s=f(t);return null!==(a=null===(o=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function be(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;if(!R(t)&&!t.match(/^_:/))throw new Ce(t);const i="undefined"!==typeof r.scope?f(r.scope):"default",o=null!==(n=e.graphs[i])&&void 0!==n?n:{},a=f(t),s=o[l(a)&&$(e)?I(u(a),Y(e)):a];return"undefined"===typeof s?null:s}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1};var r;const n="undefined"!==typeof t.scope?f(t.scope):"default",i=null!==(r=e.graphs[n])&&void 0!==r?r:{};return Object.values(i).filter((e=>!c(e.url)||t.acceptBlankNodes))}function _e(e,t){var r;const n=xe(t)&&$(e)?I(u(t.url),Y(e)):t.url,i=e.graphs.default,a=s({...i,[n]:s({...t,url:n})}),l=s({...e.graphs,default:a}),c=o.Ay.namedNode(n),d=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,f="undefined"!==typeof d?F(d,c,o.Ay.defaultGraph()):[],h=F(t.predicates,c,o.Ay.defaultGraph());return function(e,t){const r=V(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,i]=t.filter((e=>!de(e))).reduce(((e,t)=>{let[r,n]=e;return"undefined"!==typeof n.find((e=>e.equals(t)))?[r,n.filter((e=>!e.equals(t)))]:[r.concat(t),n]}),[r.additions,r.deletions]);return s({...e,internal_changeLog:{additions:n,deletions:i}})}(ce(s({...e,graphs:l}),f),h)}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;if("undefined"!==typeof e.url){const{url:t}=e;if(!R(t))throw new Ce(t);return s({type:"Subject",predicates:s({}),url:t})}const r=null!==(t=e.name)&&void 0!==t?t:Te(),n=`${a}${r}`;return s({type:"Subject",predicates:s({}),url:n})}function Ee(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}const Ae=function(e,t){if(xe(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return I(u(e.url),t)}return e.url};function xe(e){return l(e.url)}class Re extends K{constructor(e){super(`Expected a Thing, but received: [${e}].`),this.receivedValue=e}}class ke extends K{constructor(e){const t=E(e)?e.value:e;super(`Expected a valid URL to identify a property, but received: [${t}].`),this.receivedProperty=t}}class Ie extends K{constructor(e){const t=E(e)?e.value:e;super(`Expected a valid URL value, but received: [${t}].`),this.receivedValue=t}}class Ce extends K{constructor(e){const t=E(e)?e.value:e;super(`Expected a valid URL to identify a Thing, but received: [${t}].`),this.receivedValue=t}}const Te=()=>se();function Pe(e){const t=new URL(e);return t.hash="",t.href}function Oe(e){return Array.from(e).reduce(((e,t)=>function(e,t){var r;if(!["NamedNode","DefaultGraph"].includes(t.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.graph.termType}] as their Graph node.`);const n="DefaultGraph"===t.graph.termType?"default":t.graph.value,i=null!==(r=e.graphs[n])&&void 0!==r?r:{};return s({...e,graphs:s({...e.graphs,[n]:C(i,t)})})}(e,t)),{graphs:{default:{}},type:"Dataset"})}function Ne(){return s({type:"Dataset",graphs:{default:{}}})}async function Fe(e,t){var r,n;const o=h(f(e)),a=Object.keys(null!==(r=null===t||void 0===t?void 0:t.parsers)&&void 0!==r?r:{}),l=a.length>0?a.join(", "):"text/turtle",u=await(null!==(n=null===t||void 0===t?void 0:t.fetch)&&void 0!==n?n:fetch)(o,{headers:{Accept:l}});if(G(u)){const e=await u.clone().text();throw new Q(`Fetching the Resource at [${o}] failed: [${u.status}] [${u.statusText}] ${e}.`,u,e)}const c=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(G(e)){const t=await e.clone().text();throw new Q(`Fetching the SolidDataset at [${e.url}] failed: [${e.status}] [${e.statusText}] ${t}.`,e,t)}const r=q(e),n={"text/turtle":X(),...t.parsers},o=function(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}(r);if(null===o)throw new Error(`Could not determine the content type of the Resource at [${Y(r)}].`);const a=o.split(";")[0],l=n[a];if("undefined"===typeof l)throw new Error(`The Resource at [${Y(r)}] has a MIME type of [${a}], but the only parsers available are for the following MIME types: [${Object.keys(n).join(", ")}].`);const u=await e.text(),c=await new Promise(((e,t)=>{const n=new i.A;l.onError((e=>{t(new Error(`Encountered an error parsing the Resource at [${Y(r)}] with content type [${o}]: ${e}`))})),l.onQuad((e=>{n.add(e)})),l.onComplete((()=>{e(n)})),l.parse(u,r)})),d=s(Oe(c));return s({...d,...r})}(u,t);return c}async function De(e,t,r){var n;const i=h(f(e)),o=function(e){return V(e)?e:s({...e,internal_changeLog:{additions:[],deletions:[]}})}(t),a=je(o,i)?await async function(e){return{method:"PATCH",body:`${e.internal_changeLog.deletions.length>0?`DELETE DATA {${(await Z(e.internal_changeLog.deletions.map(Ue))).trim()}};`:""} ${e.internal_changeLog.additions.length>0?`INSERT DATA {${(await Z(e.internal_changeLog.additions.map(Ue))).trim()}};`:""}`,headers:{"Content-Type":"application/sparql-update"}}}(o):await async function(e,t){return{method:"PUT",body:await Z(N(e).map(Ue),t),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${D}>; rel="type"`}}}(o,r),l=await(null!==(n=null===r||void 0===r?void 0:r.fetch)&&void 0!==n?n:fetch)(i,a);if(G(l)){const e=je(o,i)?`The changes that were sent to the Pod are listed below.\n\n${function(e){if(!W(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!V(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return`## Changes compared to ${Y(e)}\n\nThis SolidDataset has not been modified since it was fetched from ${Y(e)}.\n`;let t=`## Changes compared to ${Y(e)}\n`;const r=function(e){const t=Object.create(null);return e.internal_changeLog.deletions.forEach((r=>{var n,i,o;const a=x(r.subject)?k(r.subject,Y(e)):r.subject;if(!E(a)||!E(r.predicate))return;const s=f(a),l=f(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]=Object.create(null)),null!==(i=(o=t[s])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[s][l].deleted.push(r.object)})),e.internal_changeLog.additions.forEach((r=>{var n,i,o;const a=x(r.subject)?k(r.subject,Y(e)):r.subject;if(!E(a)||!E(r.predicate))return;const s=f(a),l=f(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]=Object.create(null)),null!==(i=(o=t[s])[l])&&void 0!==i||(o[l]={added:[],deleted:[]}),t[s][l].added.push(r.object)})),t}(e);return Object.keys(r).forEach((e=>{t+=`\n### Thing: ${e}\n`;const n=r[e];Object.keys(n).forEach((e=>{t+=`\nProperty: ${e}\n`;const{deleted:r}=n[e],{added:i}=n[e];r.length>0&&(t+="- Removed:\n",t+=r.reduce(((e,t)=>`${e}  - ${le(t)}\n`),"")),i.length>0&&(t+="- Added:\n",t+=i.reduce(((e,t)=>`${e}  - ${le(t)}\n`),""))}))})),t}(o)}`:`The SolidDataset that was sent to the Pod is listed below.\n\n${Le(o)}`,t=await l.clone().text();throw new Q(`Storing the Resource at [${i}] failed: [${l.status}] [${l.statusText}] ${t}.\n\n${e}`,l,t)}const u={...z(l),isRawData:!1};return Be(s({...t,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:u}))}function je(e,t){return V(e)&&W(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(r=t,Pe(e.internal_resourceInfo.sourceIri)===Pe(r));var r}function Le(e){let t="";W(e)?t+=`# SolidDataset: ${Y(e)}\n`:t+="# SolidDataset (no URL yet)\n";const r=we(e);return 0===r.length?t+="\n<empty>\n":r.forEach((r=>{t+=`\n${function(e){let t="";xe(e)?t+=`## Thing (no URL yet \u2014 identifier: \`#${u(e.url)}\`)\n`:t+=`## Thing: ${e.url}\n`;const r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else for(const n of r)t+=`\nProperty: ${n}\n`,t+=ve(e,n).reduce(((e,t)=>`${e}- ${le(t)}\n`),"");return t}(r)}`,V(e)&&(t+=`\n${function(e,t){const r=o.Ay.namedNode(t.url),n=e.internal_changeLog.additions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0),i=e.internal_changeLog.deletions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0);return`(${1===n?"1 new value added":`${n} new values added`} / ${1===i?"1 value removed":`${i} values removed`})`}(e,r)}\n`)})),t}function Ue(e){const t=E(e.subject)?Me(e.subject):e.subject,r=E(e.object)?Me(e.object):e.object;return o.Ay.quad(t,e.predicate,r,e.graph)}function Me(e){return l(e.value)?o.Ay.namedNode(`#${u(e.value)}`):e}function Be(e){const t=Y(e),r=e.graphs.default,n=Object.keys(r).reduce(((e,r)=>{const n=function(e,t){const r=Object.keys(e.predicates).reduce(((e,r)=>{var n;const i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((e=>!l(e))))return e;const o=s(i.map((e=>l(e)?`${t}#${u(e)}`:e))),a=s({...e[r],namedNodes:o});return s({...e,[r]:a})}),e.predicates);return s({...e,predicates:r,url:l(e.url)?`${t}#${u(e.url)}`:e.url})}(e[r],t),i=l(r)?`${t}#${u(r)}`:r,o={...e};return delete o[r],o[i]=n,s(o)}),r),i=s({...e.graphs,default:n});return s({...e,graphs:i})}const He=(e,t,r)=>{var n,i;if(ue(e),!R(t))throw new ke(t);if(!Ee(r)&&!R(r))throw new Ie(r);const o=f(t),a=null!==(n=e.predicates[o])&&void 0!==n?n:{},l=null!==(i=a.namedNodes)&&void 0!==i?i:[];let u;u=E(r)?r.value:"string"===typeof r?r:xe(r)?r.url:Ae(r);const c=s(l.concat(f(u))),d=s({...a,namedNodes:c}),h=s({...e.predicates,[o]:d});return s({...e,predicates:h})},We=(e,t,r)=>(ue(e),$e(e,t,function(e){return e.toISOString()}(r),g));function $e(e,t,r,n){var i,o,a;if(ue(e),!R(t))throw new ke(t);const l=f(t),u=null!==(i=e.predicates[l])&&void 0!==i?i:{},c=null!==(o=u.literals)&&void 0!==o?o:{},d=null!==(a=c[n])&&void 0!==a?a:[],h=s(d.concat(r)),p=s({...c,[n]:h}),g=s({...u,literals:p}),y=s({...e.predicates,[l]:g});return s({...e,predicates:y})}async function Ve(e,t){const r=`${e}index.ttl`;try{return await Fe(r,{fetch:t})}catch(n){if(404===n.statusCode){return await De(r,Ne(),{fetch:t})}}}var Ke=r(579);const Je=function(){const{session:t}=(0,n.useSession)(),[r,i]=(0,e.useState)(),[o,a]=(0,e.useState)("");(0,e.useEffect)((()=>{t.info.isLoggedIn&&t.info.webId&&(async()=>{try{const e=await Fe(t.info.webId,{fetch:t.fetch}),r=he(be(e,t.info.webId),"http://www.w3.org/ns/pim/space#storage");if(!r.length)return void console.error("No Solid Pod found for this user.");const n=`${r[0]}todos/`,o=await Ve(n,t.fetch);i(o)}catch(e){console.error("Error fetching Solid Pod storage:",e)}})()}),[t]);const s=async e=>{var n,o,a;if(r)try{const s=Y(r),l=(n=Se(),o="http://schema.org/text",a=e,ue(n),$e(n,o,a,m)),u=We(l,"http://www.w3.org/2002/12/cal/ical#created",new Date),c=He(u,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/12/cal/ical#Vtodo"),d=_e(r,c),f=await De(s,d,{fetch:t.fetch});i(f)}catch(s){console.error("Error adding to-do:",s)}};return(0,Ke.jsx)(Ke.Fragment,{children:(0,Ke.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o.trim()&&(await s(o),a(""))},className:"flex gap-3 mb-8",children:[(0,Ke.jsx)("label",{htmlFor:"todo-input",className:"flex-1",children:(0,Ke.jsx)("input",{id:"todo-input",type:"text",value:o,onChange:e=>{a(e.target.value)},placeholder:"Enter a new to-do",className:"w-full p-3 border-2 border-gray-200 rounded-md focus:outline-none focus:border-blue-500"})}),(0,Ke.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-md font-semibold transition-colors",children:"Add Todo"})]})})};function ze(e,t,r,n){var i,o,a;if(!R(t))throw new ke(t);const l=f(t),u=null!==(i=e.predicates[l])&&void 0!==i?i:{},c=null!==(o=u.literals)&&void 0!==o?o:{},d=null!==(a=c[r])&&void 0!==a?a:[],h=s(d.filter((e=>!n(e)))),p=s({...c,[r]:h}),g=s({...u,literals:p}),y=s({...e.predicates,[l]:g});return s({...e,predicates:y})}const Ge="http://www.w3.org/2002/12/cal/ical#created",qe="http://www.w3.org/2002/12/cal/ical#completed";const Ye=function(e){let{todoList:t,setTodoList:r}=e;const i=t?we(t):[];i.sort(((e,t)=>ge(e,Ge)-ge(t,Ge)));const{fetch:a}=(0,n.useSession)(),c=async(e,n)=>{const i=Y(t);let o;if(n){const r=ge(e,qe),n=(l=qe,u=r,ue(s=e),ze(s,l,g,(e=>{var t;return(null===(t=w(e))||void 0===t?void 0:t.getTime())===u.getTime()})));o=_e(t,n)}else{const r=new Date,n=We(e,qe,r);o=_e(t,n)}var s,l,u;const c=await De(i,o,{fetch:a});r(c)},d=async e=>{const n=Y(t),i=function(e,t){var r;let n;n=E(t)?t.value:"string"===typeof t?l(t)&&$(e)?I(u(t),Y(e)):t:xe(t)?t.url:Ae(t);const i={...e.graphs.default};delete i[n];const a=s({...e.graphs,default:s(i)}),c=o.Ay.namedNode(n),d=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,f="undefined"!==typeof d?F(d,c,o.Ay.defaultGraph()):[];return ce(s({...e,graphs:a}),f)}(t,e),c=await De(n,i,{fetch:a});r(c)},f=i.map((e=>({text:ye(e,"http://schema.org/text"),created:ge(e,Ge),completed:ge(e,qe),thing:e})));return f.length?f.length?(0,Ke.jsxs)("div",{className:"mt-6",children:[(0,Ke.jsxs)("span",{className:"block mb-3 font-medium text-gray-600",children:["Your to-do list has ",f.length," items"]}),(0,Ke.jsx)("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:(0,Ke.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ke.jsx)("thead",{className:"bg-gray-50",children:(0,Ke.jsxs)("tr",{children:[(0,Ke.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To Do"}),(0,Ke.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,Ke.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Done"}),(0,Ke.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ke.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(((e,t)=>(0,Ke.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ke.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.text||"No description"}),(0,Ke.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.created?new Date(e.created).toLocaleString():"N/A"}),(0,Ke.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ke.jsx)("label",{className:"inline-flex items-center",children:(0,Ke.jsx)("input",{type:"checkbox",checked:!!e.completed,onChange:()=>c(e.thing,!!e.completed),className:"rounded text-blue-600 focus:ring-blue-500 h-5 w-5"})})}),(0,Ke.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Ke.jsx)("button",{onClick:()=>d(e.thing),className:"text-white bg-red-600 hover:bg-red-700 px-3 py-1 rounded-md text-sm",children:"Delete"})})]},t)))})]})})]}):(0,Ke.jsx)("p",{className:"text-gray-500 italic mt-4",children:"Your to-do list is empty."}):(0,Ke.jsx)("p",{children:"Your to-do list is empty."})},Qe="http://xmlns.com/foaf/0.1/name",Xe="http://xmlns.com/foaf/0.1/nick",Ze="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",et="http://www.w3.org/2006/vcard/ns#fn",tt="http://www.w3.org/2006/vcard/ns#hasPhoto",rt="http://www.w3.org/2006/vcard/ns#hasAddress",nt="http://www.w3.org/2006/vcard/ns#note",it="http://www.w3.org/2006/vcard/ns#organization-name",ot="http://www.w3.org/2006/vcard/ns#role",at="http://www.w3.org/ns/pim/space#storage",st="http://www.w3.org/ns/solid/terms#account",lt="http://www.w3.org/ns/solid/terms#oidcIssuer",ut="http://www.w3.org/ns/solid/terms#privateTypeIndex",ct="http://www.w3.org/ns/solid/terms#publicTypeIndex",dt="http://www.w3.org/ns/pim/space#preferencesFile",ft="http://www.w3.org/ns/ldp#inbox";const ht=function(){const{session:t}=(0,n.useSession)(),[r,i]=(0,e.useState)(null),[o,a]=(0,e.useState)({}),[s,l]=(0,e.useState)(!0),[u,c]=(0,e.useState)(null),[d,f]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{if(!t.info.isLoggedIn)return void l(!1);(async()=>{try{l(!0);const e=be(await Fe(t.info.webId,{fetch:t.fetch}),t.info.webId);if(!e)return void c("Could not find profile data");a({type:he(e,Ze),name:ye(e,Qe),fn:ye(e,et),nick:ye(e,Xe),role:ye(e,ot),orgName:ye(e,it),note:ye(e,nt),photos:he(e,tt),addresses:he(e,rt),storage:he(e,at),account:fe(e,st),oidcIssuer:fe(e,lt),privateTypeIndex:fe(e,ut),publicTypeIndex:fe(e,ct),preferencesFile:fe(e,dt),inbox:fe(e,ft)}),i({webId:t.info.webId,name:ye(e,Qe)||ye(e,et)||"No name available",displayName:ye(e,et),nickname:ye(e,Xe),note:ye(e,nt),role:ye(e,ot),organization:ye(e,it),photo:he(e,tt)[0],additionalPhotos:he(e,tt).slice(1),addresses:he(e,rt),podUrl:fe(e,at),inbox:fe(e,ft),oidcIssuer:fe(e,lt)})}catch(e){console.error("Error fetching profile:",e),c(`Error fetching profile: ${e.message}`)}finally{l(!1)}})()}),[t]),t.info.isLoggedIn?s?(0,Ke.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,Ke.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ke.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ke.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):u?(0,Ke.jsx)("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:(0,Ke.jsx)("p",{className:"text-red-700",children:u})}):(0,Ke.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,Ke.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white flex justify-between items-center",children:[(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h2",{className:"text-2xl font-bold",children:null===r||void 0===r?void 0:r.name}),(null===r||void 0===r?void 0:r.nickname)&&(0,Ke.jsx)("p",{className:"text-blue-100",children:r.nickname})]}),(0,Ke.jsx)("button",{onClick:()=>f(!d),className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-1 rounded text-sm font-medium",children:d?"Normal View":"Debug View"})]}),d?(0,Ke.jsxs)("div",{className:"p-6",children:[(0,Ke.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Raw Profile Data"}),(0,Ke.jsx)("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200 overflow-auto",children:(0,Ke.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(o,null,2)})})]}):(0,Ke.jsx)("div",{className:"p-6",children:(0,Ke.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ke.jsxs)("div",{className:"md:col-span-1",children:[null!==r&&void 0!==r&&r.photo?(0,Ke.jsx)("div",{className:"mb-6",children:(0,Ke.jsx)("img",{src:r.photo,alt:"Profile",className:"rounded-lg w-full shadow-md border-2 border-gray-200"})}):(0,Ke.jsx)("div",{className:"mb-6 bg-gray-200 rounded-lg p-8 flex items-center justify-center",children:(0,Ke.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ke.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,Ke.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 mb-4",children:[(0,Ke.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"WebID"}),(0,Ke.jsx)("a",{href:null===r||void 0===r?void 0:r.webId,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all",children:null===r||void 0===r?void 0:r.webId})]}),(null===r||void 0===r?void 0:r.oidcIssuer)&&(0,Ke.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-md border border-indigo-100",children:[(0,Ke.jsx)("h3",{className:"font-semibold text-indigo-800 mb-2",children:"Identity Provider"}),(0,Ke.jsx)("a",{href:r.oidcIssuer,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:r.oidcIssuer})]})]}),(0,Ke.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,Ke.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,Ke.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),(0,Ke.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,Ke.jsx)("dd",{className:"mt-1",children:null===r||void 0===r?void 0:r.name})]}),(null===r||void 0===r?void 0:r.displayName)&&(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Display Name"}),(0,Ke.jsx)("dd",{className:"mt-1",children:r.displayName})]}),(null===r||void 0===r?void 0:r.nickname)&&(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Nickname"}),(0,Ke.jsx)("dd",{className:"mt-1",children:r.nickname})]})]})]}),((null===r||void 0===r?void 0:r.role)||(null===r||void 0===r?void 0:r.organization)||(null===r||void 0===r?void 0:r.note))&&(0,Ke.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,Ke.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Professional Information"}),(0,Ke.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[(null===r||void 0===r?void 0:r.role)&&(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,Ke.jsx)("dd",{className:"mt-1",children:r.role})]}),(null===r||void 0===r?void 0:r.organization)&&(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Organization"}),(0,Ke.jsx)("dd",{className:"mt-1",children:r.organization})]})]}),(null===r||void 0===r?void 0:r.note)&&(0,Ke.jsxs)("div",{className:"mt-4",children:[(0,Ke.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Note"}),(0,Ke.jsx)("dd",{className:"mt-1 bg-gray-50 p-3 rounded",children:r.note})]})]}),(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Solid Pod Information"}),(0,Ke.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(null===r||void 0===r?void 0:r.podUrl)&&(0,Ke.jsxs)("div",{className:"bg-green-50 p-3 rounded-md flex items-center border border-green-100",children:[(0,Ke.jsx)("div",{className:"mr-3 rounded-full bg-green-100 p-2",children:(0,Ke.jsx)("svg",{className:"h-5 w-5 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ke.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h4",{className:"text-sm font-medium text-green-800",children:"Pod Storage"}),(0,Ke.jsx)("a",{href:r.podUrl,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline text-sm",children:r.podUrl})]})]}),(null===r||void 0===r?void 0:r.inbox)&&(0,Ke.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-md flex items-center border border-yellow-100",children:[(0,Ke.jsx)("div",{className:"mr-3 rounded-full bg-yellow-100 p-2",children:(0,Ke.jsx)("svg",{className:"h-5 w-5 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ke.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Inbox"}),(0,Ke.jsx)("a",{href:r.inbox,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-600 hover:underline text-sm",children:r.inbox})]})]})]})]}),(null===r||void 0===r?void 0:r.additionalPhotos)&&r.additionalPhotos.length>0&&(0,Ke.jsxs)("div",{className:"mt-6",children:[(0,Ke.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Additional Photos"}),(0,Ke.jsx)("div",{className:"grid grid-cols-2 gap-4",children:r.additionalPhotos.map(((e,t)=>(0,Ke.jsxs)("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[(0,Ke.jsx)("img",{src:e,alt:`Photo ${t+1}`,className:"w-full h-40 object-cover"}),(0,Ke.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 hover:bg-opacity-40 transition-opacity",children:(0,Ke.jsx)("span",{className:"text-transparent hover:text-white",children:"View Full"})})]},t)))})]})]})]})})]}):(0,Ke.jsx)("div",{className:"bg-yellow-50 p-4 rounded-md border border-yellow-200",children:(0,Ke.jsx)("p",{className:"text-yellow-700",children:"You need to log in to view your profile."})})},pt={clientName:"Solid Todo App"},gt={"https://solidweb.org":{name:"SolidWeb",colors:"from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800",icon:"\ud83c\udf10"},"https://inrupt.net":{name:"Inrupt",colors:"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800",icon:"\ud83d\udd12"},"https://solidcommunity.net":{name:"Solid Community",colors:"from-purple-600 to-pink-700 hover:from-purple-700 hover:to-pink-800",icon:"\ud83d\udc65"}};const yt=function(){const[t,r]=(0,e.useState)("https://solidweb.org"),i=gt[t];return(0,Ke.jsxs)("div",{className:"min-h-[70vh] flex flex-col md:flex-row items-center justify-center p-4 md:p-0",children:[(0,Ke.jsxs)("div",{className:"w-full md:w-1/2 mb-8 md:mb-0 p-4 md:p-8 flex flex-col items-center md:items-start text-center md:text-left",children:[(0,Ke.jsx)("div",{className:"mb-6 transform transition-transform hover:scale-105 duration-300",children:(0,Ke.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ke.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,Ke.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Welcome to ",(0,Ke.jsx)("span",{className:"text-blue-600",children:"Solid Todo"})]}),(0,Ke.jsx)("p",{className:"text-lg text-gray-600 max-w-md mb-8",children:"Manage your tasks with complete ownership and privacy using your personal data pod."}),(0,Ke.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-md mb-8 w-full max-w-md shadow-sm",children:[(0,Ke.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"What is Solid?"}),(0,Ke.jsx)("p",{className:"text-blue-700 text-sm",children:"Solid is an open specification that lets people store their data securely in decentralized data stores called Pods. You control access to your data and choose which apps can use it."})]})]}),(0,Ke.jsxs)("div",{className:"w-full md:w-1/2 max-w-md",children:[(0,Ke.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg border border-gray-200 transform transition-all hover:shadow-xl duration-300",children:[(0,Ke.jsxs)("div",{className:"text-center mb-8",children:[(0,Ke.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sign In"}),(0,Ke.jsx)("p",{className:"text-gray-600",children:"Access your tasks with your Solid identity"})]}),(0,Ke.jsxs)("div",{className:"mb-6",children:[(0,Ke.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:"provider",children:"Select your identity provider"}),(0,Ke.jsxs)("div",{className:"relative",children:[(0,Ke.jsx)("select",{id:"provider",className:"block appearance-none w-full bg-gray-50 border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-blue-500",value:t,onChange:e=>{r(e.target.value)},children:Object.keys(gt).map((e=>(0,Ke.jsx)("option",{value:e,children:gt[e].name},e)))}),(0,Ke.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,Ke.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,Ke.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,Ke.jsx)("div",{className:"mb-6",children:(0,Ke.jsxs)(n.LoginButton,{oidcIssuer:t,redirectUrl:window.location.href,authOptions:pt,className:`w-full bg-gradient-to-r ${i.colors} text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md hover:shadow-lg transition-all duration-300 flex justify-center items-center`,children:[(0,Ke.jsx)("span",{className:"mr-2 text-lg",children:i.icon}),(0,Ke.jsxs)("span",{children:["Login with ",i.name]})]})}),(0,Ke.jsxs)("div",{className:"mt-6 flex items-center",children:[(0,Ke.jsx)("div",{className:"flex-1 border-t border-gray-300"}),(0,Ke.jsx)("span",{className:"px-3 text-sm text-gray-500",children:"or try these"}),(0,Ke.jsx)("div",{className:"flex-1 border-t border-gray-300"})]}),(0,Ke.jsx)("div",{className:"mt-6 grid grid-cols-3 gap-3",children:Object.keys(gt).map((e=>(0,Ke.jsxs)(n.LoginButton,{oidcIssuer:t,redirectUrl:window.location.origin+window.location.pathname,authOptions:pt,className:`w-full bg-gradient-to-r ${gt[e].colors} text-white font-medium py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 shadow-sm hover:shadow transition-all duration-300 flex flex-col justify-center items-center text-xs`,children:[(0,Ke.jsx)("span",{className:"text-lg mb-1",children:gt[e].icon}),(0,Ke.jsx)("span",{children:gt[e].name})]})))}),(0,Ke.jsxs)("div",{className:"text-center mt-8",children:[(0,Ke.jsx)("p",{className:"text-sm text-gray-600",children:"Don't have a Solid identity yet?"}),(0,Ke.jsx)("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 font-medium hover:underline",children:"Get a free Solid Pod"})]})]}),(0,Ke.jsx)("div",{className:"mt-8 text-center",children:(0,Ke.jsx)("p",{className:"text-xs text-gray-500",children:"This application respects your privacy and only accesses the data you authorize."})})]})]})};const vt=function(){const{session:t}=(0,n.useSession)(),[r,i]=(0,e.useState)(),[o,a]=(0,e.useState)("todos");(0,e.useEffect)((()=>{t&&t.info.isLoggedIn&&(async()=>{const e=`${he(be(await Fe(t.info.webId,{fetch:t.fetch}),t.info.webId),"http://www.w3.org/ns/pim/space#storage")[0]}todos/`,r=await Ve(e,t.fetch);i(r)})()}),[t,t.info.isLoggedIn]);const s=e=>{a(e)};return t.info.isLoggedIn?(0,Ke.jsx)("div",{className:"max-w-4xl mx-auto my-8 p-6 bg-white rounded-lg shadow-lg",children:(0,Ke.jsxs)(n.CombinedDataProvider,{datasetUrl:t.info.webId,thingUrl:t.info.webId,children:[(0,Ke.jsxs)("div",{className:"mb-8 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-md flex items-center justify-between",children:[(0,Ke.jsxs)("div",{className:"flex items-center",children:[(0,Ke.jsx)("span",{className:"font-medium mr-2",children:"You are logged in as: "}),(0,Ke.jsx)(n.Text,{properties:["http://xmlns.com/foaf/0.1/name","http://www.w3.org/2006/vcard/ns#fn"],className:"font-semibold"})]}),(0,Ke.jsx)(n.LogoutButton,{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors"})]}),(0,Ke.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,Ke.jsxs)("nav",{className:"-mb-px flex space-x-6",children:[(0,Ke.jsx)("button",{onClick:()=>s("todos"),className:"py-3 px-1 "+("todos"===o?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Todo List"}),(0,Ke.jsx)("button",{onClick:()=>s("profile"),className:"py-3 px-1 "+("profile"===o?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"My Profile"})]})}),"todos"===o?(0,Ke.jsxs)("section",{children:[(0,Ke.jsx)(Je,{todoList:r,setTodoList:i}),(0,Ke.jsx)(Ye,{todoList:r,setTodoList:i})]}):(0,Ke.jsx)(ht,{})]})}):(0,Ke.jsx)("div",{className:"mx-auto my-8 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl shadow-lg overflow-hidden",children:(0,Ke.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,Ke.jsxs)("div",{className:"text-center mb-8",children:[(0,Ke.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Solid Todo App"}),(0,Ke.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Manage your tasks securely with data ownership"})]}),(0,Ke.jsx)(yt,{})]})})},mt=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:o,getTTFB:a}=t;r(e),n(e),i(e),o(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,Ke.jsx)(e.StrictMode,{children:(0,Ke.jsx)(n.SessionProvider,{children:(0,Ke.jsx)(vt,{})})})),mt()})()})();
//# sourceMappingURL=main.71079415.js.map